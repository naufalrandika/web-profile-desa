!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("mapboxgl"));else if("function"==typeof define&&define.amd)define(["mapboxgl"],e);else{var n="object"==typeof exports?e(require("mapboxgl")):e(t.mapboxgl);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(t){return function(){var e={7282:function(t,e,n){"use strict";var r,i,o,a=n(6565).default;o=function(){function t(t){var r=[];return t.AMapUI&&r.push(e(t.AMapUI)),t.Loca&&r.push(n(t.Loca)),Promise.all(r)}function e(t){return new Promise((function(e,n){var i=[];if(t.plugins)for(var u=0;u<t.plugins.length;u+=1)-1==o.AMapUI.plugins.indexOf(t.plugins[u])&&i.push(t.plugins[u]);if(a.AMapUI===r.failed)n("前次请求 AMapUI 失败");else if(a.AMapUI===r.notload){a.AMapUI=r.loading,o.AMapUI.version=t.version||o.AMapUI.version,u=o.AMapUI.version;var c=document.body||document.head,l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/ui/"+u+"/main.js",l.onerror=function(t){a.AMapUI=r.failed,n("请求 AMapUI 失败")},l.onload=function(){if(a.AMapUI=r.loaded,i.length)window.AMapUI.loadUI(i,(function(){for(var t=0,n=i.length;t<n;t++){var r=i[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}for(e();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()}));else for(e();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},c.appendChild(l)}else a.AMapUI===r.loaded?t.version&&t.version!==o.AMapUI.version?n("不允许多个版本 AMapUI 混用"):i.length?window.AMapUI.loadUI(i,(function(){for(var t=0,n=i.length;t<n;t++){var r=i[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}e()})):e():t.version&&t.version!==o.AMapUI.version?n("不允许多个版本 AMapUI 混用"):s.AMapUI.push((function(t){t?n(t):i.length?window.AMapUI.loadUI(i,(function(){for(var t=0,n=i.length;t<n;t++){var r=i[t].split("/").slice(-1)[0];window.AMapUI[r]=arguments[t]}e()})):e()}))}))}function n(t){return new Promise((function(e,n){if(a.Loca===r.failed)n("前次请求 Loca 失败");else if(a.Loca===r.notload){a.Loca=r.loading,o.Loca.version=t.version||o.Loca.version;var i=o.Loca.version,u=o.AMap.version.startsWith("2"),c=i.startsWith("2");if(u&&!c||!u&&c)n("JSAPI 与 Loca 版本不对应！！");else{u=o.key,c=document.body||document.head;var l=document.createElement("script");l.type="text/javascript",l.src="https://webapi.amap.com/loca?v="+i+"&key="+u,l.onerror=function(t){a.Loca=r.failed,n("请求 AMapUI 失败")},l.onload=function(){for(a.Loca=r.loaded,e();s.Loca.length;)s.Loca.splice(0,1)[0]()},c.appendChild(l)}}else a.Loca===r.loaded?t.version&&t.version!==o.Loca.version?n("不允许多个版本 Loca 混用"):e():t.version&&t.version!==o.Loca.version?n("不允许多个版本 Loca 混用"):s.Loca.push((function(t){t?n(t):n()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var r,i;(i=r||(r={})).notload="notload",i.loading="loading",i.loaded="loaded",i.failed="failed";var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},a={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},s={AMap:[],AMapUI:[],Loca:[]},u=[];return{load:function(e){return new Promise((function(n,i){if(a.AMap==r.failed)i("");else if(a.AMap==r.notload){var s=e.key,c=e.version,l=e.plugins;s?(window.AMap&&"lbs.amap.com"!==location.host&&i("禁止多种API加载方式混用"),o.key=s,o.AMap.version=c||o.AMap.version,o.AMap.plugins=l||o.AMap.plugins,a.AMap=r.loading,c=document.body||document.head,window.___onAPILoaded=function(o){if(delete window.___onAPILoaded,o)a.AMap=r.failed,i(o);else for(a.AMap=r.loaded,t(e).then((function(){n(window.AMap)})).catch(i);u.length;)u.splice(0,1)[0]()},(l=document.createElement("script")).type="text/javascript",l.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+s+"&plugin="+o.AMap.plugins.join(","),l.onerror=function(t){a.AMap=r.failed,i(t)},c.appendChild(l)):i("请填写key")}else if(a.AMap==r.loaded)if(e.key&&e.key!==o.key)i("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)i("不允许多个版本 JSAPI 混用");else{if(s=[],e.plugins)for(c=0;c<e.plugins.length;c+=1)-1==o.AMap.plugins.indexOf(e.plugins[c])&&s.push(e.plugins[c]);s.length?window.AMap.plugin(s,(function(){t(e).then((function(){n(window.AMap)})).catch(i)})):t(e).then((function(){n(window.AMap)})).catch(i)}else if(e.key&&e.key!==o.key)i("多个不一致的 key");else if(e.version&&e.version!==o.AMap.version)i("不允许多个版本 JSAPI 混用");else{var h=[];if(e.plugins)for(c=0;c<e.plugins.length;c+=1)-1==o.AMap.plugins.indexOf(e.plugins[c])&&h.push(e.plugins[c]);!function(t){"function"==typeof t&&(a.AMap===r.loaded?t(window.AMap):u.push(t))}((function(){h.length?window.AMap.plugin(h,(function(){t(e).then((function(){n(window.AMap)})).catch(i)})):t(e).then((function(){n(window.AMap)})).catch(i)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},a={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},s={AMap:[],AMapUI:[],Loca:[]}}}},"object"===a(e)?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},8421:function(t){function e(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}t.exports=e,e.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},e.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},e.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},e.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},e.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},4778:function(t){"use strict";function e(t,e,r){r=r||2;var o,a,s,u,h,f,d,v=e&&e.length,g=v?e[0]*r:t.length,m=n(t,0,g,r,!0),y=[];if(!m||m.next===m.prev)return y;if(v&&(m=function(t,e,r,i){var o,a,s,u=[];for(o=0,a=e.length;o<a;o++)(s=n(t,e[o]*i,o<a-1?e[o+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),u.push(p(s));for(u.sort(c),o=0;o<u.length;o++)r=l(u[o],r);return r}(t,e,m,r)),t.length>80*r){o=s=t[0],a=u=t[1];for(var _=r;_<g;_+=r)(h=t[_])<o&&(o=h),(f=t[_+1])<a&&(a=f),h>s&&(s=h),f>u&&(u=f);d=0!==(d=Math.max(s-o,u-a))?32767/d:0}return i(m,y,r,o,a,d,0),y}function n(t,e,n,r,i){var o,a;if(i===S(t,e,n,r)>0)for(o=e;o<n;o+=r)a=T(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=T(o,t[o],t[o+1],a);return a&&m(a,a.next)&&(w(a),a=a.next),a}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(w(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,c,l,h,p){if(t){!p&&h&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,c,l,h);for(var d,v,g=t;t.prev!==t.next;)if(d=t.prev,v=t.next,h?a(t,c,l,h):o(t))e.push(d.i/n|0),e.push(t.i/n|0),e.push(v.i/n|0),w(t),t=v.next,g=v.next;else if((t=v)===g){p?1===p?i(t=s(r(t),e,n),e,n,c,l,h,2):2===p&&u(t,e,n,c,l,h):i(r(t),e,n,c,l,h,1);break}}}function o(t){var e=t.prev,n=t,r=t.next;if(g(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,a=r.x,s=e.y,u=n.y,c=r.y,l=i<o?i<a?i:a:o<a?o:a,h=s<u?s<c?s:c:u<c?u:c,f=i>o?i>a?i:a:o>a?o:a,p=s>u?s>c?s:c:u>c?u:c,v=r.next;v!==e;){if(v.x>=l&&v.x<=f&&v.y>=h&&v.y<=p&&d(i,s,o,u,a,c,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function a(t,e,n,r){var i=t.prev,o=t,a=t.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,c=a.x,l=i.y,h=o.y,p=a.y,v=s<u?s<c?s:c:u<c?u:c,m=l<h?l<p?l:p:h<p?h:p,y=s>u?s>c?s:c:u>c?u:c,_=l>h?l>p?l:p:h>p?h:p,E=f(v,m,e,n,r),b=f(y,_,e,n,r),x=t.prevZ,T=t.nextZ;x&&x.z>=E&&T&&T.z<=b;){if(x.x>=v&&x.x<=y&&x.y>=m&&x.y<=_&&x!==i&&x!==a&&d(s,l,u,h,c,p,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,T.x>=v&&T.x<=y&&T.y>=m&&T.y<=_&&T!==i&&T!==a&&d(s,l,u,h,c,p,T.x,T.y)&&g(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;x&&x.z>=E;){if(x.x>=v&&x.x<=y&&x.y>=m&&x.y<=_&&x!==i&&x!==a&&d(s,l,u,h,c,p,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;T&&T.z<=b;){if(T.x>=v&&T.x<=y&&T.y>=m&&T.y<=_&&T!==i&&T!==a&&d(s,l,u,h,c,p,T.x,T.y)&&g(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function s(t,e,n){var i=t;do{var o=i.prev,a=i.next.next;!m(o,a)&&y(o,i,i.next,a)&&b(o,a)&&b(a,o)&&(e.push(o.i/n|0),e.push(i.i/n|0),e.push(a.i/n|0),w(i),w(i.next),i=t=a),i=i.next}while(i!==t);return r(i)}function u(t,e,n,o,a,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&v(u,c)){var l=x(u,c);return u=r(u,u.next),l=r(l,l.next),i(u,e,n,o,a,s,0),void i(l,e,n,o,a,s,0)}c=c.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function l(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==e);if(!n)return null;var u,c=n,l=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&d(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),b(r,t)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,p=u)),r=r.next}while(r!==c);return n}(t,e);if(!n)return e;var i=x(n,t);return r(i,i.next),r(n,n.next)}function h(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function d(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&y(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(b(t,e)&&b(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||m(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,n,r){var i=E(g(t,e,n)),o=E(g(t,e,r)),a=E(g(n,r,t)),s=E(g(n,r,e));return i!==o&&a!==s||(!(0!==i||!_(t,n,e))||(!(0!==o||!_(t,r,e))||(!(0!==a||!_(n,t,r))||!(0!==s||!_(n,e,r)))))}function _(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function E(t){return t>0?1:t<0?-1:0}function b(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function x(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(t,e,n,r){var i=new A(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(S(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(S(t,c,l,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},2529:function(t){function e(t){var e=t.target||t.srcElement;e.__resizeRAF__&&cancelAnimationFrame(e.__resizeRAF__),e.__resizeRAF__=requestAnimationFrame((function(){var n=e.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(e){e.call(n,t)}))}))}var n=function(t,n){var r,i=this.document,o=i.attachEvent;if("undefined"!=typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!t.__resizeListeners__)if(t.__resizeListeners__=[],o)t.__resizeTrigger__=t,t.attachEvent("onresize",e);else{"static"===getComputedStyle(t).position&&(t.style.position="relative");var a=t.__resizeTrigger__=i.createElement("object");a.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),a.setAttribute("class","resize-sensor"),a.setAttribute("tabindex","-1"),a.setAttribute("title",""),a.__resizeElement__=t,a.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",e)},a.type="text/html",r&&t.appendChild(a),a.data="about:blank",r||t.appendChild(a)}t.__resizeListeners__.push(n)};t.exports="undefined"==typeof window?n:n.bind(window),t.exports.unbind=function(t,n){var r=document.attachEvent,i=t.__resizeListeners__||[];if(n){var o=i.indexOf(n);-1!==o&&i.splice(o,1)}else i=t.__resizeListeners__=[];if(!i.length){if(r)t.detachEvent("onresize",e);else if(t.__resizeTrigger__){var a=t.__resizeTrigger__.contentDocument,s=a&&a.defaultView;s&&(s.removeEventListener("resize",e),delete s.__resizeTrigger__),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)}delete t.__resizeListeners__}}},2490:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,r);break;case 4:l[c].fn.call(l[c].context,e,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},7440:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function r(t,e,r,i){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i&&!Reflect.hasMetadata(n,this,e)&&Reflect.defineMetadata(n,r(),this,e),Reflect.hasMetadata(n,this,e)?Reflect.getMetadata(n,this,e):r()},set:function(t){Reflect.defineMetadata(n,t,this,e)}})}e.makePropertyInjectDecorator=function(t,e){return function(n){return function(i,o){r(i,o,(function(){return t.get(n)}),e)}}},e.makePropertyInjectNamedDecorator=function(t,e){return function(n,i){return function(o,a){r(o,a,(function(){return t.getNamed(n,i)}),e)}}},e.makePropertyInjectTaggedDecorator=function(t,e){return function(n,i,o){return function(a,s){r(a,s,(function(){return t.getTagged(n,i,o)}),e)}}},e.makePropertyMultiInjectDecorator=function(t,e){return function(n){return function(i,o){r(i,o,(function(){return t.getAll(n)}),e)}}}},3506:function(t,e,n){"use strict";var r=n(7440);e.Z=function(t,e){return void 0===e&&(e=!0),{lazyInject:r.makePropertyInjectDecorator(t,e),lazyInjectNamed:r.makePropertyInjectNamedDecorator(t,e),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(t,e),lazyMultiInject:r.makePropertyMultiInjectDecorator(t,e)}}},3926:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(1e3),i=n(265);function o(t,e,n,i,o){var a={},s="number"==typeof o,u=void 0!==o&&s?o.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var c=a[u];if(Array.isArray(c))for(var l=0,h=c;l<h.length;l++){var f=h[l];if(f.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+f.key.toString())}else c=[];c.push(i),a[u]=c,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function s(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){o(i.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){o(i.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"==typeof n?a([s(n,t)],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}},3411:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(1e3),i=n(265),o=n(5693),a=n(3926),s=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=s,e.inject=function(t){return function(e,n,s){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"==typeof s?a.tagParameter(e,n,s,u):a.tagProperty(e,n,u)}}},6948:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(1e3),i=n(265);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,e,t),t}}},7369:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(265),i=n(5693),o=n(3926);e.multiInject=function(t){return function(e,n,a){var s=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},3334:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(265),i=n(5693),o=n(3926);e.named=function(t){return function(e,n,a){var s=new i.Metadata(r.NAMED_TAG,t);"number"==typeof a?o.tagParameter(e,n,a,s):o.tagProperty(e,n,s)}}},5645:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(265),i=n(5693),o=n(3926);e.optional=function(){return function(t,e,n){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(t,e,n,a):o.tagProperty(t,e,a)}}},5660:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(1e3),i=n(265),o=n(5693);e.postConstruct=function(){return function(t,e,n){var a=new o.Metadata(i.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(5693),i=n(3926);e.tagged=function(t,e){return function(n,o,a){var s=new r.Metadata(t,e);"number"==typeof a?i.tagParameter(n,o,a,s):i.tagProperty(n,o,s)}}},7620:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(265),i=n(5693),o=n(3926);e.targetName=function(t){return function(e,n,a){var s=new i.Metadata(r.NAME_TAG,t);o.tagParameter(e,n,a,s)}}},7612:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(265),i=n(5693),o=n(3926);e.unmanaged=function(){return function(t,e,n){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,e,n,a)}}},2002:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(3243),i=n(5231),o=function(){function t(t,e){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===r.BindingScopeEnum.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=o},9709:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},1e3:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]};e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},3243:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},265:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NON_CUSTOM_TAG_KEYS=e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct",e.NON_CUSTOM_TAG_KEYS=[e.INJECT_TAG,e.MULTI_INJECT_TAG,e.NAME_TAG,e.UNMANAGED_TAG,e.NAMED_TAG,e.OPTIONAL_TAG]},9768:function(t,e,n){"use strict";var r=n(6565).default,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var s=n(2002),u=n(1e3),c=n(3243),l=n(265),h=n(8551),f=n(9736),p=n(6512),d=n(9250),v=n(5231),g=n(8825),m=n(8977),y=n(4001),_=function(){function t(t){this._appliedMiddleware=[];var e=t||{};if("object"!==r(e))throw new Error(""+u.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=c.BindingScopeEnum.Transient;else if(e.defaultScope!==c.BindingScopeEnum.Singleton&&e.defaultScope!==c.BindingScopeEnum.Transient&&e.defaultScope!==c.BindingScopeEnum.Request)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=v.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new h.MetadataReader}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,s=a([e,n],r).map((function(t){return f.getBindingDictionary(t)})),u=f.getBindingDictionary(o);function c(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return s.forEach((function(t){c(t,u)})),o},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(this,void 0,void 0,(function(){var e,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,o.label=1;case 1:return n<r.length?(i=r[n],a=e(i.id),[4,i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||c.BindingScopeEnum.Transient,n=new s.Binding(t,e);return this._bindingDictionary.add(t,n),new d.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(u.CANNOT_UNBIND+" "+g.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,l.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=f.createMockRequest(this,t,e,n);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(u.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,c.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,c.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,l.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,c.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,c.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,l.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){e.applyMiddleware(t)})),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var i=t.rebind.bind(t)(r);return e(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=t.bind.bind(t)(n);return e(r,i),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var i}},t.prototype._get=function(t,e,n,r,i,o){var a=null,s={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(s)))throw new Error(u.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(s);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=f.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),p.resolve(n)}},t}();e.Container=_},7654:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(5231),i=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=o},8977:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var n=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=n},4001:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(1e3),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var i=n.filter((function(e){return!t(e)}));i.length>0?e._map.set(r,i):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=i},5075:function(t,e,n){"use strict";e.GW=e.zY=e.f3=e.b2=e.W2=void 0,n(265);var r=n(9768);Object.defineProperty(e,"W2",{enumerable:!0,get:function(){return r.Container}});var i=n(3243);var o=n(7654);var a=n(6948);Object.defineProperty(e,"b2",{enumerable:!0,get:function(){return a.injectable}});var s=n(413);var u=n(3334);var c=n(3411);Object.defineProperty(e,"f3",{enumerable:!0,get:function(){return c.inject}});var l=n(5645);var h=n(7612);var f=n(7369);var p=n(7620);var d=n(5660);Object.defineProperty(e,"zY",{enumerable:!0,get:function(){return d.postConstruct}});var v=n(8551);var g=n(5231);var m=n(3926);Object.defineProperty(e,"GW",{enumerable:!0,get:function(){return m.decorate}});var y=n(3847);var _=n(8825);var E=n(4984)},8193:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(5231),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=i},5693:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(265),i=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=i},8551:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(265),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=i},4570:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var n=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=n},9736:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(9709),i=n(1e3),o=n(3243),a=n(265),s=n(6826),u=n(8825),c=n(8193),l=n(5693),h=n(4570),f=n(7441),p=n(4385),d=n(8964);function v(t){return t._bindingDictionary}function g(t,e,n,o,a){var s=y(n.container,a.serviceIdentifier),c=[];return s.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),s=y(n.container,a.serviceIdentifier)),c=e?s:s.filter((function(t){var e=new p.Request(t.serviceIdentifier,n,o,t,a);return t.constraint(e)})),function(t,e,n,o){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=u.getServiceIdentifierAsString(t),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(a,n),s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=u.getServiceIdentifierAsString(t),s=i.AMBIGUOUS_MATCH+" "+a;throw s+=u.listRegisteredBindingsForServiceIdentifier(o,a,y),new Error(s)}}(a.serviceIdentifier,c,a,n.container),c}function m(t,e,n,r,a,s){var u,c;if(null===a){u=g(t,e,r,null,s),c=new p.Request(n,r,null,u,s);var l=new h.Plan(r,c);r.addPlan(l)}else u=g(t,e,r,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(e){var n=null;if(s.isArray())n=c.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=c}if(e.type===o.BindingTypeEnum.Instance&&null!==e.implementationType){var a=f.getDependencies(t,e.implementationType);if(!r.container.options.skipBaseClassChecks){var u=f.getBaseClassDependencyCount(t,e.implementationType);if(a.length<u){var l=i.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(e.implementationType));throw new Error(l)}}a.forEach((function(e){m(t,!1,e.serviceIdentifier,r,n,e)}))}}))}function y(t,e){var n=[],r=v(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=y(t.parent,e)),n}e.getBindingDictionary=v,e.plan=function(t,e,n,r,i,o,h,f){void 0===f&&(f=!1);var p=new c.Context(e),v=function(t,e,n,r,i,o){var s=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new l.Metadata(s,n),c=new d.Target(e,r,n,u);if(void 0!==i){var h=new l.Metadata(i,o);c.metadata.push(h)}return c}(n,r,i,"",o,h);try{return m(t,f,i,p,null,v),p}catch(t){throw s.isStackOverflowExeption(t)&&p.plan&&u.circularDependencyToException(p.plan.rootRequest),t}},e.createMockRequest=function(t,e,n,r){var i=new d.Target(o.TargetTypeEnum.Variable,"",e,new l.Metadata(n,r)),a=new c.Context(t);return new p.Request(e,a,null,[],i)}},1715:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var n=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=n},7441:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var i=n(3411),o=n(1e3),a=n(3243),s=n(265),u=n(8825);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var c=n(8964);function l(t,e,n,i){var a=t.getConstructorMetadata(n),s=a.compilerGeneratedMetadata;if(void 0===s){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(u)}var c=a.userGeneratedMetadata,l=Object.keys(c),p=0===n.length&&l.length>0,d=l.length>n.length,v=function(t,e,n,r,i){for(var o=[],a=0;a<i;a++){var s=h(a,t,e,n,r);null!==s&&o.push(s)}return o}(i,e,s,c,p||d?l.length:n.length),g=f(t,n);return r(r([],v),g)}function h(t,e,n,r,s){var u=s[t.toString()]||[],l=p(u),h=!0!==l.unmanaged,f=r[t],d=l.inject||l.multiInject;if((f=d||f)instanceof i.LazyServiceIdentifer&&(f=f.unwrap()),h){if(!e&&(f===Object||f===Function||void 0===f)){var v=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(v)}var g=new c.Target(a.TargetTypeEnum.ConstructorArgument,l.targetName,f);return g.metadata=u,g}return null}function f(t,e){for(var n=t.getPropertiesMetadata(e),i=[],o=0,s=Object.keys(n);o<s.length;o++){var u=s[o],l=n[u],h=p(n[u]),d=h.targetName||u,v=h.inject||h.multiInject,g=new c.Target(a.TargetTypeEnum.ClassProperty,d,v);g.metadata=l,i.push(g)}var m=Object.getPrototypeOf(e.prototype).constructor;if(m!==Object){var y=f(t,m);i=r(r([],i),y)}return i}function p(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[s.INJECT_TAG],multiInject:e[s.MULTI_INJECT_TAG],targetName:e[s.NAME_TAG],unmanaged:e[s.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return l(t,u.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(e,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===s.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,c=i.length-a;return c>0?c:t(e,r)}return 0}},4385:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(5231),i=function(){function t(t,e,n,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();e.Request=i},8964:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(265),i=n(5231),o=n(5693),a=n(1715),s=function(){function t(t,e,n,s){this.id=i.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var u=null;"string"==typeof s?u=new o.Metadata(r.NAMED_TAG,s):s instanceof o.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,i=e.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===n)return!0}return!1}},t}();e.Target=s},5113:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var i=n(1e3),o=n(3243),a=n(265);e.resolveInstance=function(t,e,n){var s,u,c=null;if(e.length>0){var l=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);u=l,c=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var o=i[n];t[r]=o})),t}(c=new((s=t).bind.apply(s,r([void 0],u))),e,n)}else c=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,e.message))}}}(t,c),c}},6512:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(1e3),i=n(3243),o=n(6826),a=n(8825),s=n(5113),u=function(t,e,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}},c=function t(e){return function(n){n.parentContext.setCurrentRequest(n);var o=n.bindings,c=n.childRequests,l=n.target&&n.target.isArray(),h=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(l&&h)return c.map((function(n){return t(e)(n)}));var f=null;if(!n.target.isOptional()||0!==o.length){var p=o[0],d=p.scope===i.BindingScopeEnum.Singleton,v=p.scope===i.BindingScopeEnum.Request;if(d&&p.activated)return p.cache;if(v&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)f=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Function)f=p.cache,p.activated=!0;else if(p.type===i.BindingTypeEnum.Constructor)f=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)f=u("toDynamicValue",p.serviceIdentifier,(function(){return p.dynamicValue(n.parentContext)}));else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)f=u("toFactory",p.serviceIdentifier,(function(){return p.factory(n.parentContext)}));else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)f=u("toProvider",p.serviceIdentifier,(function(){return p.provider(n.parentContext)}));else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var g=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+g)}f=s.resolveInstance(p.implementationType,c,t(e))}return"function"==typeof p.onActivation&&(f=p.onActivation(n.parentContext,f)),d&&(p.cache=f,p.activated=!0),v&&null!==e&&!e.has(p.id)&&e.set(p.id,f),f}}};e.resolve=function(t){return c(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},1269:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(3243),i=n(4010),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=o},868:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(1269),i=n(279),o=n(9547),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},279:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(9547),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=i},9250:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(1e3),i=n(3243),o=n(868),a=n(4010),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,e},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=s},4010:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(279),i=n(9547),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=o},9547:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(279),i=n(3847),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=i.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return i.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return i.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return i.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=o},3847:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(265),i=n(5693);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var o=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new i.Metadata(t,e),n}};e.taggedConstraint=o;var a=o(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},4984:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0;e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},6826:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(1e3);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},5231:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var n=0;e.id=function(){return n++}},8825:function(t,e,n){"use strict";var r=n(6565).default;Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var i=n(1e3);function o(t){return"function"==typeof t?t.name:"symbol"===r(t)?t.toString():t}function a(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||a(t.parentRequest,e))}function s(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=o,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",i=n(t,e);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var e="Object";null!==t.implementationType&&(e=s(t.implementationType)),r=r+"\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(a(e,e.serviceIdentifier)){var n=function(t){var e=function t(e,n){void 0===n&&(n=[]);var r=o(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t);return e.reverse().join(" --\x3e ")}(e);throw new Error(i.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t},e.getFunctionName=s},8778:function(t){"use strict";t.exports=n,t.exports.default=n;var e=1e20;function n(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer,u="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM;u?this.canvas=my.createOffscreenCanvas(a,a,"2d"):(this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a),this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=u?Math.round(a/2*1):Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(t,e,n,r,o,a){for(var s=0;s<e;s++)i(t,s,e,n,r,o,a);for(var u=0;u<n;u++)i(t,u*e,1,e,r,o,a)}function i(t,n,r,i,o,a,s){var u,c,l,h;for(a[0]=0,s[0]=-e,s[1]=e,u=0;u<i;u++)o[u]=t[n+u*r];for(u=1,c=0,l=0;u<i;u++){do{h=a[c],l=(o[u]-o[h]+u*u-h*h)/(u-h)/2}while(l<=s[c]&&--c>-1);a[++c]=u,s[c]=l,s[c+1]=e}for(u=0,c=0;u<i;u++){for(;s[c+1]<u;)c++;h=a[c],t[n+u*r]=o[h]+(u-h)*(u-h)}}n.prototype._draw=function(t,n){var i,o,a,s,u,c,l,h,f,p=this.ctx.measureText(t),d=p.width,v=2*this.buffer;n&&this.useMetrics?(u=Math.floor(p.actualBoundingBoxAscent),h=this.buffer+Math.ceil(p.actualBoundingBoxAscent),c=this.buffer,l=this.buffer,i=(o=Math.min(this.size,Math.ceil(p.actualBoundingBoxRight-p.actualBoundingBoxLeft)))+v,a=(s=Math.min(this.size-c,Math.ceil(p.actualBoundingBoxAscent+p.actualBoundingBoxDescent)))+v,this.ctx.textBaseline="alphabetic"):(i=o=this.size,a=s=this.size,u=19*this.fontSize/24,c=l=0,h=this.middle,this.ctx.textBaseline="middle"),o&&s&&(this.ctx.clearRect(l,c,o,s),this.ctx.fillText(t,this.buffer,h),f=this.ctx.getImageData(l,c,o,s));var g=new Uint8ClampedArray(i*a);return function(t,n,r,i,o,a,s){a.fill(e,0,n*r),s.fill(0,0,n*r);for(var u=(n-i)/2,c=0;c<o;c++)for(var l=0;l<i;l++){var h=(c+u)*n+l+u,f=t.data[4*(c*i+l)+3]/255;if(1===f)a[h]=0,s[h]=e;else if(0===f)a[h]=e,s[h]=0;else{var p=Math.max(0,.5-f),d=Math.max(0,f-.5);a[h]=p*p,s[h]=d*d}}}(f,i,a,o,s,this.gridOuter,this.gridInner),r(this.gridOuter,i,a,this.f,this.v,this.z),r(this.gridInner,i,a,this.f,this.v,this.z),function(t,e,n,r,i,o,a){for(var s=0;s<e*n;s++){var u=Math.sqrt(r[s])-Math.sqrt(i[s]);t[s]=Math.round(255-255*(u/o+a))}}(g,i,a,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:g,metrics:{width:o,height:s,sdfWidth:i,sdfHeight:a,top:u,left:0,advance:d}}},n.prototype.draw=function(t){return this._draw(t,!1).data},n.prototype.drawWithMetrics=function(t){return this._draw(t,!0)}},8191:function(t,e,n){var r,i=n(6565).default;!function(o,a,s,u){"use strict";var c,l="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,h="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),f=l||h,p=["","webkit","Moz","MS","ms","o"],d=f?"":a.createElement("div"),v=Math.round,g=Math.abs,m=Date.now;function y(t,e,n){return setTimeout(A(t,n),e)}function _(t,e,n){return!!Array.isArray(t)&&(E(t,n[e],n),!0)}function E(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==u)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function b(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(t===u||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==u&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var x=b((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===u)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),T=b((function(t,e){return x(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function A(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return"function"==i(t)?t.apply(e&&e[0]||u,e):t}function M(t,e){return t===u?e:t}function C(t,e,n){E(P(e),(function(e){t.addEventListener(e,n,!1)}))}function R(t,e,n){E(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function L(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];O(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function D(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<p.length;){if((r=(n=p[o])?n+i:e)in t)return r;o++}return u}var F=1;function B(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var U="ontouchstart"in o,j=D(o,"PointerEvent")!==u,z=U&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),G="touch",V="mouse",H=24,X=["x","y"],W=["clientX","clientY"];function Z(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function Y(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=q(e));i>1&&!n.firstMultiple?n.firstMultiple=q(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=K(r);e.timeStamp=m(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=tt(s,c),e.distance=J(s,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=$(e.deltaX,e.deltaY);var l=Q(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=g(l.x)>g(l.y)?l.x:l.y,e.scale=a?(h=a.pointers,f=r,J(f[0],f[1],W)/J(h[0],h[1],W)):1,e.rotation=a?function(t,e){return tt(e[1],e[0],W)+tt(t[1],t[0],W)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||a.velocity===u)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=Q(s,c,l);r=h.x,i=h.y,n=g(h.x)>g(h.y)?h.x:h.y,o=$(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h,f;var p=t.element;k(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:v(t.pointers[n].clientX),clientY:v(t.pointers[n].clientY)},n++;return{timeStamp:m(),pointers:e,center:K(e),deltaX:t.deltaX,deltaY:t.deltaY}}function K(t){var e=t.length;if(1===e)return{x:v(t[0].clientX),y:v(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:v(n/e),y:v(r/e)}}function Q(t,e,n){return{x:e/t||0,y:n/t||0}}function $(t,e){return t===e?1:g(t)>=g(e)?t<0?2:4:e<0?8:16}function J(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function tt(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}Z.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(B(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(B(this.element),this.evWin,this.domHandler)}};var et={mousedown:1,mousemove:2,mouseup:4},nt="mousedown",rt="mousemove mouseup";function it(){this.evEl=nt,this.evWin=rt,this.pressed=!1,Z.apply(this,arguments)}w(it,Z,{handler:function(t){var e=et[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:V,srcEvent:t}))}});var ot={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},at={2:G,3:"pen",4:V,5:"kinect"},st="pointerdown",ut="pointermove pointerup pointercancel";function ct(){this.evEl=st,this.evWin=ut,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f||!o.MSPointerEvent||o.PointerEvent||(st="MSPointerDown",ut="MSPointerMove MSPointerUp MSPointerCancel"),w(ct,Z,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ot[r],o=at[t.pointerType]||t.pointerType,a=o==G,s=O(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var lt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ht="touchstart",ft="touchstart touchmove touchend touchcancel";function pt(){this.evTarget=ht,this.evWin=ft,this.started=!1,Z.apply(this,arguments)}function dt(t,e){var n=N(t.touches),r=N(t.changedTouches);return 12&e&&(n=L(n.concat(r),"identifier",!0)),[n,r]}w(pt,Z,{handler:function(t){var e=lt[t.type];if(1===e&&(this.started=!0),this.started){var n=dt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:G,srcEvent:t})}}});var vt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},gt="touchstart touchmove touchend touchcancel";function mt(){this.evTarget=gt,this.targetIds={},Z.apply(this,arguments)}function yt(t,e){var n=N(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=N(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return k(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[L(o.concat(s),"identifier",!0),s]:void 0}w(mt,Z,{handler:function(t){var e=vt[t.type],n=yt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:G,srcEvent:t})}});function _t(){Z.apply(this,arguments);var t=A(this.handler,this);this.touch=new mt(this.manager,t),this.mouse=new it(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):12&t&&bt.call(this,e)}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function xt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}w(_t,Z,{handler:function(t,e,n){var r=n.pointerType==G,i=n.pointerType==V;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Et.call(this,e,n);else if(i&&xt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Tt=f?u:D(d.style,"touchAction"),wt=Tt!==u,At="compute",St="auto",Mt="manipulation",Ct="none",Rt="pan-x",kt="pan-y",It=function(){if(!wt)return!1;var t={};if(f)return t;var e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||o.CSS.supports("touch-action",n)})),t}();function Pt(t,e){this.manager=t,this.set(e)}Pt.prototype={set:function(t){t==At&&(t=this.compute()),wt&&this.manager.element.style&&It[t]&&(this.manager.element.style[Tt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return E(this.manager.recognizers,(function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(I(t,Ct))return Ct;var e=I(t,Rt),n=I(t,kt);if(e&&n)return Ct;if(e||n)return e?Rt:kt;if(I(t,Mt))return Mt;return St}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=I(r,Ct)&&!It[Ct],o=I(r,kt)&&!It[kt],a=I(r,Rt)&&!It[Rt];if(i){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return i||o&&6&n||a&&n&H?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=32;function Nt(t){this.options=c({},this.defaults,t||{}),this.id=F++,this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Lt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Dt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function Ft(t,e){var n=e.manager;return n?n.get(t):t}function Bt(){Nt.apply(this,arguments)}function Ut(){Bt.apply(this,arguments),this.pX=null,this.pY=null}function jt(){Bt.apply(this,arguments)}function zt(){Nt.apply(this,arguments),this._timer=null,this._input=null}function Gt(){Bt.apply(this,arguments)}function Vt(){Bt.apply(this,arguments)}function Ht(){Nt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Xt(t,e){return(e=e||{}).recognizers=M(e.recognizers,Xt.defaults.preset),new Wt(t,e)}Nt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(_(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ft(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return _(t,"dropRecognizeWith",this)||(t=Ft(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(_(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=Ft(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(_(t,"dropRequireFailure",this))return this;t=Ft(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Lt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Lt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Ot},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=Ot);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Bt,Nt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:Ot}}),w(Ut,Bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(kt),t&H&&e.push(Rt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Dt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(jt,Bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ct]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(zt,Nt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[St]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=y((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Ot},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),w(Gt,Bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ct]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),w(Vt,Bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ut.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&H&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&g(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Dt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Ht,Nt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Mt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||J(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=y((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Ot},failTimeout:function(){return this._timer=y((function(){this.state=Ot}),this.options.interval,this),Ot},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Xt.VERSION="2.0.7",Xt.defaults={domEvents:!1,touchAction:At,enable:!0,inputTarget:null,inputClass:null,preset:[[Gt,{enable:!1}],[jt,{enable:!1},["rotate"]],[Vt,{direction:6}],[Ut,{direction:6},["swipe"]],[Ht],[Ht,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Wt(t,e){var n;this.options=c({},Xt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(j?ct:z?mt:U?_t:it))(n,Y),this.touchAction=new Pt(this,this.options.touchAction),Zt(this,!0),E(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Zt(t,e){var n,r=t.element;r.style&&(E(t.options.cssProps,(function(i,o){n=D(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}(Wt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Nt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(_(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(_(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==u&&e!==u){var n=this.handlers;return E(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==u){var n=this.handlers;return E(P(t),(function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){if(f)return;var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Zt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f)||(c(Xt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ot,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:H,DIRECTION_ALL:30,Manager:Wt,Input:Z,TouchAction:Pt,TouchInput:mt,MouseInput:it,PointerEventInput:ct,TouchMouseInput:_t,SingleTouchInput:pt,Recognizer:Nt,AttrRecognizer:Bt,Tap:Ht,Pan:Ut,Swipe:Vt,Pinch:jt,Rotate:Gt,Press:zt,on:C,off:R,each:E,merge:T,extend:x,assign:c,inherit:w,bindFn:A,prefixed:D}),("undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Hammer=Xt,(r=function(){return Xt}.call(e,n,e,t))===u||(t.exports=r))}("undefined"!=typeof window?window:{console:null,MSPointerEvent:null,PointerEvent:null,CSS:null},document)},6368:function(t,e,n){var r=n(7338),i=n(6485),o=n(3134),a=n(4138),s=n(3769);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},3593:function(t,e,n){var r=n(8461),i=n(8658),o=n(6575),a=n(7272),s=n(4490);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},1962:function(t,e,n){var r=n(6229)(n(2674),"Map");t.exports=r},2275:function(t,e,n){var r=n(159),i=n(8870),o=n(3357),a=n(5175),s=n(308);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},6166:function(t,e,n){var r=n(3593),i=n(6688),o=n(3673),a=n(1142),s=n(6507),u=n(3414);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},3048:function(t,e,n){var r=n(2674).Symbol;t.exports=r},9523:function(t,e,n){var r=n(2674).Uint8Array;t.exports=r},2319:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},8146:function(t,e,n){var r=n(725),i=n(5697),o=n(1509),a=n(9341),s=n(1377),u=n(4434),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),h=!n&&!l&&a(t),f=!n&&!l&&!h&&u(t),p=n||l||h||f,d=p?r(t.length,String):[],v=d.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||d.push(g);return d}},777:function(t,e,n){var r=n(1366),i=n(4831);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},7722:function(t,e,n){var r=n(1366),i=n(4831),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},5731:function(t,e,n){var r=n(4831);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1366:function(t,e,n){var r=n(7256);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},8199:function(t,e,n){var r=n(8032),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},8123:function(t,e,n){var r=n(8419)();t.exports=r},4371:function(t,e,n){var r=n(3048),i=n(4835),o=n(5090),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},6136:function(t,e,n){var r=n(4371),i=n(7605);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},8025:function(t,e,n){var r=n(5229),i=n(8683),o=n(8032),a=n(6817),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},8811:function(t,e,n){var r=n(4371),i=n(862),o=n(7605),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7629:function(t,e,n){var r=n(8032),i=n(9369),o=n(4202),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},1765:function(t,e,n){var r=n(6166),i=n(777),o=n(8123),a=n(6430),s=n(8032),u=n(3028),c=n(151);t.exports=function t(e,n,l,h,f){e!==n&&o(n,(function(o,u){if(f||(f=new r),s(o))a(e,n,u,l,t,h,f);else{var p=h?h(c(e,u),o,u+"",e,n,f):void 0;void 0===p&&(p=o),i(e,u,p)}}),u)}},6430:function(t,e,n){var r=n(777),i=n(5210),o=n(5713),a=n(4660),s=n(4160),u=n(5697),c=n(1509),l=n(3446),h=n(9341),f=n(5229),p=n(8032),d=n(5304),v=n(4434),g=n(151),m=n(2034);t.exports=function(t,e,n,y,_,E,b){var x=g(t,n),T=g(e,n),w=b.get(T);if(w)r(t,n,w);else{var A=E?E(x,T,n+"",t,e,b):void 0,S=void 0===A;if(S){var M=c(T),C=!M&&h(T),R=!M&&!C&&v(T);A=T,M||C||R?c(x)?A=x:l(x)?A=a(x):C?(S=!1,A=i(T,!0)):R?(S=!1,A=o(T,!0)):A=[]:d(T)||u(T)?(A=x,u(x)?A=m(x):p(x)&&!f(x)||(A=s(T))):S=!1}S&&(b.set(T,A),_(A,T,y,E,b),b.delete(T)),r(t,n,A)}}},8673:function(t,e,n){var r=n(4430),i=n(8458),o=n(3734);t.exports=function(t,e){return o(i(t,e,r),t+"")}},4414:function(t,e,n){var r=n(8757),i=n(7256),o=n(4430),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},725:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},7794:function(t){t.exports=function(t){return function(e){return t(e)}}},1141:function(t,e,n){var r=n(9523);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},5210:function(t,e,n){t=n.nmd(t);var r=n(6565).default,i=n(2674),o="object"==r(e)&&e&&!e.nodeType&&e,a=o&&"object"==r(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}},5713:function(t,e,n){var r=n(1141);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},4660:function(t){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},3051:function(t,e,n){var r=n(7722),i=n(1366);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},9365:function(t,e,n){var r=n(2674)["__core-js_shared__"];t.exports=r},2772:function(t,e,n){var r=n(8673),i=n(3469);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}},8419:function(t){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},7256:function(t,e,n){var r=n(6229),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},2619:function(t,e,n){var r=n(6565).default,i="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g;t.exports=i},728:function(t,e,n){var r=n(8709);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},6229:function(t,e,n){var r=n(8025),i=n(4344);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},4212:function(t,e,n){var r=n(3431)(Object.getPrototypeOf,Object);t.exports=r},4835:function(t,e,n){var r=n(3048),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},4344:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},7338:function(t,e,n){var r=n(4604);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},6485:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},3134:function(t,e,n){var r=n(4604),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},4138:function(t,e,n){var r=n(4604),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},3769:function(t,e,n){var r=n(4604);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},4160:function(t,e,n){var r=n(8199),i=n(4212),o=n(9369);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},1377:function(t,e,n){var r=n(6565).default,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=r(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},3469:function(t,e,n){var r=n(6565).default,i=n(4831),o=n(248),a=n(1377),s=n(8032);t.exports=function(t,e,n){if(!s(n))return!1;var u=r(e);return!!("number"==u?o(n)&&a(e,n.length):"string"==u&&e in n)&&i(n[e],t)}},8709:function(t,e,n){var r=n(6565).default;t.exports=function(t){var e=r(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},8683:function(t,e,n){var r,i=n(9365),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},9369:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},8461:function(t){t.exports=function(){this.__data__=[],this.size=0}},8658:function(t,e,n){var r=n(5731),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},6575:function(t,e,n){var r=n(5731);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7272:function(t,e,n){var r=n(5731);t.exports=function(t){return r(this.__data__,t)>-1}},4490:function(t,e,n){var r=n(5731);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},159:function(t,e,n){var r=n(6368),i=n(3593),o=n(1962);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},8870:function(t,e,n){var r=n(728);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},3357:function(t,e,n){var r=n(728);t.exports=function(t){return r(this,t).get(t)}},5175:function(t,e,n){var r=n(728);t.exports=function(t){return r(this,t).has(t)}},308:function(t,e,n){var r=n(728);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},4604:function(t,e,n){var r=n(6229)(Object,"create");t.exports=r},4202:function(t){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},6959:function(t,e,n){t=n.nmd(t);var r=n(6565).default,i=n(2619),o="object"==r(e)&&e&&!e.nodeType&&e,a=o&&"object"==r(t)&&t&&!t.nodeType&&t,s=a&&a.exports===o&&i.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u},5090:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},3431:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},8458:function(t,e,n){var r=n(2319),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},2674:function(t,e,n){var r=n(6565).default,i=n(2619),o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},151:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},3734:function(t,e,n){var r=n(4414),i=n(8990)(r);t.exports=i},8990:function(t){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},6688:function(t,e,n){var r=n(3593);t.exports=function(){this.__data__=new r,this.size=0}},3673:function(t){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},1142:function(t){t.exports=function(t){return this.__data__.get(t)}},6507:function(t){t.exports=function(t){return this.__data__.has(t)}},3414:function(t,e,n){var r=n(3593),i=n(1962),o=n(2275);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},6817:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},8757:function(t){t.exports=function(t){return function(){return t}}},4831:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},4430:function(t){t.exports=function(t){return t}},5697:function(t,e,n){var r=n(6136),i=n(7605),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},1509:function(t){var e=Array.isArray;t.exports=e},248:function(t,e,n){var r=n(5229),i=n(862);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},3446:function(t,e,n){var r=n(248),i=n(7605);t.exports=function(t){return i(t)&&r(t)}},9341:function(t,e,n){t=n.nmd(t);var r=n(6565).default,i=n(2674),o=n(6282),a="object"==r(e)&&e&&!e.nodeType&&e,s=a&&"object"==r(t)&&t&&!t.nodeType&&t,u=s&&s.exports===a?i.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},5229:function(t,e,n){var r=n(4371),i=n(8032);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},862:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},8032:function(t,e,n){var r=n(6565).default;t.exports=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},7605:function(t,e,n){var r=n(6565).default;t.exports=function(t){return null!=t&&"object"==r(t)}},5304:function(t,e,n){var r=n(4371),i=n(4212),o=n(7605),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},4434:function(t,e,n){var r=n(8811),i=n(7794),o=n(6959),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},3028:function(t,e,n){var r=n(8146),i=n(7629),o=n(248);t.exports=function(t){return o(t)?r(t,!0):i(t)}},8972:function(t,e,n){var r;t=n.nmd(t);var i=n(6565).default;(function(){var o,a="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",c=16,l=32,h=64,f=128,p=256,d=1/0,v=9007199254740991,g=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",h],["rearg",p]],_="[object Arguments]",E="[object Array]",b="[object Boolean]",x="[object Date]",T="[object Error]",w="[object Function]",A="[object GeneratorFunction]",S="[object Map]",M="[object Number]",C="[object Object]",R="[object Promise]",k="[object RegExp]",I="[object Set]",P="[object String]",O="[object Symbol]",N="[object WeakMap]",L="[object ArrayBuffer]",D="[object DataView]",F="[object Float32Array]",B="[object Float64Array]",U="[object Int8Array]",j="[object Int16Array]",z="[object Int32Array]",G="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",X="[object Uint32Array]",W=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Q=RegExp(q.source),$=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,at=RegExp(ot.source),st=/^\s+/,ut=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ht=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,Et=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tt=/($^)/,wt=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Mt="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",Rt="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pt="['’]",Ot="["+At+"]",Nt="["+It+"]",Lt="["+St+"]",Dt="\\d+",Ft="["+Mt+"]",Bt="["+Ct+"]",Ut="[^"+At+It+Dt+Mt+Ct+Rt+"]",jt="\\ud83c[\\udffb-\\udfff]",zt="[^"+At+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="["+Rt+"]",Xt="\\u200d",Wt="(?:"+Bt+"|"+Ut+")",Zt="(?:"+Ht+"|"+Ut+")",Yt="(?:['’](?:d|ll|m|re|s|t|ve))?",qt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Lt+"|"+jt+")"+"?",Qt="["+kt+"]?",$t=Qt+Kt+("(?:"+Xt+"(?:"+[zt,Gt,Vt].join("|")+")"+Qt+Kt+")*"),Jt="(?:"+[Ft,Gt,Vt].join("|")+")"+$t,te="(?:"+[zt+Lt+"?",Lt,Gt,Vt,Ot].join("|")+")",ee=RegExp(Pt,"g"),ne=RegExp(Lt,"g"),re=RegExp(jt+"(?="+jt+")|"+te+$t,"g"),ie=RegExp([Ht+"?"+Bt+"+"+Yt+"(?="+[Nt,Ht,"$"].join("|")+")",Zt+"+"+qt+"(?="+[Nt,Ht+Wt,"$"].join("|")+")",Ht+"?"+Wt+"+"+Yt,Ht+"+"+qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,Jt].join("|"),"g"),oe=RegExp("["+Xt+At+St+kt+"]"),ae=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ue=-1,ce={};ce[F]=ce[B]=ce[U]=ce[j]=ce[z]=ce[G]=ce[V]=ce[H]=ce[X]=!0,ce[_]=ce[E]=ce[L]=ce[b]=ce[D]=ce[x]=ce[T]=ce[w]=ce[S]=ce[M]=ce[C]=ce[k]=ce[I]=ce[P]=ce[N]=!1;var le={};le[_]=le[E]=le[L]=le[D]=le[b]=le[x]=le[F]=le[B]=le[U]=le[j]=le[z]=le[S]=le[M]=le[C]=le[k]=le[I]=le[P]=le[O]=le[G]=le[V]=le[H]=le[X]=!0,le[T]=le[w]=le[N]=!1;var he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,pe=parseInt,de="object"==(void 0===n.g?"undefined":i(n.g))&&n.g&&n.g.Object===Object&&n.g,ve="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,ge=de||ve||Function("return this")(),me="object"==i(e)&&e&&!e.nodeType&&e,ye=me&&"object"==i(t)&&t&&!t.nodeType&&t,_e=ye&&ye.exports===me,Ee=_e&&de.process,be=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||Ee&&Ee.binding&&Ee.binding("util")}catch(t){}}(),xe=be&&be.isArrayBuffer,Te=be&&be.isDate,we=be&&be.isMap,Ae=be&&be.isRegExp,Se=be&&be.isSet,Me=be&&be.isTypedArray;function Ce(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ie(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Oe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ne(t,e){return!!(null==t?0:t.length)&&He(t,e,0)>-1}function Le(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function De(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Fe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Be(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Ue(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ze=Ye("length");function Ge(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ve(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function He(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ve(t,We,n)}function Xe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function We(t){return t!=t}function Ze(t,e){var n=null==t?0:t.length;return n?Qe(t,e)/n:g}function Ye(t){return function(e){return null==e?o:e[t]}}function qe(t){return function(e){return null==t?o:t[e]}}function Ke(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Qe(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function $e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Je(t){return t?t.slice(0,yn(t)+1).replace(st,""):t}function tn(t){return function(e){return t(e)}}function en(t,e){return De(e,(function(e){return t[e]}))}function nn(t,e){return t.has(e)}function rn(t,e){for(var n=-1,r=t.length;++n<r&&He(e,t[n],0)>-1;);return n}function on(t,e){for(var n=t.length;n--&&He(e,t[n],0)>-1;);return n}function an(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var sn=qe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),un=qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cn(t){return"\\"+he[t]}function ln(t){return oe.test(t)}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function fn(t,e){return function(n){return t(e(n))}}function pn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function vn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function gn(t){return ln(t)?function(t){var e=re.lastIndex=0;for(;re.test(t);)++e;return e}(t):ze(t)}function mn(t){return ln(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function yn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var _n=qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var En=function t(e){var n,r=(e=null==e?ge:En.defaults(ge.Object(),e,En.pick(ge,se))).Array,ut=e.Date,At=e.Error,St=e.Function,Mt=e.Math,Ct=e.Object,Rt=e.RegExp,kt=e.String,It=e.TypeError,Pt=r.prototype,Ot=St.prototype,Nt=Ct.prototype,Lt=e["__core-js_shared__"],Dt=Ot.toString,Ft=Nt.hasOwnProperty,Bt=0,Ut=(n=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",jt=Nt.toString,zt=Dt.call(Ct),Gt=ge._,Vt=Rt("^"+Dt.call(Ft).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=_e?e.Buffer:o,Xt=e.Symbol,Wt=e.Uint8Array,Zt=Ht?Ht.allocUnsafe:o,Yt=fn(Ct.getPrototypeOf,Ct),qt=Ct.create,Kt=Nt.propertyIsEnumerable,Qt=Pt.splice,$t=Xt?Xt.isConcatSpreadable:o,Jt=Xt?Xt.iterator:o,te=Xt?Xt.toStringTag:o,re=function(){try{var t=vo(Ct,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,he=ut&&ut.now!==ge.Date.now&&ut.now,de=e.setTimeout!==ge.setTimeout&&e.setTimeout,ve=Mt.ceil,me=Mt.floor,ye=Ct.getOwnPropertySymbols,Ee=Ht?Ht.isBuffer:o,be=e.isFinite,ze=Pt.join,qe=fn(Ct.keys,Ct),bn=Mt.max,xn=Mt.min,Tn=ut.now,wn=e.parseInt,An=Mt.random,Sn=Pt.reverse,Mn=vo(e,"DataView"),Cn=vo(e,"Map"),Rn=vo(e,"Promise"),kn=vo(e,"Set"),In=vo(e,"WeakMap"),Pn=vo(Ct,"create"),On=In&&new In,Nn={},Ln=Go(Mn),Dn=Go(Cn),Fn=Go(Rn),Bn=Go(kn),Un=Go(In),jn=Xt?Xt.prototype:o,zn=jn?jn.valueOf:o,Gn=jn?jn.toString:o;function Vn(t){if(os(t)&&!Ya(t)&&!(t instanceof Zn)){if(t instanceof Wn)return t;if(Ft.call(t,"__wrapped__"))return Vo(t)}return new Wn(t)}var Hn=function(){function t(){}return function(e){if(!is(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Xn(){}function Wn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Kn;++e<n;)this.add(t[e])}function $n(t){var e=this.__data__=new qn(t);this.size=e.size}function Jn(t,e){var n=Ya(t),r=!n&&Za(t),i=!n&&!r&&$a(t),o=!n&&!r&&!i&&ps(t),a=n||r||i||o,s=a?$e(t.length,kt):[],u=s.length;for(var c in t)!e&&!Ft.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xo(c,u))||s.push(c);return s}function tr(t){var e=t.length;return e?t[Qr(0,e-1)]:o}function er(t,e){return Uo(Pi(t),lr(e,0,t.length))}function nr(t){return Uo(Pi(t))}function rr(t,e,n){(n!==o&&!Ha(t[e],n)||n===o&&!(e in t))&&ur(t,e,n)}function ir(t,e,n){var r=t[e];Ft.call(t,e)&&Ha(r,n)&&(n!==o||e in t)||ur(t,e,n)}function or(t,e){for(var n=t.length;n--;)if(Ha(t[n][0],e))return n;return-1}function ar(t,e,n,r){return vr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function sr(t,e){return t&&Oi(e,Ls(e),t)}function ur(t,e,n){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function cr(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:ks(t,e[n]);return a}function lr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function hr(t,e,n,r,i,a){var s,u=1&e,c=2&e,l=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!is(t))return t;var h=Ya(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Ft.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Pi(t,s)}else{var f=yo(t),p=f==w||f==A;if($a(t))return Si(t,u);if(f==C||f==_||p&&!i){if(s=c||p?{}:Eo(t),!u)return c?function(t,e){return Oi(t,mo(t),e)}(t,function(t,e){return t&&Oi(e,Ds(e),t)}(s,t)):function(t,e){return Oi(t,go(t),e)}(t,sr(s,t))}else{if(!le[f])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case L:return Mi(t);case b:case x:return new r(+t);case D:return function(t,e){var n=e?Mi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case F:case B:case U:case j:case z:case G:case V:case H:case X:return Ci(t,n);case S:return new r;case M:case P:return new r(t);case k:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new r;case O:return i=t,zn?Ct(zn.call(i)):{}}var i}(t,f,u)}}a||(a=new $n);var d=a.get(t);if(d)return d;a.set(t,s),ls(t)?t.forEach((function(r){s.add(hr(r,e,n,r,t,a))})):as(t)&&t.forEach((function(r,i){s.set(i,hr(r,e,n,i,t,a))}));var v=h?o:(l?c?so:ao:c?Ds:Ls)(t);return ke(v||t,(function(r,i){v&&(r=t[i=r]),ir(s,i,hr(r,e,n,i,t,a))})),s}function fr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ct(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function pr(t,e,n){if("function"!=typeof t)throw new It(a);return Lo((function(){t.apply(o,n)}),e)}function dr(t,e,n,r){var i=-1,o=Ne,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=De(e,tn(n))),r?(o=Le,a=!1):e.length>=200&&(o=nn,a=!1,e=new Qn(e));t:for(;++i<s;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}Vn.templateSettings={escape:J,evaluate:tt,interpolate:et,variable:"",imports:{_:Vn}},Vn.prototype=Xn.prototype,Vn.prototype.constructor=Vn,Wn.prototype=Hn(Xn.prototype),Wn.prototype.constructor=Wn,Zn.prototype=Hn(Xn.prototype),Zn.prototype.constructor=Zn,Yn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Yn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yn.prototype.get=function(t){var e=this.__data__;if(Pn){var n=e[t];return n===s?o:n}return Ft.call(e,t)?e[t]:o},Yn.prototype.has=function(t){var e=this.__data__;return Pn?e[t]!==o:Ft.call(e,t)},Yn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pn&&e===o?s:e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=or(e,t);return!(n<0)&&(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,!0)},qn.prototype.get=function(t){var e=this.__data__,n=or(e,t);return n<0?o:e[n][1]},qn.prototype.has=function(t){return or(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,r=or(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Cn||qn),string:new Yn}},Kn.prototype.delete=function(t){var e=fo(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return fo(this,t).get(t)},Kn.prototype.has=function(t){return fo(this,t).has(t)},Kn.prototype.set=function(t,e){var n=fo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,s),this},Qn.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.clear=function(){this.__data__=new qn,this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$n.prototype.get=function(t){return this.__data__.get(t)},$n.prototype.has=function(t){return this.__data__.has(t)},$n.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Cn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(t,e),this.size=n.size,this};var vr=Di(Tr),gr=Di(wr,!0);function mr(t,e){var n=!0;return vr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function yr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!fs(s):n(s,u)))var u=s,c=a}return c}function _r(t,e){var n=[];return vr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Er(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Er(s,e-1,n,r,i):Fe(i,s):r||(i[i.length]=s)}return i}var br=Fi(),xr=Fi(!0);function Tr(t,e){return t&&br(t,e,Ls)}function wr(t,e){return t&&xr(t,e,Ls)}function Ar(t,e){return Oe(e,(function(e){return es(t[e])}))}function Sr(t,e){for(var n=0,r=(e=xi(e,t)).length;null!=t&&n<r;)t=t[zo(e[n++])];return n&&n==r?t:o}function Mr(t,e,n){var r=e(t);return Ya(t)?r:Fe(r,n(t))}function Cr(t){return null==t?t===o?"[object Undefined]":"[object Null]":te&&te in Ct(t)?function(t){var e=Ft.call(t,te),n=t[te];try{t[te]=o;var r=!0}catch(t){}var i=jt.call(t);r&&(e?t[te]=n:delete t[te]);return i}(t):function(t){return jt.call(t)}(t)}function Rr(t,e){return t>e}function kr(t,e){return null!=t&&Ft.call(t,e)}function Ir(t,e){return null!=t&&e in Ct(t)}function Pr(t,e,n){for(var i=n?Le:Ne,a=t[0].length,s=t.length,u=s,c=r(s),l=1/0,h=[];u--;){var f=t[u];u&&e&&(f=De(f,tn(e))),l=xn(f.length,l),c[u]=!n&&(e||a>=120&&f.length>=120)?new Qn(u&&f):o}f=t[0];var p=-1,d=c[0];t:for(;++p<a&&h.length<l;){var v=f[p],g=e?e(v):v;if(v=n||0!==v?v:0,!(d?nn(d,g):i(h,g,n))){for(u=s;--u;){var m=c[u];if(!(m?nn(m,g):i(t[u],g,n)))continue t}d&&d.push(g),h.push(v)}}return h}function Or(t,e,n){var r=null==(t=Io(t,e=xi(e,t)))?t:t[zo(ta(e))];return null==r?o:Ce(r,t,n)}function Nr(t){return os(t)&&Cr(t)==_}function Lr(t,e,n,r,i){return t===e||(null==t||null==e||!os(t)&&!os(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=Ya(t),u=Ya(e),c=s?E:yo(t),l=u?E:yo(e),h=(c=c==_?C:c)==C,f=(l=l==_?C:l)==C,p=c==l;if(p&&$a(t)){if(!$a(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new $n),s||ps(t)?io(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case D:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L:return!(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)));case b:case x:case M:return Ha(+t,+e);case T:return t.name==e.name&&t.message==e.message;case k:case P:return t==e+"";case S:var s=hn;case I:var u=1&r;if(s||(s=dn),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=io(s(t),s(e),r,i,o,a);return a.delete(t),l;case O:if(zn)return zn.call(t)==zn.call(e)}return!1}(t,e,c,n,r,i,a);if(!(1&n)){var d=h&&Ft.call(t,"__wrapped__"),v=f&&Ft.call(e,"__wrapped__");if(d||v){var g=d?t.value():t,m=v?e.value():e;return a||(a=new $n),i(g,m,n,r,a)}}if(!p)return!1;return a||(a=new $n),function(t,e,n,r,i,a){var s=1&n,u=ao(t),c=u.length,l=ao(e),h=l.length;if(c!=h&&!s)return!1;var f=c;for(;f--;){var p=u[f];if(!(s?p in e:Ft.call(e,p)))return!1}var d=a.get(t),v=a.get(e);if(d&&v)return d==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=s;for(;++f<c;){var y=t[p=u[f]],_=e[p];if(r)var E=s?r(_,y,p,e,t,a):r(y,_,p,t,e,a);if(!(E===o?y===_||i(y,_,n,r,a):E)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,r,i,a)}(t,e,n,r,Lr,i))}function Dr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=Ct(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var c=(u=n[i])[0],l=t[c],h=u[1];if(s&&u[2]){if(l===o&&!(c in t))return!1}else{var f=new $n;if(r)var p=r(l,h,c,t,e,f);if(!(p===o?Lr(h,l,3,r,f):p))return!1}}return!0}function Fr(t){return!(!is(t)||(e=t,Ut&&Ut in e))&&(es(t)?Vt:_t).test(Go(t));var e}function Br(t){return"function"==typeof t?t:null==t?su:"object"==i(t)?Ya(t)?Hr(t[0],t[1]):Vr(t):gu(t)}function Ur(t){if(!Mo(t))return qe(t);var e=[];for(var n in Ct(t))Ft.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t){if(!is(t))return function(t){var e=[];if(null!=t)for(var n in Ct(t))e.push(n);return e}(t);var e=Mo(t),n=[];for(var r in t)("constructor"!=r||!e&&Ft.call(t,r))&&n.push(r);return n}function zr(t,e){return t<e}function Gr(t,e){var n=-1,i=Ka(t)?r(t.length):[];return vr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Vr(t){var e=po(t);return 1==e.length&&e[0][2]?Ro(e[0][0],e[0][1]):function(n){return n===t||Dr(n,t,e)}}function Hr(t,e){return wo(t)&&Co(e)?Ro(zo(t),e):function(n){var r=ks(n,t);return r===o&&r===e?Is(n,t):Lr(e,r,3)}}function Xr(t,e,n,r,i){t!==e&&br(e,(function(a,s){if(i||(i=new $n),is(a))!function(t,e,n,r,i,a,s){var u=Oo(t,n),c=Oo(e,n),l=s.get(c);if(l)return void rr(t,n,l);var h=a?a(u,c,n+"",t,e,s):o,f=h===o;if(f){var p=Ya(c),d=!p&&$a(c),v=!p&&!d&&ps(c);h=c,p||d||v?Ya(u)?h=u:Qa(u)?h=Pi(u):d?(f=!1,h=Si(c,!0)):v?(f=!1,h=Ci(c,!0)):h=[]:us(c)||Za(c)?(h=u,Za(u)?h=bs(u):is(u)&&!es(u)||(h=Eo(c))):f=!1}f&&(s.set(c,h),i(h,c,r,a,s),s.delete(c));rr(t,n,h)}(t,e,s,n,Xr,r,i);else{var u=r?r(Oo(t,s),a,s+"",t,e,i):o;u===o&&(u=a),rr(t,s,u)}}),Ds)}function Wr(t,e){var n=t.length;if(n)return xo(e+=e<0?n:0,n)?t[e]:o}function Zr(t,e,n){e=e.length?De(e,(function(t){return Ya(t)?function(e){return Sr(e,1===t.length?t[0]:t)}:t})):[su];var r=-1;e=De(e,tn(ho()));var i=Gr(t,(function(t,n,i){var o=De(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ri(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Yr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Sr(t,a);n(s,a)&&ni(o,xi(a,t),s)}return o}function qr(t,e,n,r){var i=r?Xe:He,o=-1,a=e.length,s=t;for(t===e&&(e=Pi(e)),n&&(s=De(t,tn(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Qt.call(s,u,1),Qt.call(t,u,1);return t}function Kr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;xo(i)?Qt.call(t,i,1):di(t,i)}}return t}function Qr(t,e){return t+me(An()*(e-t+1))}function $r(t,e){var n="";if(!t||e<1||e>v)return n;do{e%2&&(n+=t),(e=me(e/2))&&(t+=t)}while(e);return n}function Jr(t,e){return Do(ko(t,e,su),t+"")}function ti(t){return tr(Hs(t))}function ei(t,e){var n=Hs(t);return Uo(n,lr(e,0,n.length))}function ni(t,e,n,r){if(!is(t))return t;for(var i=-1,a=(e=xi(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var c=zo(e[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var h=u[c];(l=r?r(h,c,u):o)===o&&(l=is(h)?h:xo(e[i+1])?[]:{})}ir(u,c,l),u=u[c]}return t}var ri=On?function(t,e){return On.set(t,e),t}:su,ii=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:iu(e),writable:!0})}:su;function oi(t){return Uo(Hs(t))}function ai(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function si(t,e){var n;return vr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ui(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!fs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ci(t,e,su,n)}function ci(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,c=fs(e),l=e===o;i<a;){var h=me((i+a)/2),f=n(t[h]),p=f!==o,d=null===f,v=f==f,g=fs(f);if(s)var m=r||v;else m=l?v&&(r||p):u?v&&p&&(r||!d):c?v&&p&&!d&&(r||!g):!d&&!g&&(r?f<=e:f<e);m?i=h+1:a=h}return xn(a,4294967294)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ha(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function hi(t){return"number"==typeof t?t:fs(t)?g:+t}function fi(t){if("string"==typeof t)return t;if(Ya(t))return De(t,fi)+"";if(fs(t))return Gn?Gn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function pi(t,e,n){var r=-1,i=Ne,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Le;else if(o>=200){var c=e?null:$i(t);if(c)return dn(c);a=!1,i=nn,u=new Qn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function di(t,e){return null==(t=Io(t,e=xi(e,t)))||delete t[zo(ta(e))]}function vi(t,e,n,r){return ni(t,e,n(Sr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ai(t,r?0:o,r?o+1:i):ai(t,r?o+1:0,r?i:o)}function mi(t,e){var n=t;return n instanceof Zn&&(n=n.value()),Be(e,(function(t,e){return e.func.apply(e.thisArg,Fe([t],e.args))}),n)}function yi(t,e,n){var i=t.length;if(i<2)return i?pi(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=dr(a[o]||s,t[u],e,n));return pi(Er(a,1),e,n)}function _i(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function Ei(t){return Qa(t)?t:[]}function bi(t){return"function"==typeof t?t:su}function xi(t,e){return Ya(t)?t:wo(t,e)?[t]:jo(xs(t))}var Ti=Jr;function wi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ai(t,e,n)}var Ai=oe||function(t){return ge.clearTimeout(t)};function Si(t,e){if(e)return t.slice();var n=t.length,r=Zt?Zt(n):new t.constructor(n);return t.copy(r),r}function Mi(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Ci(t,e){var n=e?Mi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ri(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=fs(t),s=e!==o,u=null===e,c=e==e,l=fs(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&t<e||l&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}function ki(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=bn(a-s,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function Ii(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,h=bn(a-u,0),f=r(h+l),p=!i;++o<h;)f[o]=t[o];for(var d=o;++c<l;)f[d+c]=e[c];for(;++s<u;)(p||o<a)&&(f[d+n[s]]=t[o++]);return f}function Pi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Oi(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):o;c===o&&(c=t[u]),i?ur(n,u,c):ir(n,u,c)}return n}function Ni(t,e){return function(n,r){var i=Ya(n)?Re:ar,o=e?e():{};return i(n,t,ho(r,2),o)}}function Li(t){return Jr((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&To(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=Ct(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function Di(t,e){return function(n,r){if(null==n)return n;if(!Ka(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Ct(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Fi(t){return function(e,n,r){for(var i=-1,o=Ct(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Bi(t){return function(e){var n=ln(e=xs(e))?mn(e):o,r=n?n[0]:e.charAt(0),i=n?wi(n,1).join(""):e.slice(1);return r[t]()+i}}function Ui(t){return function(e){return Be(eu(Zs(e).replace(ee,"")),t,"")}}function ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Hn(t.prototype),r=t.apply(n,e);return is(r)?r:n}}function zi(t){return function(e,n,r){var i=Ct(e);if(!Ka(e)){var a=ho(n,3);e=Ls(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Gi(t){return oo((function(e){var n=e.length,r=n,i=Wn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new It(a);if(i&&!u&&"wrapper"==co(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var c=co(s=e[r]),l="wrapper"==c?uo(s):o;u=l&&Ao(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[co(l[0])].apply(u,l[3]):1==s.length&&Ao(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ya(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Vi(t,e,n,i,a,s,u,c,l,h){var p=e&f,d=1&e,v=2&e,g=24&e,m=512&e,y=v?o:ji(t);return function o(){for(var f=arguments.length,_=r(f),E=f;E--;)_[E]=arguments[E];if(g)var b=lo(o),x=an(_,b);if(i&&(_=ki(_,i,a,g)),s&&(_=Ii(_,s,u,g)),f-=x,g&&f<h){var T=pn(_,b);return Ki(t,e,Vi,o.placeholder,n,_,T,c,l,h-f)}var w=d?n:this,A=v?w[t]:t;return f=_.length,c?_=Po(_,c):m&&f>1&&_.reverse(),p&&l<f&&(_.length=l),this&&this!==ge&&this instanceof o&&(A=y||ji(A)),A.apply(w,_)}}function Hi(t,e){return function(n,r){return function(t,e,n,r){return Tr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Xi(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=hi(n),r=hi(r)),i=t(n,r)}return i}}function Wi(t){return oo((function(e){return e=De(e,tn(ho())),Jr((function(n){var r=this;return t(e,(function(t){return Ce(t,r,n)}))}))}))}function Zi(t,e){var n=(e=e===o?" ":fi(e)).length;if(n<2)return n?$r(e,t):e;var r=$r(e,ve(t/gn(e)));return ln(e)?wi(mn(r),0,t).join(""):r.slice(0,t)}function Yi(t){return function(e,n,i){return i&&"number"!=typeof i&&To(e,n,i)&&(n=i=o),e=ms(e),n===o?(n=e,e=0):n=ms(n),function(t,e,n,i){for(var o=-1,a=bn(ve((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:ms(i),t)}}function qi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Es(e),n=Es(n)),t(e,n)}}function Ki(t,e,n,r,i,a,s,u,c,f){var p=8&e;e|=p?l:h,4&(e&=~(p?h:l))||(e&=-4);var d=[t,e,i,p?a:o,p?s:o,p?o:a,p?o:s,u,c,f],v=n.apply(o,d);return Ao(t)&&No(v,d),v.placeholder=r,Fo(v,t,e)}function Qi(t){var e=Mt[t];return function(t,n){if(t=Es(t),(n=null==n?0:xn(ys(n),292))&&be(t)){var r=(xs(t)+"e").split("e");return+((r=(xs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var $i=kn&&1/dn(new kn([,-0]))[1]==d?function(t){return new kn(t)}:fu;function Ji(t){return function(e){var n=yo(e);return n==S?hn(e):n==I?vn(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function to(t,e,n,i,s,d,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new It(a);var y=i?i.length:0;if(y||(e&=-97,i=s=o),v=v===o?v:bn(ys(v),0),g=g===o?g:ys(g),y-=s?s.length:0,e&h){var _=i,E=s;i=s=o}var b=m?o:uo(t),x=[t,e,n,i,s,_,E,d,v,g];if(b&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==p&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var c=t[3];t[3]=c?ki(c,s,e[4]):s,t[4]=c?pn(t[3],u):e[4]}(s=e[5])&&(c=t[5],t[5]=c?Ii(c,s,e[6]):s,t[6]=c?pn(t[5],u):e[6]);(s=e[7])&&(t[7]=s);r&f&&(t[8]=null==t[8]?e[8]:xn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,b),t=x[0],e=x[1],n=x[2],i=x[3],s=x[4],!(g=x[9]=x[9]===o?m?0:t.length:bn(x[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)T=8==e||e==c?function(t,e,n){var i=ji(t);return function a(){for(var s=arguments.length,u=r(s),c=s,l=lo(a);c--;)u[c]=arguments[c];var h=s<3&&u[0]!==l&&u[s-1]!==l?[]:pn(u,l);return(s-=h.length)<n?Ki(t,e,Vi,a.placeholder,o,u,h,o,o,n-s):Ce(this&&this!==ge&&this instanceof a?i:t,this,u)}}(t,e,g):e!=l&&33!=e||s.length?Vi.apply(o,x):function(t,e,n,i){var o=1&e,a=ji(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==ge&&this instanceof e?a:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++s];return Ce(f,o?n:this,h)}}(t,e,n,i);else var T=function(t,e,n){var r=1&e,i=ji(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Fo((b?ri:No)(T,x),t,e)}function eo(t,e,n,r){return t===o||Ha(t,Nt[n])&&!Ft.call(r,n)?e:t}function no(t,e,n,r,i,a){return is(t)&&is(e)&&(a.set(e,t),Xr(t,e,o,no,a),a.delete(e)),t}function ro(t){return us(t)?o:t}function io(t,e,n,r,i,a){var s=1&n,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),h=a.get(e);if(l&&h)return l==e&&h==t;var f=-1,p=!0,d=2&n?new Qn:o;for(a.set(t,e),a.set(e,t);++f<u;){var v=t[f],g=e[f];if(r)var m=s?r(g,v,f,e,t,a):r(v,g,f,t,e,a);if(m!==o){if(m)continue;p=!1;break}if(d){if(!je(e,(function(t,e){if(!nn(d,e)&&(v===t||i(v,t,n,r,a)))return d.push(e)}))){p=!1;break}}else if(v!==g&&!i(v,g,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function oo(t){return Do(ko(t,o,qo),t+"")}function ao(t){return Mr(t,Ls,go)}function so(t){return Mr(t,Ds,mo)}var uo=On?function(t){return On.get(t)}:fu;function co(t){for(var e=t.name+"",n=Nn[e],r=Ft.call(Nn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function lo(t){return(Ft.call(Vn,"placeholder")?Vn:t).placeholder}function ho(){var t=Vn.iteratee||uu;return t=t===uu?Br:t,arguments.length?t(arguments[0],arguments[1]):t}function fo(t,e){var n,r,o=t.__data__;return("string"==(r=i(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function po(t){for(var e=Ls(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Co(i)]}return e}function vo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Fr(n)?n:o}var go=ye?function(t){return null==t?[]:(t=Ct(t),Oe(ye(t),(function(e){return Kt.call(t,e)})))}:_u,mo=ye?function(t){for(var e=[];t;)Fe(e,go(t)),t=Yt(t);return e}:_u,yo=Cr;function _o(t,e,n){for(var r=-1,i=(e=xi(e,t)).length,o=!1;++r<i;){var a=zo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&rs(i)&&xo(a,i)&&(Ya(t)||Za(t))}function Eo(t){return"function"!=typeof t.constructor||Mo(t)?{}:Hn(Yt(t))}function bo(t){return Ya(t)||Za(t)||!!($t&&t&&t[$t])}function xo(t,e){var n=i(t);return!!(e=null==e?v:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e}function To(t,e,n){if(!is(n))return!1;var r=i(e);return!!("number"==r?Ka(n)&&xo(e,n.length):"string"==r&&e in n)&&Ha(n[e],t)}function wo(t,e){if(Ya(t))return!1;var n=i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fs(t))||(rt.test(t)||!nt.test(t)||null!=e&&t in Ct(e))}function Ao(t){var e=co(t),n=Vn[e];if("function"!=typeof n||!(e in Zn.prototype))return!1;if(t===n)return!0;var r=uo(n);return!!r&&t===r[0]}(Mn&&yo(new Mn(new ArrayBuffer(1)))!=D||Cn&&yo(new Cn)!=S||Rn&&yo(Rn.resolve())!=R||kn&&yo(new kn)!=I||In&&yo(new In)!=N)&&(yo=function(t){var e=Cr(t),n=e==C?t.constructor:o,r=n?Go(n):"";if(r)switch(r){case Ln:return D;case Dn:return S;case Fn:return R;case Bn:return I;case Un:return N}return e});var So=Lt?es:Eu;function Mo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Nt)}function Co(t){return t==t&&!is(t)}function Ro(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Ct(n)))}}function ko(t,e,n){return e=bn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=bn(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),Ce(t,this,u)}}function Io(t,e){return e.length<2?t:Sr(t,ai(e,0,-1))}function Po(t,e){for(var n=t.length,r=xn(e.length,n),i=Pi(t);r--;){var a=e[r];t[r]=xo(a,n)?i[a]:o}return t}function Oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var No=Bo(ri),Lo=de||function(t,e){return ge.setTimeout(t,e)},Do=Bo(ii);function Fo(t,e,n){var r=e+"";return Do(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ct,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ke(y,(function(n){var r="_."+n[0];e&n[1]&&!Ne(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ht):[]}(r),n)))}function Bo(t){var e=0,n=0;return function(){var r=Tn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Uo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Qr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var jo=function(t){var e=Ba(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)})),e}));function zo(t){if("string"==typeof t||fs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Go(t){if(null!=t){try{return Dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vo(t){if(t instanceof Zn)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=Pi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ho=Jr((function(t,e){return Qa(t)?dr(t,Er(e,1,Qa,!0)):[]})),Xo=Jr((function(t,e){var n=ta(e);return Qa(n)&&(n=o),Qa(t)?dr(t,Er(e,1,Qa,!0),ho(n,2)):[]})),Wo=Jr((function(t,e){var n=ta(e);return Qa(n)&&(n=o),Qa(t)?dr(t,Er(e,1,Qa,!0),o,n):[]}));function Zo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=bn(r+i,0)),Ve(t,ho(e,3),i)}function Yo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ys(n),i=n<0?bn(r+i,0):xn(i,r-1)),Ve(t,ho(e,3),i,!0)}function qo(t){return(null==t?0:t.length)?Er(t,1):[]}function Ko(t){return t&&t.length?t[0]:o}var Qo=Jr((function(t){var e=De(t,Ei);return e.length&&e[0]===t[0]?Pr(e):[]})),$o=Jr((function(t){var e=ta(t),n=De(t,Ei);return e===ta(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Pr(n,ho(e,2)):[]})),Jo=Jr((function(t){var e=ta(t),n=De(t,Ei);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Pr(n,o,e):[]}));function ta(t){var e=null==t?0:t.length;return e?t[e-1]:o}var ea=Jr(na);function na(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var ra=oo((function(t,e){var n=null==t?0:t.length,r=cr(t,e);return Kr(t,De(e,(function(t){return xo(t,n)?+t:t})).sort(Ri)),r}));function ia(t){return null==t?t:Sn.call(t)}var oa=Jr((function(t){return pi(Er(t,1,Qa,!0))})),aa=Jr((function(t){var e=ta(t);return Qa(e)&&(e=o),pi(Er(t,1,Qa,!0),ho(e,2))})),sa=Jr((function(t){var e=ta(t);return e="function"==typeof e?e:o,pi(Er(t,1,Qa,!0),o,e)}));function ua(t){if(!t||!t.length)return[];var e=0;return t=Oe(t,(function(t){if(Qa(t))return e=bn(t.length,e),!0})),$e(e,(function(e){return De(t,Ye(e))}))}function ca(t,e){if(!t||!t.length)return[];var n=ua(t);return null==e?n:De(n,(function(t){return Ce(e,o,t)}))}var la=Jr((function(t,e){return Qa(t)?dr(t,e):[]})),ha=Jr((function(t){return yi(Oe(t,Qa))})),fa=Jr((function(t){var e=ta(t);return Qa(e)&&(e=o),yi(Oe(t,Qa),ho(e,2))})),pa=Jr((function(t){var e=ta(t);return e="function"==typeof e?e:o,yi(Oe(t,Qa),o,e)})),da=Jr(ua);var va=Jr((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,ca(t,n)}));function ga(t){var e=Vn(t);return e.__chain__=!0,e}function ma(t,e){return e(t)}var ya=oo((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return cr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Zn&&xo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ma,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var _a=Ni((function(t,e,n){Ft.call(t,n)?++t[n]:ur(t,n,1)}));var Ea=zi(Zo),ba=zi(Yo);function xa(t,e){return(Ya(t)?ke:vr)(t,ho(e,3))}function Ta(t,e){return(Ya(t)?Ie:gr)(t,ho(e,3))}var wa=Ni((function(t,e,n){Ft.call(t,n)?t[n].push(e):ur(t,n,[e])}));var Aa=Jr((function(t,e,n){var i=-1,o="function"==typeof e,a=Ka(t)?r(t.length):[];return vr(t,(function(t){a[++i]=o?Ce(e,t,n):Or(t,e,n)})),a})),Sa=Ni((function(t,e,n){ur(t,n,e)}));function Ma(t,e){return(Ya(t)?De:Gr)(t,ho(e,3))}var Ca=Ni((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Ra=Jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&To(t,e[0],e[1])?e=[]:n>2&&To(e[0],e[1],e[2])&&(e=[e[0]]),Zr(t,Er(e,1),[])})),ka=he||function(){return ge.Date.now()};function Ia(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,to(t,f,o,o,o,o,e)}function Pa(t,e){var n;if("function"!=typeof e)throw new It(a);return t=ys(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Oa=Jr((function(t,e,n){var r=1;if(n.length){var i=pn(n,lo(Oa));r|=l}return to(t,r,e,n,i)})),Na=Jr((function(t,e,n){var r=3;if(n.length){var i=pn(n,lo(Na));r|=l}return to(e,r,t,n,i)}));function La(t,e,n){var r,i,s,u,c,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new It(a);function v(e){var n=r,a=i;return r=i=o,h=e,u=t.apply(a,n)}function g(t){return h=t,c=Lo(y,e),f?v(t):u}function m(t){var n=t-l;return l===o||n>=e||n<0||p&&t-h>=s}function y(){var t=ka();if(m(t))return _(t);c=Lo(y,function(t){var n=e-(t-l);return p?xn(n,s-(t-h)):n}(t))}function _(t){return c=o,d&&r?v(t):(r=i=o,u)}function E(){var t=ka(),n=m(t);if(r=arguments,i=this,l=t,n){if(c===o)return g(l);if(p)return Ai(c),c=Lo(y,e),v(l)}return c===o&&(c=Lo(y,e)),u}return e=Es(e)||0,is(n)&&(f=!!n.leading,s=(p="maxWait"in n)?bn(Es(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),E.cancel=function(){c!==o&&Ai(c),h=0,r=l=i=c=o},E.flush=function(){return c===o?u:_(ka())},E}var Da=Jr((function(t,e){return pr(t,1,e)})),Fa=Jr((function(t,e,n){return pr(t,Es(e)||0,n)}));function Ba(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(a);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ba.Cache||Kn),n}function Ua(t){if("function"!=typeof t)throw new It(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ba.Cache=Kn;var ja=Ti((function(t,e){var n=(e=1==e.length&&Ya(e[0])?De(e[0],tn(ho())):De(Er(e,1),tn(ho()))).length;return Jr((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ce(t,this,r)}))})),za=Jr((function(t,e){var n=pn(e,lo(za));return to(t,l,o,e,n)})),Ga=Jr((function(t,e){var n=pn(e,lo(Ga));return to(t,h,o,e,n)})),Va=oo((function(t,e){return to(t,p,o,o,o,e)}));function Ha(t,e){return t===e||t!=t&&e!=e}var Xa=qi(Rr),Wa=qi((function(t,e){return t>=e})),Za=Nr(function(){return arguments}())?Nr:function(t){return os(t)&&Ft.call(t,"callee")&&!Kt.call(t,"callee")},Ya=r.isArray,qa=xe?tn(xe):function(t){return os(t)&&Cr(t)==L};function Ka(t){return null!=t&&rs(t.length)&&!es(t)}function Qa(t){return os(t)&&Ka(t)}var $a=Ee||Eu,Ja=Te?tn(Te):function(t){return os(t)&&Cr(t)==x};function ts(t){if(!os(t))return!1;var e=Cr(t);return e==T||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!us(t)}function es(t){if(!is(t))return!1;var e=Cr(t);return e==w||e==A||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ns(t){return"number"==typeof t&&t==ys(t)}function rs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function is(t){var e=i(t);return null!=t&&("object"==e||"function"==e)}function os(t){return null!=t&&"object"==i(t)}var as=we?tn(we):function(t){return os(t)&&yo(t)==S};function ss(t){return"number"==typeof t||os(t)&&Cr(t)==M}function us(t){if(!os(t)||Cr(t)!=C)return!1;var e=Yt(t);if(null===e)return!0;var n=Ft.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Dt.call(n)==zt}var cs=Ae?tn(Ae):function(t){return os(t)&&Cr(t)==k};var ls=Se?tn(Se):function(t){return os(t)&&yo(t)==I};function hs(t){return"string"==typeof t||!Ya(t)&&os(t)&&Cr(t)==P}function fs(t){return"symbol"==i(t)||os(t)&&Cr(t)==O}var ps=Me?tn(Me):function(t){return os(t)&&rs(t.length)&&!!ce[Cr(t)]};var ds=qi(zr),vs=qi((function(t,e){return t<=e}));function gs(t){if(!t)return[];if(Ka(t))return hs(t)?mn(t):Pi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=yo(t);return(e==S?hn:e==I?dn:Hs)(t)}function ms(t){return t?(t=Es(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ys(t){var e=ms(t),n=e%1;return e==e?n?e-n:e:0}function _s(t){return t?lr(ys(t),0,m):0}function Es(t){if("number"==typeof t)return t;if(fs(t))return g;if(is(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=is(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=yt.test(t);return n||Et.test(t)?pe(t.slice(2),n?2:8):mt.test(t)?g:+t}function bs(t){return Oi(t,Ds(t))}function xs(t){return null==t?"":fi(t)}var Ts=Li((function(t,e){if(Mo(e)||Ka(e))Oi(e,Ls(e),t);else for(var n in e)Ft.call(e,n)&&ir(t,n,e[n])})),ws=Li((function(t,e){Oi(e,Ds(e),t)})),As=Li((function(t,e,n,r){Oi(e,Ds(e),t,r)})),Ss=Li((function(t,e,n,r){Oi(e,Ls(e),t,r)})),Ms=oo(cr);var Cs=Jr((function(t,e){t=Ct(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&To(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=Ds(a),u=-1,c=s.length;++u<c;){var l=s[u],h=t[l];(h===o||Ha(h,Nt[l])&&!Ft.call(t,l))&&(t[l]=a[l])}return t})),Rs=Jr((function(t){return t.push(o,no),Ce(Bs,o,t)}));function ks(t,e,n){var r=null==t?o:Sr(t,e);return r===o?n:r}function Is(t,e){return null!=t&&_o(t,e,Ir)}var Ps=Hi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=n}),iu(su)),Os=Hi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Ft.call(t,e)?t[e].push(n):t[e]=[n]}),ho),Ns=Jr(Or);function Ls(t){return Ka(t)?Jn(t):Ur(t)}function Ds(t){return Ka(t)?Jn(t,!0):jr(t)}var Fs=Li((function(t,e,n){Xr(t,e,n)})),Bs=Li((function(t,e,n,r){Xr(t,e,n,r)})),Us=oo((function(t,e){var n={};if(null==t)return n;var r=!1;e=De(e,(function(e){return e=xi(e,t),r||(r=e.length>1),e})),Oi(t,so(t),n),r&&(n=hr(n,7,ro));for(var i=e.length;i--;)di(n,e[i]);return n}));var js=oo((function(t,e){return null==t?{}:function(t,e){return Yr(t,e,(function(e,n){return Is(t,n)}))}(t,e)}));function zs(t,e){if(null==t)return{};var n=De(so(t),(function(t){return[t]}));return e=ho(e),Yr(t,n,(function(t,n){return e(t,n[0])}))}var Gs=Ji(Ls),Vs=Ji(Ds);function Hs(t){return null==t?[]:en(t,Ls(t))}var Xs=Ui((function(t,e,n){return e=e.toLowerCase(),t+(n?Ws(e):e)}));function Ws(t){return tu(xs(t).toLowerCase())}function Zs(t){return(t=xs(t))&&t.replace(xt,sn).replace(ne,"")}var Ys=Ui((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qs=Ui((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ks=Bi("toLowerCase");var Qs=Ui((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var $s=Ui((function(t,e,n){return t+(n?" ":"")+tu(e)}));var Js=Ui((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),tu=Bi("toUpperCase");function eu(t,e,n){return t=xs(t),(e=n?o:e)===o?function(t){return ae.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var nu=Jr((function(t,e){try{return Ce(t,o,e)}catch(t){return ts(t)?t:new At(t)}})),ru=oo((function(t,e){return ke(e,(function(e){e=zo(e),ur(t,e,Oa(t[e],t))})),t}));function iu(t){return function(){return t}}var ou=Gi(),au=Gi(!0);function su(t){return t}function uu(t){return Br("function"==typeof t?t:hr(t,1))}var cu=Jr((function(t,e){return function(n){return Or(n,t,e)}})),lu=Jr((function(t,e){return function(n){return Or(t,n,e)}}));function hu(t,e,n){var r=Ls(e),i=Ar(e,r);null!=n||is(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Ar(e,Ls(e)));var o=!(is(n)&&"chain"in n&&!n.chain),a=es(t);return ke(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Pi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Fe([this.value()],arguments))})})),t}function fu(){}var pu=Wi(De),du=Wi(Pe),vu=Wi(je);function gu(t){return wo(t)?Ye(zo(t)):function(t){return function(e){return Sr(e,t)}}(t)}var mu=Yi(),yu=Yi(!0);function _u(){return[]}function Eu(){return!1}var bu=Xi((function(t,e){return t+e}),0),xu=Qi("ceil"),Tu=Xi((function(t,e){return t/e}),1),wu=Qi("floor");var Au,Su=Xi((function(t,e){return t*e}),1),Mu=Qi("round"),Cu=Xi((function(t,e){return t-e}),0);return Vn.after=function(t,e){if("function"!=typeof e)throw new It(a);return t=ys(t),function(){if(--t<1)return e.apply(this,arguments)}},Vn.ary=Ia,Vn.assign=Ts,Vn.assignIn=ws,Vn.assignInWith=As,Vn.assignWith=Ss,Vn.at=Ms,Vn.before=Pa,Vn.bind=Oa,Vn.bindAll=ru,Vn.bindKey=Na,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ya(t)?t:[t]},Vn.chain=ga,Vn.chunk=function(t,e,n){e=(n?To(t,e,n):e===o)?1:bn(ys(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(ve(i/e));a<i;)u[s++]=ai(t,a,a+=e);return u},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Fe(Ya(n)?Pi(n):[n],Er(e,1))},Vn.cond=function(t){var e=null==t?0:t.length,n=ho();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new It(a);return[n(t[0]),t[1]]})):[],Jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ce(i[0],this,n))return Ce(i[1],this,n)}}))},Vn.conforms=function(t){return function(t){var e=Ls(t);return function(n){return fr(n,t,e)}}(hr(t,1))},Vn.constant=iu,Vn.countBy=_a,Vn.create=function(t,e){var n=Hn(t);return null==e?n:sr(n,e)},Vn.curry=function t(e,n,r){var i=to(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Vn.curryRight=function t(e,n,r){var i=to(e,c,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Vn.debounce=La,Vn.defaults=Cs,Vn.defaultsDeep=Rs,Vn.defer=Da,Vn.delay=Fa,Vn.difference=Ho,Vn.differenceBy=Xo,Vn.differenceWith=Wo,Vn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ai(t,(e=n||e===o?1:ys(e))<0?0:e,r):[]},Vn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ai(t,0,(e=r-(e=n||e===o?1:ys(e)))<0?0:e):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?gi(t,ho(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?gi(t,ho(e,3),!0):[]},Vn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&To(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ys(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ys(r))<0&&(r+=i),r=n>r?0:_s(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Vn.filter=function(t,e){return(Ya(t)?Oe:_r)(t,ho(e,3))},Vn.flatMap=function(t,e){return Er(Ma(t,e),1)},Vn.flatMapDeep=function(t,e){return Er(Ma(t,e),d)},Vn.flatMapDepth=function(t,e,n){return n=n===o?1:ys(n),Er(Ma(t,e),n)},Vn.flatten=qo,Vn.flattenDeep=function(t){return(null==t?0:t.length)?Er(t,d):[]},Vn.flattenDepth=function(t,e){return(null==t?0:t.length)?Er(t,e=e===o?1:ys(e)):[]},Vn.flip=function(t){return to(t,512)},Vn.flow=ou,Vn.flowRight=au,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Vn.functions=function(t){return null==t?[]:Ar(t,Ls(t))},Vn.functionsIn=function(t){return null==t?[]:Ar(t,Ds(t))},Vn.groupBy=wa,Vn.initial=function(t){return(null==t?0:t.length)?ai(t,0,-1):[]},Vn.intersection=Qo,Vn.intersectionBy=$o,Vn.intersectionWith=Jo,Vn.invert=Ps,Vn.invertBy=Os,Vn.invokeMap=Aa,Vn.iteratee=uu,Vn.keyBy=Sa,Vn.keys=Ls,Vn.keysIn=Ds,Vn.map=Ma,Vn.mapKeys=function(t,e){var n={};return e=ho(e,3),Tr(t,(function(t,r,i){ur(n,e(t,r,i),t)})),n},Vn.mapValues=function(t,e){var n={};return e=ho(e,3),Tr(t,(function(t,r,i){ur(n,r,e(t,r,i))})),n},Vn.matches=function(t){return Vr(hr(t,1))},Vn.matchesProperty=function(t,e){return Hr(t,hr(e,1))},Vn.memoize=Ba,Vn.merge=Fs,Vn.mergeWith=Bs,Vn.method=cu,Vn.methodOf=lu,Vn.mixin=hu,Vn.negate=Ua,Vn.nthArg=function(t){return t=ys(t),Jr((function(e){return Wr(e,t)}))},Vn.omit=Us,Vn.omitBy=function(t,e){return zs(t,Ua(ho(e)))},Vn.once=function(t){return Pa(2,t)},Vn.orderBy=function(t,e,n,r){return null==t?[]:(Ya(e)||(e=null==e?[]:[e]),Ya(n=r?o:n)||(n=null==n?[]:[n]),Zr(t,e,n))},Vn.over=pu,Vn.overArgs=ja,Vn.overEvery=du,Vn.overSome=vu,Vn.partial=za,Vn.partialRight=Ga,Vn.partition=Ca,Vn.pick=js,Vn.pickBy=zs,Vn.property=gu,Vn.propertyOf=function(t){return function(e){return null==t?o:Sr(t,e)}},Vn.pull=ea,Vn.pullAll=na,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,ho(n,2)):t},Vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qr(t,e,o,n):t},Vn.pullAt=ra,Vn.range=mu,Vn.rangeRight=yu,Vn.rearg=Va,Vn.reject=function(t,e){return(Ya(t)?Oe:_r)(t,Ua(ho(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ho(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Kr(t,i),n},Vn.rest=function(t,e){if("function"!=typeof t)throw new It(a);return Jr(t,e=e===o?e:ys(e))},Vn.reverse=ia,Vn.sampleSize=function(t,e,n){return e=(n?To(t,e,n):e===o)?1:ys(e),(Ya(t)?er:ei)(t,e)},Vn.set=function(t,e,n){return null==t?t:ni(t,e,n)},Vn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ni(t,e,n,r)},Vn.shuffle=function(t){return(Ya(t)?nr:oi)(t)},Vn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&To(t,e,n)?(e=0,n=r):(e=null==e?0:ys(e),n=n===o?r:ys(n)),ai(t,e,n)):[]},Vn.sortBy=Ra,Vn.sortedUniq=function(t){return t&&t.length?li(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?li(t,ho(e,2)):[]},Vn.split=function(t,e,n){return n&&"number"!=typeof n&&To(t,e,n)&&(e=n=o),(n=n===o?m:n>>>0)?(t=xs(t))&&("string"==typeof e||null!=e&&!cs(e))&&!(e=fi(e))&&ln(t)?wi(mn(t),0,n):t.split(e,n):[]},Vn.spread=function(t,e){if("function"!=typeof t)throw new It(a);return e=null==e?0:bn(ys(e),0),Jr((function(n){var r=n[e],i=wi(n,0,e);return r&&Fe(i,r),Ce(t,this,i)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?ai(t,1,e):[]},Vn.take=function(t,e,n){return t&&t.length?ai(t,0,(e=n||e===o?1:ys(e))<0?0:e):[]},Vn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ai(t,(e=r-(e=n||e===o?1:ys(e)))<0?0:e,r):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?gi(t,ho(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?gi(t,ho(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new It(a);return is(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),La(t,e,{leading:r,maxWait:e,trailing:i})},Vn.thru=ma,Vn.toArray=gs,Vn.toPairs=Gs,Vn.toPairsIn=Vs,Vn.toPath=function(t){return Ya(t)?De(t,zo):fs(t)?[t]:Pi(jo(xs(t)))},Vn.toPlainObject=bs,Vn.transform=function(t,e,n){var r=Ya(t),i=r||$a(t)||ps(t);if(e=ho(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:is(t)&&es(o)?Hn(Yt(t)):{}}return(i?ke:Tr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Vn.unary=function(t){return Ia(t,1)},Vn.union=oa,Vn.unionBy=aa,Vn.unionWith=sa,Vn.uniq=function(t){return t&&t.length?pi(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?pi(t,ho(e,2)):[]},Vn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?pi(t,o,e):[]},Vn.unset=function(t,e){return null==t||di(t,e)},Vn.unzip=ua,Vn.unzipWith=ca,Vn.update=function(t,e,n){return null==t?t:vi(t,e,bi(n))},Vn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:vi(t,e,bi(n),r)},Vn.values=Hs,Vn.valuesIn=function(t){return null==t?[]:en(t,Ds(t))},Vn.without=la,Vn.words=eu,Vn.wrap=function(t,e){return za(bi(e),t)},Vn.xor=ha,Vn.xorBy=fa,Vn.xorWith=pa,Vn.zip=da,Vn.zipObject=function(t,e){return _i(t||[],e||[],ir)},Vn.zipObjectDeep=function(t,e){return _i(t||[],e||[],ni)},Vn.zipWith=va,Vn.entries=Gs,Vn.entriesIn=Vs,Vn.extend=ws,Vn.extendWith=As,hu(Vn,Vn),Vn.add=bu,Vn.attempt=nu,Vn.camelCase=Xs,Vn.capitalize=Ws,Vn.ceil=xu,Vn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Es(n))==n?n:0),e!==o&&(e=(e=Es(e))==e?e:0),lr(Es(t),e,n)},Vn.clone=function(t){return hr(t,4)},Vn.cloneDeep=function(t){return hr(t,5)},Vn.cloneDeepWith=function(t,e){return hr(t,5,e="function"==typeof e?e:o)},Vn.cloneWith=function(t,e){return hr(t,4,e="function"==typeof e?e:o)},Vn.conformsTo=function(t,e){return null==e||fr(t,e,Ls(e))},Vn.deburr=Zs,Vn.defaultTo=function(t,e){return null==t||t!=t?e:t},Vn.divide=Tu,Vn.endsWith=function(t,e,n){t=xs(t),e=fi(e);var r=t.length,i=n=n===o?r:lr(ys(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Vn.eq=Ha,Vn.escape=function(t){return(t=xs(t))&&$.test(t)?t.replace(K,un):t},Vn.escapeRegExp=function(t){return(t=xs(t))&&at.test(t)?t.replace(ot,"\\$&"):t},Vn.every=function(t,e,n){var r=Ya(t)?Pe:mr;return n&&To(t,e,n)&&(e=o),r(t,ho(e,3))},Vn.find=Ea,Vn.findIndex=Zo,Vn.findKey=function(t,e){return Ge(t,ho(e,3),Tr)},Vn.findLast=ba,Vn.findLastIndex=Yo,Vn.findLastKey=function(t,e){return Ge(t,ho(e,3),wr)},Vn.floor=wu,Vn.forEach=xa,Vn.forEachRight=Ta,Vn.forIn=function(t,e){return null==t?t:br(t,ho(e,3),Ds)},Vn.forInRight=function(t,e){return null==t?t:xr(t,ho(e,3),Ds)},Vn.forOwn=function(t,e){return t&&Tr(t,ho(e,3))},Vn.forOwnRight=function(t,e){return t&&wr(t,ho(e,3))},Vn.get=ks,Vn.gt=Xa,Vn.gte=Wa,Vn.has=function(t,e){return null!=t&&_o(t,e,kr)},Vn.hasIn=Is,Vn.head=Ko,Vn.identity=su,Vn.includes=function(t,e,n,r){t=Ka(t)?t:Hs(t),n=n&&!r?ys(n):0;var i=t.length;return n<0&&(n=bn(i+n,0)),hs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&He(t,e,n)>-1},Vn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=bn(r+i,0)),He(t,e,i)},Vn.inRange=function(t,e,n){return e=ms(e),n===o?(n=e,e=0):n=ms(n),function(t,e,n){return t>=xn(e,n)&&t<bn(e,n)}(t=Es(t),e,n)},Vn.invoke=Ns,Vn.isArguments=Za,Vn.isArray=Ya,Vn.isArrayBuffer=qa,Vn.isArrayLike=Ka,Vn.isArrayLikeObject=Qa,Vn.isBoolean=function(t){return!0===t||!1===t||os(t)&&Cr(t)==b},Vn.isBuffer=$a,Vn.isDate=Ja,Vn.isElement=function(t){return os(t)&&1===t.nodeType&&!us(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(Ka(t)&&(Ya(t)||"string"==typeof t||"function"==typeof t.splice||$a(t)||ps(t)||Za(t)))return!t.length;var e=yo(t);if(e==S||e==I)return!t.size;if(Mo(t))return!Ur(t).length;for(var n in t)if(Ft.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return Lr(t,e)},Vn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Lr(t,e,o,n):!!r},Vn.isError=ts,Vn.isFinite=function(t){return"number"==typeof t&&be(t)},Vn.isFunction=es,Vn.isInteger=ns,Vn.isLength=rs,Vn.isMap=as,Vn.isMatch=function(t,e){return t===e||Dr(t,e,po(e))},Vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Dr(t,e,po(e),n)},Vn.isNaN=function(t){return ss(t)&&t!=+t},Vn.isNative=function(t){if(So(t))throw new At("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fr(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=ss,Vn.isObject=is,Vn.isObjectLike=os,Vn.isPlainObject=us,Vn.isRegExp=cs,Vn.isSafeInteger=function(t){return ns(t)&&t>=-9007199254740991&&t<=v},Vn.isSet=ls,Vn.isString=hs,Vn.isSymbol=fs,Vn.isTypedArray=ps,Vn.isUndefined=function(t){return t===o},Vn.isWeakMap=function(t){return os(t)&&yo(t)==N},Vn.isWeakSet=function(t){return os(t)&&"[object WeakSet]"==Cr(t)},Vn.join=function(t,e){return null==t?"":ze.call(t,e)},Vn.kebabCase=Ys,Vn.last=ta,Vn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ys(n))<0?bn(r+i,0):xn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ve(t,We,i,!0)},Vn.lowerCase=qs,Vn.lowerFirst=Ks,Vn.lt=ds,Vn.lte=vs,Vn.max=function(t){return t&&t.length?yr(t,su,Rr):o},Vn.maxBy=function(t,e){return t&&t.length?yr(t,ho(e,2),Rr):o},Vn.mean=function(t){return Ze(t,su)},Vn.meanBy=function(t,e){return Ze(t,ho(e,2))},Vn.min=function(t){return t&&t.length?yr(t,su,zr):o},Vn.minBy=function(t,e){return t&&t.length?yr(t,ho(e,2),zr):o},Vn.stubArray=_u,Vn.stubFalse=Eu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Su,Vn.nth=function(t,e){return t&&t.length?Wr(t,ys(e)):o},Vn.noConflict=function(){return ge._===this&&(ge._=Gt),this},Vn.noop=fu,Vn.now=ka,Vn.pad=function(t,e,n){t=xs(t);var r=(e=ys(e))?gn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Zi(me(i),n)+t+Zi(ve(i),n)},Vn.padEnd=function(t,e,n){t=xs(t);var r=(e=ys(e))?gn(t):0;return e&&r<e?t+Zi(e-r,n):t},Vn.padStart=function(t,e,n){t=xs(t);var r=(e=ys(e))?gn(t):0;return e&&r<e?Zi(e-r,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(xs(t).replace(st,""),e||0)},Vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&To(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=ms(t),e===o?(e=t,t=0):e=ms(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=An();return xn(t+i*(e-t+fe("1e-"+((i+"").length-1))),e)}return Qr(t,e)},Vn.reduce=function(t,e,n){var r=Ya(t)?Be:Ke,i=arguments.length<3;return r(t,ho(e,4),n,i,vr)},Vn.reduceRight=function(t,e,n){var r=Ya(t)?Ue:Ke,i=arguments.length<3;return r(t,ho(e,4),n,i,gr)},Vn.repeat=function(t,e,n){return e=(n?To(t,e,n):e===o)?1:ys(e),$r(xs(t),e)},Vn.replace=function(){var t=arguments,e=xs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(t,e,n){var r=-1,i=(e=xi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[zo(e[r])];a===o&&(r=i,a=n),t=es(a)?a.call(t):a}return t},Vn.round=Mu,Vn.runInContext=t,Vn.sample=function(t){return(Ya(t)?tr:ti)(t)},Vn.size=function(t){if(null==t)return 0;if(Ka(t))return hs(t)?gn(t):t.length;var e=yo(t);return e==S||e==I?t.size:Ur(t).length},Vn.snakeCase=Qs,Vn.some=function(t,e,n){var r=Ya(t)?je:si;return n&&To(t,e,n)&&(e=o),r(t,ho(e,3))},Vn.sortedIndex=function(t,e){return ui(t,e)},Vn.sortedIndexBy=function(t,e,n){return ci(t,e,ho(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ui(t,e);if(r<n&&Ha(t[r],e))return r}return-1},Vn.sortedLastIndex=function(t,e){return ui(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return ci(t,e,ho(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ui(t,e,!0)-1;if(Ha(t[n],e))return n}return-1},Vn.startCase=$s,Vn.startsWith=function(t,e,n){return t=xs(t),n=null==n?0:lr(ys(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e},Vn.subtract=Cu,Vn.sum=function(t){return t&&t.length?Qe(t,su):0},Vn.sumBy=function(t,e){return t&&t.length?Qe(t,ho(e,2)):0},Vn.template=function(t,e,n){var r=Vn.templateSettings;n&&To(t,e,n)&&(e=o),t=xs(t),e=As({},e,r,eo);var i,a,s=As({},e.imports,r.imports,eo),u=Ls(s),c=en(s,u),l=0,h=e.interpolate||Tt,f="__p += '",p=Rt((e.escape||Tt).source+"|"+h.source+"|"+(h===et?vt:Tt).source+"|"+(e.evaluate||Tt).source+"|$","g"),d="//# sourceURL="+(Ft.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ue+"]")+"\n";t.replace(p,(function(e,n,r,o,s,u){return r||(r=o),f+=t.slice(l,u).replace(wt,cn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),f+="';\n";var v=Ft.call(e,"variable")&&e.variable;if(v){if(pt.test(v))throw new At("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(W,""):f).replace(Z,"$1").replace(Y,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=nu((function(){return St(u,d+"return "+f).apply(o,c)}));if(g.source=f,ts(g))throw g;return g},Vn.times=function(t,e){if((t=ys(t))<1||t>v)return[];var n=m,r=xn(t,m);e=ho(e),t-=m;for(var i=$e(r,e);++n<t;)e(n);return i},Vn.toFinite=ms,Vn.toInteger=ys,Vn.toLength=_s,Vn.toLower=function(t){return xs(t).toLowerCase()},Vn.toNumber=Es,Vn.toSafeInteger=function(t){return t?lr(ys(t),-9007199254740991,v):0===t?t:0},Vn.toString=xs,Vn.toUpper=function(t){return xs(t).toUpperCase()},Vn.trim=function(t,e,n){if((t=xs(t))&&(n||e===o))return Je(t);if(!t||!(e=fi(e)))return t;var r=mn(t),i=mn(e);return wi(r,rn(r,i),on(r,i)+1).join("")},Vn.trimEnd=function(t,e,n){if((t=xs(t))&&(n||e===o))return t.slice(0,yn(t)+1);if(!t||!(e=fi(e)))return t;var r=mn(t);return wi(r,0,on(r,mn(e))+1).join("")},Vn.trimStart=function(t,e,n){if((t=xs(t))&&(n||e===o))return t.replace(st,"");if(!t||!(e=fi(e)))return t;var r=mn(t);return wi(r,rn(r,mn(e))).join("")},Vn.truncate=function(t,e){var n=30,r="...";if(is(e)){var i="separator"in e?e.separator:i;n="length"in e?ys(e.length):n,r="omission"in e?fi(e.omission):r}var a=(t=xs(t)).length;if(ln(t)){var s=mn(t);a=s.length}if(n>=a)return t;var u=n-gn(r);if(u<1)return r;var c=s?wi(s,0,u).join(""):t.slice(0,u);if(i===o)return c+r;if(s&&(u+=c.length-u),cs(i)){if(t.slice(u).search(i)){var l,h=c;for(i.global||(i=Rt(i.source,xs(gt.exec(i))+"g")),i.lastIndex=0;l=i.exec(h);)var f=l.index;c=c.slice(0,f===o?u:f)}}else if(t.indexOf(fi(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},Vn.unescape=function(t){return(t=xs(t))&&Q.test(t)?t.replace(q,_n):t},Vn.uniqueId=function(t){var e=++Bt;return xs(t)+e},Vn.upperCase=Js,Vn.upperFirst=tu,Vn.each=xa,Vn.eachRight=Ta,Vn.first=Ko,hu(Vn,(Au={},Tr(Vn,(function(t,e){Ft.call(Vn.prototype,e)||(Au[e]=t)})),Au),{chain:!1}),Vn.VERSION="4.17.21",ke(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),ke(["drop","take"],(function(t,e){Zn.prototype[t]=function(n){n=n===o?1:bn(ys(n),0);var r=this.__filtered__&&!e?new Zn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,m),type:t+(r.__dir__<0?"Right":"")}),r},Zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ke(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ho(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ke(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Zn.prototype[t]=function(){return this[n](1).value()[0]}})),ke(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Zn.prototype[t]=function(){return this.__filtered__?new Zn(this):this[n](1)}})),Zn.prototype.compact=function(){return this.filter(su)},Zn.prototype.find=function(t){return this.filter(t).head()},Zn.prototype.findLast=function(t){return this.reverse().find(t)},Zn.prototype.invokeMap=Jr((function(t,e){return"function"==typeof t?new Zn(this):this.map((function(n){return Or(n,t,e)}))})),Zn.prototype.reject=function(t){return this.filter(Ua(ho(t)))},Zn.prototype.slice=function(t,e){t=ys(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=ys(e))<0?n.dropRight(-e):n.take(e-t)),n)},Zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Zn.prototype.toArray=function(){return this.take(m)},Tr(Zn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Vn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Vn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Zn,c=s[0],l=u||Ya(e),h=function(t){var e=i.apply(Vn,Fe([t],s));return r&&f?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=a&&!f,v=u&&!p;if(!a&&l){e=v?e:new Zn(this);var g=t.apply(e,s);return g.__actions__.push({func:ma,args:[h],thisArg:o}),new Wn(g,f)}return d&&v?t.apply(this,s):(g=this.thru(h),d?r?g.value()[0]:g.value():g)})})),ke(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Pt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ya(i)?i:[],t)}return this[n]((function(n){return e.apply(Ya(n)?n:[],t)}))}})),Tr(Zn.prototype,(function(t,e){var n=Vn[e];if(n){var r=n.name+"";Ft.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:e,func:n})}})),Nn[Vi(o,2).name]=[{name:"wrapper",func:o}],Zn.prototype.clone=function(){var t=new Zn(this.__wrapped__);return t.__actions__=Pi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pi(this.__views__),t},Zn.prototype.reverse=function(){if(this.__filtered__){var t=new Zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ya(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=xn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,p=xn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return mi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,g=t[c+=e];++v<h;){var m=l[v],y=m.iteratee,_=m.type,E=y(g);if(2==_)g=E;else if(!E){if(1==_)continue t;break t}}d[f++]=g}return d},Vn.prototype.at=ya,Vn.prototype.chain=function(){return ga(this)},Vn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===o&&(this.__values__=gs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Vn.prototype.plant=function(t){for(var e,n=this;n instanceof Xn;){var r=Vo(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Zn){var e=t;return this.__actions__.length&&(e=new Zn(this)),(e=e.reverse()).__actions__.push({func:ma,args:[ia],thisArg:o}),new Wn(e,this.__chain__)}return this.thru(ia)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Jt&&(Vn.prototype[Jt]=function(){return this}),Vn}();"object"==i(n.amdO)&&n.amdO?(ge._=En,(r=function(){return En}.call(e,n,e,t))===o||(t.exports=r)):ye?((ye.exports=En)._=En,me._=En):ge._=En}).call(this)},870:function(t,e,n){var r=n(1765),i=n(2772)((function(t,e,n){r(t,e,n)}));t.exports=i},6282:function(t){t.exports=function(){return!1}},2034:function(t,e,n){var r=n(3051),i=n(3028);t.exports=function(t){return r(t,i(t))}},4828:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,u=[],c=!1,l=-1;function h(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=a(h);c=!0;for(var e=u.length;e;){for(s=u,u=[];++l<e;)s&&s[l].run();l=-1,e=u.length}s=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},8095:function(t,e,n){var r,i=n(4828),o=n(6565).default;!function(t){!function(e){var r="object"===(void 0===n.g?"undefined":o(n.g))?n.g:"object"===("undefined"==typeof self?"undefined":o(self))?self:"object"===o(this)?this:Function("return this;")(),a=s(t);function s(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===r.Reflect?r.Reflect=t:a=s(r.Reflect,a),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!s&&!u,l={create:s?function(){return ot(Object.create(null))}:u?function(){return ot({__proto__:null})}:function(){return ot({})},has:c?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:c?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},h=Object.getPrototypeOf(Function),f="object"===(void 0===i?"undefined":o(i))&&{NODE_ENV:"production",PUBLIC_PATH:"/"}&&"true"==={NODE_ENV:"production",PUBLIC_PATH:"/"}.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?nt():Map,d=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?rt():Set,v=new(f||"function"!=typeof WeakMap?it():WeakMap);function g(t,e,n,r){if(F(n)){if(!W(t))throw new TypeError;if(!Y(e))throw new TypeError;return S(t,e)}if(!W(t))throw new TypeError;if(!j(e))throw new TypeError;if(!j(r)&&!F(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),M(t,e,n=X(n),r)}function m(t,e){function n(n,r){if(!j(n))throw new TypeError;if(!F(r)&&!q(r))throw new TypeError;O(t,e,n,r)}return n}function y(t,e,n,r){if(!j(n))throw new TypeError;return F(r)||(r=X(r)),O(t,e,n,r)}function _(t,e,n){if(!j(e))throw new TypeError;return F(n)||(n=X(n)),R(t,e,n)}function E(t,e,n){if(!j(e))throw new TypeError;return F(n)||(n=X(n)),k(t,e,n)}function b(t,e,n){if(!j(e))throw new TypeError;return F(n)||(n=X(n)),I(t,e,n)}function x(t,e,n){if(!j(e))throw new TypeError;return F(n)||(n=X(n)),P(t,e,n)}function T(t,e){if(!j(t))throw new TypeError;return F(e)||(e=X(e)),N(t,e)}function w(t,e){if(!j(t))throw new TypeError;return F(e)||(e=X(e)),L(t,e)}function A(t,e,n){if(!j(e))throw new TypeError;F(n)||(n=X(n));var r=C(e,n,!1);if(F(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=v.get(e);return i.delete(n),i.size>0||v.delete(e),!0}function S(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!F(r)&&!B(r)){if(!Y(r))throw new TypeError;e=r}}return e}function M(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,n,r);if(!F(o)&&!B(o)){if(!j(o))throw new TypeError;r=o}}return r}function C(t,e,n){var r=v.get(t);if(F(r)){if(!n)return;r=new p,v.set(t,r)}var i=r.get(e);if(F(i)){if(!n)return;i=new p,r.set(e,i)}return i}function R(t,e,n){if(k(t,e,n))return!0;var r=et(e);return!B(r)&&R(t,r,n)}function k(t,e,n){var r=C(e,n,!1);return!F(r)&&V(r.has(t))}function I(t,e,n){if(k(t,e,n))return P(t,e,n);var r=et(e);return B(r)?void 0:I(t,r,n)}function P(t,e,n){var r=C(e,n,!1);if(!F(r))return r.get(t)}function O(t,e,n,r){C(n,r,!0).set(t,e)}function N(t,e){var n=L(t,e),r=et(t);if(null===r)return n;var i=N(r,e);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],s=0,u=n;s<u.length;s++){var c=u[s];o.has(c)||(o.add(c),a.push(c))}for(var l=0,h=i;l<h.length;l++){c=h[l];o.has(c)||(o.add(c),a.push(c))}return a}function L(t,e){var n=[],r=C(t,e,!1);if(F(r))return n;for(var i=Q(r.keys()),o=0;;){var a=J(i);if(!a)return n.length=o,n;var s=$(a);try{n[o]=s}catch(t){try{tt(i)}finally{throw t}}o++}}function D(t){if(null===t)return 1;switch(o(t)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function F(t){return void 0===t}function B(t){return null===t}function U(t){return"symbol"===o(t)}function j(t){return"object"===o(t)?null!==t:"function"==typeof t}function z(t,e){switch(D(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",i=K(t,r);if(void 0!==i){var o=i.call(t,n);if(j(o))throw new TypeError;return o}return G(t,"default"===n?"number":n)}function G(t,e){if("string"===e){var n=t.toString;if(Z(n))if(!j(i=n.call(t)))return i;if(Z(r=t.valueOf))if(!j(i=r.call(t)))return i}else{var r;if(Z(r=t.valueOf))if(!j(i=r.call(t)))return i;var i,o=t.toString;if(Z(o))if(!j(i=o.call(t)))return i}throw new TypeError}function V(t){return!!t}function H(t){return""+t}function X(t){var e=z(t,3);return U(e)?e:H(e)}function W(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function Z(t){return"function"==typeof t}function Y(t){return"function"==typeof t}function q(t){switch(D(t)){case 3:case 4:return!0;default:return!1}}function K(t,e){var n=t[e];if(null!=n){if(!Z(n))throw new TypeError;return n}}function Q(t){var e=K(t,a);if(!Z(e))throw new TypeError;var n=e.call(t);if(!j(n))throw new TypeError;return n}function $(t){return t.value}function J(t){var e=t.next();return!e.done&&e}function tt(t){var e=t.return;e&&e.call(t)}function et(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===h)return e;if(e!==h)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!=typeof i||i===t?e:i}function nt(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[a]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,i)},e.prototype.entries=function(){return new n(this._keys,this._values,o)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[a]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function i(t,e){return e}function o(t,e){return[t,e]}}function rt(){return function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[a]=function(){return this.keys()},t}()}function it(){var t=16,n=l.create(),r=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&l.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?l.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+u()}while(l.has(n,t));return n[t]=!0,t}function o(t,n){if(!e.call(t,r)){if(!n)return;Object.defineProperty(t,r,{value:l.create()})}return t[r]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t):a(new Array(t),t)}function u(){var e=s(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<t;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function ot(t){return t.__=void 0,delete t.__,t}t("decorate",g),t("metadata",m),t("defineMetadata",y),t("hasMetadata",_),t("hasOwnMetadata",E),t("getMetadata",b),t("getOwnMetadata",x),t("getMetadataKeys",T),t("getOwnMetadataKeys",w),t("deleteMetadata",A)}(a)}()}(r||(r={}))},8406:function(t,e,n){var r=n(4828);!function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(){i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function v(){}var g={};c(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(M([])));y&&y!==e&&n.call(y,a)&&(g=y);var _=v.prototype=p.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=h(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=v,r(_,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},E(b.prototype),c(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(_),c(_,u,"Generator"),c(_,a,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function o(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,n){return(e=b(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function T(t,e){return t(e={exports:{}},e.exports),e.exports}var w,A,S=function(t){return t&&t.Math==Math&&t},M=S("object"==typeof globalThis&&globalThis)||S("object"==typeof window&&window)||S("object"==typeof self&&self)||S("object"==typeof x&&x)||function(){return this}()||x||Function("return this")(),C=Object.defineProperty,R=function(t,e){try{C(M,t,{value:e,configurable:!0,writable:!0})}catch(n){M[t]=e}return e},k=M["__core-js_shared__"]||R("__core-js_shared__",{}),I=T((function(t){(t.exports=function(t,e){return k[t]||(k[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})})),P=function(t){try{return!!t()}catch(t){return!0}},O=!P((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),N=Function.prototype,L=N.call,D=O&&N.bind.bind(L,L),F=O?D:function(t){return function(){return L.apply(t,arguments)}},B=function(t){return null==t},U=TypeError,j=function(t){if(B(t))throw U("Can't call method on "+t);return t},z=Object,G=function(t){return z(j(t))},V=F({}.hasOwnProperty),H=Object.hasOwn||function(t,e){return V(G(t),e)},X=0,W=Math.random(),Z=F(1..toString),Y=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Z(++X+W,36)},q="undefined"!=typeof navigator&&String(navigator.userAgent)||"",K=M.process,Q=M.Deno,$=K&&K.versions||Q&&Q.version,J=$&&$.v8;J&&(A=(w=J.split("."))[0]>0&&w[0]<4?1:+(w[0]+w[1])),!A&&q&&(!(w=q.match(/Edge\/(\d+)/))||w[1]>=74)&&(w=q.match(/Chrome\/(\d+)/))&&(A=+w[1]);var tt=A,et=M.String,nt=!!Object.getOwnPropertySymbols&&!P((function(){var t=Symbol();return!et(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&tt&&tt<41})),rt=nt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,it=M.Symbol,ot=I("wks"),at=rt?it.for||it:it&&it.withoutSetter||Y,st=function(t){return H(ot,t)||(ot[t]=nt&&H(it,t)?it[t]:at("Symbol."+t)),ot[t]},ut={};ut[st("toStringTag")]="z";var ct="[object z]"===String(ut),lt="object"==typeof document&&document.all,ht={all:lt,IS_HTMLDDA:void 0===lt&&void 0!==lt},ft=ht.all,pt=ht.IS_HTMLDDA?function(t){return"function"==typeof t||t===ft}:function(t){return"function"==typeof t},dt=!P((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),vt=ht.all,gt=ht.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:pt(t)||t===vt}:function(t){return"object"==typeof t?null!==t:pt(t)},mt=M.document,yt=gt(mt)&&gt(mt.createElement),_t=function(t){return yt?mt.createElement(t):{}},Et=!dt&&!P((function(){return 7!=Object.defineProperty(_t("div"),"a",{get:function(){return 7}}).a})),bt=dt&&P((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),xt=String,Tt=TypeError,wt=function(t){if(gt(t))return t;throw Tt(xt(t)+" is not an object")},At=Function.prototype.call,St=O?At.bind(At):function(){return At.apply(At,arguments)},Mt=function(t){return pt(t)?t:void 0},Ct=function(t,e){return arguments.length<2?Mt(M[t]):M[t]&&M[t][e]},Rt=F({}.isPrototypeOf),kt=Object,It=rt?function(t){return"symbol"==typeof t}:function(t){var e=Ct("Symbol");return pt(e)&&Rt(e.prototype,kt(t))},Pt=String,Ot=function(t){try{return Pt(t)}catch(t){return"Object"}},Nt=TypeError,Lt=function(t){if(pt(t))return t;throw Nt(Ot(t)+" is not a function")},Dt=function(t,e){var n=t[e];return B(n)?void 0:Lt(n)},Ft=TypeError,Bt=TypeError,Ut=st("toPrimitive"),jt=function(t,e){if(!gt(t)||It(t))return t;var n,r=Dt(t,Ut);if(r){if(void 0===e&&(e="default"),n=St(r,t,e),!gt(n)||It(n))return n;throw Bt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&pt(n=t.toString)&&!gt(r=St(n,t)))return r;if(pt(n=t.valueOf)&&!gt(r=St(n,t)))return r;if("string"!==e&&pt(n=t.toString)&&!gt(r=St(n,t)))return r;throw Ft("Can't convert object to primitive value")}(t,e)},zt=function(t){var e=jt(t,"string");return It(e)?e:e+""},Gt=TypeError,Vt=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,Xt={f:dt?bt?function(t,e,n){if(wt(t),e=zt(e),wt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=Ht(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Vt(t,e,n)}:Vt:function(t,e,n){if(wt(t),e=zt(e),wt(n),Et)try{return Vt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Gt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Wt=Function.prototype,Zt=dt&&Object.getOwnPropertyDescriptor,Yt=H(Wt,"name"),qt={EXISTS:Yt,PROPER:Yt&&"something"===function(){}.name,CONFIGURABLE:Yt&&(!dt||dt&&Zt(Wt,"name").configurable)},Kt=F(Function.toString);pt(k.inspectSource)||(k.inspectSource=function(t){return Kt(t)});var Qt,$t,Jt,te=k.inspectSource,ee=M.WeakMap,ne=pt(ee)&&/native code/.test(String(ee)),re=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ie=dt?function(t,e,n){return Xt.f(t,e,re(1,n))}:function(t,e,n){return t[e]=n,t},oe=I("keys"),ae=function(t){return oe[t]||(oe[t]=Y(t))},se={},ue=M.TypeError,ce=M.WeakMap;if(ne||k.state){var le=k.state||(k.state=new ce);le.get=le.get,le.has=le.has,le.set=le.set,Qt=function(t,e){if(le.has(t))throw ue("Object already initialized");return e.facade=t,le.set(t,e),e},$t=function(t){return le.get(t)||{}},Jt=function(t){return le.has(t)}}else{var he=ae("state");se[he]=!0,Qt=function(t,e){if(H(t,he))throw ue("Object already initialized");return e.facade=t,ie(t,he,e),e},$t=function(t){return H(t,he)?t[he]:{}},Jt=function(t){return H(t,he)}}var fe={set:Qt,get:$t,has:Jt,enforce:function(t){return Jt(t)?$t(t):Qt(t,{})},getterFor:function(t){return function(e){var n;if(!gt(e)||(n=$t(e)).type!==t)throw ue("Incompatible receiver, "+t+" required");return n}}},pe=T((function(t){var e=qt.CONFIGURABLE,n=fe.enforce,r=fe.get,i=String,o=Object.defineProperty,a=F("".slice),s=F("".replace),u=F([].join),c=dt&&!P((function(){return 8!==o((function(){}),"length",{value:8}).length})),l=String(String).split("String"),h=t.exports=function(t,r,h){"Symbol("===a(i(r),0,7)&&(r="["+s(i(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),h&&h.getter&&(r="get "+r),h&&h.setter&&(r="set "+r),(!H(t,"name")||e&&t.name!==r)&&(dt?o(t,"name",{value:r,configurable:!0}):t.name=r),c&&h&&H(h,"arity")&&t.length!==h.arity&&o(t,"length",{value:h.arity});try{h&&H(h,"constructor")&&h.constructor?dt&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var f=n(t);return H(f,"source")||(f.source=u(l,"string"==typeof r?r:"")),t};Function.prototype.toString=h((function(){return pt(this)&&r(this).source||te(this)}),"toString")})),de=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(pt(n)&&pe(n,o,r),r.global)i?t[e]=n:R(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:Xt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},ve=F({}.toString),ge=F("".slice),me=function(t){return ge(ve(t),8,-1)},ye=st("toStringTag"),_e=Object,Ee="Arguments"==me(function(){return arguments}()),be=ct?me:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=_e(t),ye))?n:Ee?me(e):"Object"==(r=me(e))&&pt(e.callee)?"Arguments":r},xe=ct?{}.toString:function(){return"[object "+be(this)+"]"};ct||de(Object.prototype,"toString",xe,{unsafe:!0});var Te={}.propertyIsEnumerable,we=Object.getOwnPropertyDescriptor,Ae={f:we&&!Te.call({1:2},1)?function(t){var e=we(this,t);return!!e&&e.enumerable}:Te},Se=Object,Me=F("".split),Ce=P((function(){return!Se("z").propertyIsEnumerable(0)}))?function(t){return"String"==me(t)?Me(t,""):Se(t)}:Se,Re=function(t){return Ce(j(t))},ke=Object.getOwnPropertyDescriptor,Ie={f:dt?ke:function(t,e){if(t=Re(t),e=zt(e),Et)try{return ke(t,e)}catch(t){}if(H(t,e))return re(!St(Ae.f,t,e),t[e])}},Pe=Math.ceil,Oe=Math.floor,Ne=Math.trunc||function(t){var e=+t;return(e>0?Oe:Pe)(e)},Le=function(t){var e=+t;return e!=e||0===e?0:Ne(e)},De=Math.max,Fe=Math.min,Be=function(t,e){var n=Le(t);return n<0?De(n+e,0):Fe(n,e)},Ue=Math.min,je=function(t){return t>0?Ue(Le(t),9007199254740991):0},ze=function(t){return je(t.length)},Ge=function(t){return function(e,n,r){var i,o=Re(e),a=ze(o),s=Be(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},Ve={includes:Ge(!0),indexOf:Ge(!1)},He=Ve.indexOf,Xe=F([].push),We=function(t,e){var n,r=Re(t),i=0,o=[];for(n in r)!H(se,n)&&H(r,n)&&Xe(o,n);for(;e.length>i;)H(r,n=e[i++])&&(~He(o,n)||Xe(o,n));return o},Ze=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ye=Ze.concat("length","prototype"),qe={f:Object.getOwnPropertyNames||function(t){return We(t,Ye)}},Ke={f:Object.getOwnPropertySymbols},Qe=F([].concat),$e=Ct("Reflect","ownKeys")||function(t){var e=qe.f(wt(t)),n=Ke.f;return n?Qe(e,n(t)):e},Je=function(t,e,n){for(var r=$e(e),i=Xt.f,o=Ie.f,a=0;a<r.length;a++){var s=r[a];H(t,s)||n&&H(n,s)||i(t,s,o(e,s))}},tn=/#|\.prototype\./,en=function(t,e){var n=rn[nn(t)];return n==an||n!=on&&(pt(e)?P(e):!!e)},nn=en.normalize=function(t){return String(t).replace(tn,".").toLowerCase()},rn=en.data={},on=en.NATIVE="N",an=en.POLYFILL="P",sn=en,un=Ie.f,cn=function(t,e){var n,r,i,o,a,s=t.target,u=t.global,c=t.stat;if(n=u?M:c?M[s]||R(s,{}):(M[s]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=un(n,r))&&a.value:n[r],!sn(u?r:s+(c?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;Je(o,i)}(t.sham||i&&i.sham)&&ie(o,"sham",!0),de(n,r,o,t)}},ln=void 0!==r&&"process"==me(r),hn=String,fn=TypeError,pn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=function(t,e,n){try{return F(Lt(Object.getOwnPropertyDescriptor(t,"__proto__").set))}catch(t){}}(Object.prototype))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return wt(n),function(t){if("object"==typeof t||pt(t))return t;throw fn("Can't set "+hn(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),dn=Xt.f,vn=st("toStringTag"),gn=function(t,e,n){t&&!n&&(t=t.prototype),t&&!H(t,vn)&&dn(t,vn,{configurable:!0,value:e})},mn=function(t,e,n){return n.get&&pe(n.get,e,{getter:!0}),n.set&&pe(n.set,e,{setter:!0}),Xt.f(t,e,n)},yn=st("species"),_n=function(t){var e=Ct(t);dt&&e&&!e[yn]&&mn(e,yn,{configurable:!0,get:function(){return this}})},En=TypeError,bn=function(t,e){if(Rt(e,t))return t;throw En("Incorrect invocation")},xn=function(){},Tn=[],wn=Ct("Reflect","construct"),An=/^\s*(?:class|function)\b/,Sn=F(An.exec),Mn=!An.exec(xn),Cn=function(t){if(!pt(t))return!1;try{return wn(xn,Tn,t),!0}catch(t){return!1}},Rn=function(t){if(!pt(t))return!1;switch(be(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Mn||!!Sn(An,te(t))}catch(t){return!0}};Rn.sham=!0;var kn,In,Pn,On,Nn=!wn||P((function(){var t;return Cn(Cn.call)||!Cn(Object)||!Cn((function(){t=!0}))||t}))?Rn:Cn,Ln=TypeError,Dn=function(t){if(Nn(t))return t;throw Ln(Ot(t)+" is not a constructor")},Fn=st("species"),Bn=function(t,e){var n,r=wt(t).constructor;return void 0===r||B(n=wt(r)[Fn])?e:Dn(n)},Un=Function.prototype,jn=Un.apply,zn=Un.call,Gn="object"==typeof Reflect&&Reflect.apply||(O?zn.bind(jn):function(){return zn.apply(jn,arguments)}),Vn=function(t){if("Function"===me(t))return F(t)},Hn=Vn(Vn.bind),Xn=function(t,e){return Lt(t),void 0===e?t:O?Hn(t,e):function(){return t.apply(e,arguments)}},Wn=Ct("document","documentElement"),Zn=F([].slice),Yn=TypeError,qn=function(t,e){if(t<e)throw Yn("Not enough arguments");return t},Kn=/(?:ipad|iphone|ipod).*applewebkit/i.test(q),Qn=M.setImmediate,$n=M.clearImmediate,Jn=M.process,tr=M.Dispatch,er=M.Function,nr=M.MessageChannel,rr=M.String,ir=0,or={};P((function(){kn=M.location}));var ar=function(t){if(H(or,t)){var e=or[t];delete or[t],e()}},sr=function(t){return function(){ar(t)}},ur=function(t){ar(t.data)},cr=function(t){M.postMessage(rr(t),kn.protocol+"//"+kn.host)};Qn&&$n||(Qn=function(t){qn(arguments.length,1);var e=pt(t)?t:er(t),n=Zn(arguments,1);return or[++ir]=function(){Gn(e,void 0,n)},In(ir),ir},$n=function(t){delete or[t]},ln?In=function(t){Jn.nextTick(sr(t))}:tr&&tr.now?In=function(t){tr.now(sr(t))}:nr&&!Kn?(On=(Pn=new nr).port2,Pn.port1.onmessage=ur,In=Xn(On.postMessage,On)):M.addEventListener&&pt(M.postMessage)&&!M.importScripts&&kn&&"file:"!==kn.protocol&&!P(cr)?(In=cr,M.addEventListener("message",ur,!1)):In="onreadystatechange"in _t("script")?function(t){Wn.appendChild(_t("script")).onreadystatechange=function(){Wn.removeChild(this),ar(t)}}:function(t){setTimeout(sr(t),0)});var lr={set:Qn,clear:$n},hr=function(){this.head=null,this.tail=null};hr.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var fr,pr,dr,vr,gr,mr=hr,yr=/ipad|iphone|ipod/i.test(q)&&"undefined"!=typeof Pebble,_r=/web0s(?!.*chrome)/i.test(q),Er=Ie.f,br=lr.set,xr=M.MutationObserver||M.WebKitMutationObserver,Tr=M.document,wr=M.process,Ar=M.Promise,Sr=Er(M,"queueMicrotask"),Mr=Sr&&Sr.value;if(!Mr){var Cr=new mr,Rr=function(){var t,e;for(ln&&(t=wr.domain)&&t.exit();e=Cr.get();)try{e()}catch(t){throw Cr.head&&fr(),t}t&&t.enter()};Kn||ln||_r||!xr||!Tr?!yr&&Ar&&Ar.resolve?((vr=Ar.resolve(void 0)).constructor=Ar,gr=Xn(vr.then,vr),fr=function(){gr(Rr)}):ln?fr=function(){wr.nextTick(Rr)}:(br=Xn(br,M),fr=function(){br(Rr)}):(pr=!0,dr=Tr.createTextNode(""),new xr(Rr).observe(dr,{characterData:!0}),fr=function(){dr.data=pr=!pr}),Mr=function(t){Cr.head||fr(),Cr.add(t)}}var kr,Ir,Pr,Or=Mr,Nr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Lr=M.Promise,Dr="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Fr=!Dr&&!ln&&"object"==typeof window&&"object"==typeof document,Br=(Lr&&Lr.prototype,st("species")),Ur=!1,jr=pt(M.PromiseRejectionEvent),zr={CONSTRUCTOR:sn("Promise",(function(){var t=te(Lr),e=t!==String(Lr);if(!e&&66===tt)return!0;if(!tt||tt<51||!/native code/.test(t)){var n=new Lr((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Br]=r,!(Ur=n.then((function(){}))instanceof r))return!0}return!e&&(Fr||Dr)&&!jr})),REJECTION_EVENT:jr,SUBCLASSING:Ur},Gr=TypeError,Vr=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Gr("Bad Promise constructor");e=t,n=r})),this.resolve=Lt(e),this.reject=Lt(n)},Hr={f:function(t){return new Vr(t)}},Xr=lr.set,Wr=zr.CONSTRUCTOR,Zr=zr.REJECTION_EVENT,Yr=zr.SUBCLASSING,qr=fe.getterFor("Promise"),Kr=fe.set,Qr=Lr&&Lr.prototype,$r=Lr,Jr=Qr,ti=M.TypeError,ei=M.document,ni=M.process,ri=Hr.f,ii=ri,oi=!!(ei&&ei.createEvent&&M.dispatchEvent),ai=function(t){var e;return!(!gt(t)||!pt(e=t.then))&&e},si=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2===e.rejection&&fi(e),e.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===t.promise?c(ti("Promise-chain cycle")):(r=ai(n))?St(r,n,u,c):u(n)):c(o)}catch(t){l&&!i&&l.exit(),c(t)}},ui=function(t,e){t.notified||(t.notified=!0,Or((function(){for(var n,r=t.reactions;n=r.get();)si(n,t);t.notified=!1,e&&!t.rejection&&li(t)})))},ci=function(t,e,n){var r,i;oi?((r=ei.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),M.dispatchEvent(r)):r={promise:e,reason:n},!Zr&&(i=M["on"+t])?i(r):"unhandledrejection"===t&&function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}("Unhandled promise rejection",n)},li=function(t){St(Xr,M,(function(){var e,n=t.facade,r=t.value;if(hi(t)&&(e=Nr((function(){ln?ni.emit("unhandledRejection",r,n):ci("unhandledrejection",n,r)})),t.rejection=ln||hi(t)?2:1,e.error))throw e.value}))},hi=function(t){return 1!==t.rejection&&!t.parent},fi=function(t){St(Xr,M,(function(){var e=t.facade;ln?ni.emit("rejectionHandled",e):ci("rejectionhandled",e,t.value)}))},pi=function(t,e,n){return function(r){t(e,r,n)}},di=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ui(t,!0))},vi=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw ti("Promise can't be resolved itself");var r=ai(e);r?Or((function(){var n={done:!1};try{St(r,e,pi(vi,n,t),pi(di,n,t))}catch(e){di(n,e,t)}})):(t.value=e,t.state=1,ui(t,!1))}catch(e){di({done:!1},e,t)}}};if(Wr&&(Jr=($r=function(t){bn(this,Jr),Lt(t),St(kr,this);var e=qr(this);try{t(pi(vi,e),pi(di,e))}catch(t){di(e,t)}}).prototype,(kr=function(t){Kr(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new mr,rejection:!1,state:0,value:void 0})}).prototype=de(Jr,"then",(function(t,e){var n=qr(this),r=ri(Bn(this,$r));return n.parent=!0,r.ok=!pt(t)||t,r.fail=pt(e)&&e,r.domain=ln?ni.domain:void 0,0==n.state?n.reactions.add(r):Or((function(){si(r,n)})),r.promise})),Ir=function(){var t=new kr,e=qr(t);this.promise=t,this.resolve=pi(vi,e),this.reject=pi(di,e)},Hr.f=ri=function(t){return t===$r||void 0===t?new Ir(t):ii(t)},pt(Lr)&&Qr!==Object.prototype)){Pr=Qr.then,Yr||de(Qr,"then",(function(t,e){var n=this;return new $r((function(t,e){St(Pr,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Qr.constructor}catch(t){}pn&&pn(Qr,Jr)}cn({global:!0,constructor:!0,wrap:!0,forced:Wr},{Promise:$r}),gn($r,"Promise",!1),_n("Promise");var gi={},mi=st("iterator"),yi=Array.prototype,_i=function(t){return void 0!==t&&(gi.Array===t||yi[mi]===t)},Ei=st("iterator"),bi=function(t){if(!B(t))return Dt(t,Ei)||Dt(t,"@@iterator")||gi[be(t)]},xi=TypeError,Ti=function(t,e){var n=arguments.length<2?bi(t):e;if(Lt(n))return wt(St(n,t));throw xi(Ot(t)+" is not iterable")},wi=function(t,e,n){var r,i;wt(t);try{if(!(r=Dt(t,"return"))){if("throw"===e)throw n;return n}r=St(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return wt(r),n},Ai=TypeError,Si=function(t,e){this.stopped=t,this.result=e},Mi=Si.prototype,Ci=function(t,e,n){var r,i,o,a,s,u,c,l=n&&n.that,h=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=Xn(e,l),g=function(t){return r&&wi(r,"normal",t),new Si(!0,t)},m=function(t){return h?(wt(t),d?v(t[0],t[1],g):v(t[0],t[1])):d?v(t,g):v(t)};if(f)r=t.iterator;else if(p)r=t;else{if(!(i=bi(t)))throw Ai(Ot(t)+" is not iterable");if(_i(i)){for(o=0,a=ze(t);a>o;o++)if((s=m(t[o]))&&Rt(Mi,s))return s;return new Si(!1)}r=Ti(t,i)}for(u=f?t.next:r.next;!(c=St(u,r)).done;){try{s=m(c.value)}catch(t){wi(r,"throw",t)}if("object"==typeof s&&s&&Rt(Mi,s))return s}return new Si(!1)},Ri=st("iterator"),ki=!1;try{var Ii=0,Pi={next:function(){return{done:!!Ii++}},return:function(){ki=!0}};Pi[Ri]=function(){return this},Array.from(Pi,(function(){throw 2}))}catch(t){}var Oi=function(t,e){if(!e&&!ki)return!1;var n=!1;try{var r={};r[Ri]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Ni=zr.CONSTRUCTOR||!Oi((function(t){Lr.all(t).then(void 0,(function(){}))}));cn({target:"Promise",stat:!0,forced:Ni},{all:function(t){var e=this,n=Hr.f(e),r=n.resolve,i=n.reject,o=Nr((function(){var n=Lt(e.resolve),o=[],a=0,s=1;Ci(t,(function(t){var u=a++,c=!1;s++,St(n,e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise}});var Li=zr.CONSTRUCTOR,Di=Lr&&Lr.prototype;if(cn({target:"Promise",proto:!0,forced:Li,real:!0},{catch:function(t){return this.then(void 0,t)}}),pt(Lr)){var Fi=Ct("Promise").prototype.catch;Di.catch!==Fi&&de(Di,"catch",Fi,{unsafe:!0})}cn({target:"Promise",stat:!0,forced:Ni},{race:function(t){var e=this,n=Hr.f(e),r=n.reject,i=Nr((function(){var i=Lt(e.resolve);Ci(t,(function(t){St(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),cn({target:"Promise",stat:!0,forced:zr.CONSTRUCTOR},{reject:function(t){var e=Hr.f(this);return St(e.reject,void 0,t),e.promise}});var Bi=zr.CONSTRUCTOR;function Ui(t,e){if(!t)throw new Error(e||"web worker helper assertion failed.")}Ct("Promise"),cn({target:"Promise",stat:!0,forced:Bi},{resolve:function(t){return function(t,e){if(wt(t),gt(e)&&e.constructor===t)return e;var n=Hr.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var ji="undefined"!=typeof window&&void 0!==window.orientation,zi=function(){function t(t,e){var n=this;this.name=t,this.workerThread=e,this.isRunning=!0,this.resolve=function(){},this.reject=function(){},this.result=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return t.prototype.postMessage=function(t,e){this.workerThread.postMessage({source:"Main thread",type:t,payload:e})},t.prototype.done=function(t){Ui(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.resolve(t)},t.prototype.error=function(t){Ui(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.reject(t)},t}(),Gi=new Map;function Vi(t){var e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function Hi(t,e,n){void 0===e&&(e=!0);var r=n||new Set;if(t)if(Xi(t))r.add(t);else if(Xi(t.buffer))r.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"==typeof t)for(var i in t)Hi(t[i],e,r);return void 0===n?Array.from(r):[]}function Xi(t){return!!t&&(t instanceof ArrayBuffer||"undefined"!=typeof MessagePort&&t instanceof MessagePort||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)}var Wi=function(){},Zi=function(){function t(t){this.terminated=!1,this.loadableURL="";var e=t.name,n=t.source,r=t.url;Ui(n||r),this.name=e,this.source=n,this.url=r,this.onMessage=Wi,this.onError=function(t){return console.log(t)},this.worker=this.createBrowserWorker()}return t.isSupported=function(){return"undefined"!=typeof Worker},t.prototype.destroy=function(){this.onMessage=Wi,this.onError=Wi,this.worker.terminate(),this.terminated=!0},Object.defineProperty(t.prototype,"isRunning",{get:function(){return Boolean(this.onMessage)},enumerable:!1,configurable:!0}),t.prototype.postMessage=function(t,e){e=e||Hi(t),this.worker.postMessage(t,e)},t.prototype.getErrorFromErrorEvent=function(t){var e="Failed to load ";return e+="worker "+this.name+" from "+this.url+". ",t.message&&(e+=t.message+" in "),t.lineno&&(e+=":"+t.lineno+":"+t.colno),new Error(e)},t.prototype.createBrowserWorker=function(){var t=this;this.loadableURL=function(t){Ui(t.source&&!t.url||!t.source&&t.url);var e=Gi.get(t.source||t.url);return e||(t.url&&(e=function(t){return t.startsWith("http")?Vi("try {\n  importScripts('"+t+"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}"):t}(t.url),Gi.set(t.url,e)),t.source&&(e=Vi(t.source),Gi.set(t.source,e))),Ui(e),e}({source:this.source,url:this.url});var e=new Worker(this.loadableURL,{name:this.name});return e.onmessage=function(e){e.data?t.onMessage(e.data):t.onError(new Error("No data received"))},e.onerror=function(e){t.onError(t.getErrorFromErrorEvent(e)),t.terminated=!0},e.onmessageerror=function(e){return console.error("worker "+t.name+", message error: "+e)},e},t}(),Yi=self&&self.__assign||function(){return(Yi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},qi=self&&self.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},Ki=self&&self.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Qi=function(){function t(t){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=function(){},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=t.source,this.url=t.url,this.setProps(t)}return t.prototype.destroy=function(){this.idleQueue.forEach((function(t){return t.destroy()})),this.isDestroyed=!0},t.prototype.setProps=function(t){this.props=Yi(Yi({},this.props),t),void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)},t.prototype.startJob=function(t,e,n){return void 0===e&&(e=function(t,e,n){return t.done(n)}),void 0===n&&(n=function(t,e){return t.error(e)}),qi(this,void 0,void 0,(function(){var r,i=this;return Ki(this,(function(o){switch(o.label){case 0:return r=new Promise((function(r){return i.jobQueue.push({name:t,onMessage:e,onError:n,onStart:r}),i})),this.startQueuedJob(),[4,r];case 1:return[2,o.sent()]}}))}))},t.prototype.startQueuedJob=function(){return qi(this,void 0,void 0,(function(){var t,e,n;return Ki(this,(function(r){switch(r.label){case 0:if(!this.jobQueue.length)return[2];if(!(t=this.getAvailableWorker()))return[2];if(!(e=this.jobQueue.shift()))return[3,4];this.onDebug({message:"Starting job",name:e.name,backlog:this.jobQueue.length,workerThread:t}),n=new zi(e.name,t),t.onMessage=function(t){return e.onMessage(n,t.type,t.payload)},t.onError=function(t){return e.onError(n,t)},e.onStart(n),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,n.result];case 2:return r.sent(),[3,4];case 3:return this.returnWorkerToQueue(t),[7];case 4:return[2]}}))}))},t.prototype.returnWorkerToQueue=function(t){this.isDestroyed||!this.reuseWorkers||this.count>this.getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this.startQueuedJob()},t.prototype.getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this.getMaxConcurrency()){this.count++;var t=this.name.toLowerCase()+" (#"+this.count+" of "+this.maxConcurrency+")";return new Zi({name:t,source:this.source,url:this.url})}return null},t.prototype.getMaxConcurrency=function(){return ji?this.maxMobileConcurrency:this.maxConcurrency},t}(),$i=self&&self.__assign||function(){return($i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ji=self&&self.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},to={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},eo=(function(){function t(t){this.workerPools=new Map,this.props=$i({},to),this.setProps(t),this.workerPools=new Map}t.isSupported=function(){return Zi.isSupported()},t.getWorkerFarm=function(e){return void 0===e&&(e={}),t.workerFarm=t.workerFarm||new t({}),t.workerFarm.setProps(e),t.workerFarm},t.prototype.destroy=function(){var t,e;try{for(var n=Ji(this.workerPools.values()),r=n.next();!r.done;r=n.next())r.value.destroy()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.setProps=function(t){var e,n;this.props=$i($i({},this.props),t);try{for(var r=Ji(this.workerPools.values()),i=r.next();!i.done;i=r.next())i.value.setProps(this.getWorkerPoolProps())}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.getWorkerPool=function(t){var e=t.name,n=t.source,r=t.url,i=this.workerPools.get(e);return i||((i=new Qi({name:e,source:n,url:r})).setProps(this.getWorkerPoolProps()),this.workerPools.set(e,i)),i},t.prototype.getWorkerPoolProps=function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(),new Map),no=function(){function t(){}return Object.defineProperty(t,"onmessage",{set:function(t){self.onmessage=function(e){if(ro(e)){var n=e.data,r=n.type,i=n.payload;t(r,i)}}},enumerable:!1,configurable:!0}),t.addEventListener=function(t){var e=eo.get(t);e||(e=function(e){if(ro(e)){var n=e.data,r=n.type,i=n.payload;t(r,i)}}),self.addEventListener("message",e)},t.removeEventListener=function(t){var e=eo.get(t);eo.delete(t),self.removeEventListener("message",e)},t.postMessage=function(t,e){if(self){var n={source:"Worker thread",type:t,payload:e},r=Hi(e);self.postMessage(n,r)}},t}();function ro(t){var e=t.type,n=t.data;return"message"===e&&n&&"string"==typeof n.source&&"Main thread"===n.source}self&&self.__awaiter,self&&self.__generator;var io,oo,ao=function(){function t(){this._values=[],this._settlers=[],this._closed=!1}return t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.push=function(t){return this.enqueue(t)},t.prototype.enqueue=function(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var e=this._settlers.shift();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.push(t)},t.prototype.close=function(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0},t.prototype.next=function(){var t=this;if(this._values.length>0){var e=this._values.shift();return e instanceof Error?Promise.reject(e):Promise.resolve({done:!1,value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(e,n){t._settlers.push({resolve:e,reject:n})}))},t}(),so=self&&self.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},uo=self&&self.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},co=self&&self.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}},lo=0;function ho(t,e){var n=this;if("undefined"!=typeof self){var r={process:fo};no.onmessage=function(i,o){return so(n,void 0,void 0,(function(){var n,a,s,u,c,l,h,f,p,d;return uo(this,(function(v){switch(v.label){case 0:switch(v.trys.push([0,19,,20]),i){case"process":return[3,1];case"process-in-batches":return[3,3];case"input-batch":return[3,16];case"input-done":return[3,17]}return[3,18];case 1:if(!t)throw new Error("Worker does not support atomic processing");return[4,t(o.input,o.options||{},r)];case 2:return n=v.sent(),no.postMessage("done",{result:n}),[3,18];case 3:if(!e)throw new Error("Worker does not support batched processing");io=new ao,oo=o.options||{},a=e(io,oo,r),v.label=4;case 4:v.trys.push([4,9,10,15]),s=co(a),v.label=5;case 5:return[4,s.next()];case 6:if((u=v.sent()).done)return[3,8];c=u.value,no.postMessage("output-batch",{result:c}),v.label=7;case 7:return[3,5];case 8:return[3,15];case 9:return l=v.sent(),p={error:l},[3,15];case 10:return v.trys.push([10,,13,14]),u&&!u.done&&(d=s.return)?[4,d.call(s)]:[3,12];case 11:v.sent(),v.label=12;case 12:return[3,14];case 13:if(p)throw p.error;return[7];case 14:return[7];case 15:return no.postMessage("done",{}),[3,18];case 16:return io.push(o.input),[3,18];case 17:return io.close(),[3,18];case 18:return[3,20];case 19:return h=v.sent(),f=h instanceof Error?h.message:"",no.postMessage("error",{error:f}),[3,20];case 20:return[2]}}))}))}}}function fo(t,e){return void 0===e&&(e={}),new Promise((function(n,r){var i=lo++,o=function(t,e){if(e.id===i)switch(t){case"done":no.removeEventListener(o),n(e.result);break;case"error":no.removeEventListener(o),r(e.error)}};no.addEventListener(o);var a={id:i,input:t,options:e};no.postMessage("process",a)}))}self&&self.__awaiter,self&&self.__generator;var po={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vo=_t("span").classList,go=vo&&vo.constructor&&vo.constructor.prototype,mo=go===Object.prototype?void 0:go,yo=Array.isArray||function(t){return"Array"==me(t)},_o=st("species"),Eo=Array,bo=function(t,e){return new(function(t){var e;return yo(t)&&(e=t.constructor,(Nn(e)&&(e===Eo||yo(e.prototype))||gt(e)&&null===(e=e[_o]))&&(e=void 0)),void 0===e?Eo:e}(t))(0===e?0:e)},xo=F([].push),To=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,h){for(var f,p,d=G(u),v=Ce(d),g=Xn(c,l),m=ze(v),y=0,_=h||bo,E=e?_(u,m):n||a?_(u,0):void 0;m>y;y++)if((s||y in v)&&(p=g(f=v[y],y,d),t))if(e)E[y]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:xo(E,f)}else switch(t){case 4:return!1;case 7:xo(E,f)}return o?-1:r||i?i:E}},wo={forEach:To(0),map:To(1),filter:To(2),some:To(3),every:To(4),find:To(5),findIndex:To(6),filterReject:To(7)},Ao=function(t,e){var n=[][t];return!!n&&P((function(){n.call(null,e||function(){return 1},1)}))},So=wo.forEach,Mo=Ao("forEach")?[].forEach:function(t){return So(this,t,arguments.length>1?arguments[1]:void 0)},Co=function(t){if(t&&t.forEach!==Mo)try{ie(t,"forEach",Mo)}catch(e){t.forEach=Mo}};for(var Ro in po)po[Ro]&&Co(M[Ro]&&M[Ro].prototype);Co(mo);var ko=function(t,e,n){var r=zt(e);r in t?Xt.f(t,r,re(0,n)):t[r]=n},Io=st("species"),Po=function(t){return tt>=51||!P((function(){var e=[];return(e.constructor={})[Io]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Oo=Po("slice"),No=st("species"),Lo=Array,Do=Math.max;cn({target:"Array",proto:!0,forced:!Oo},{slice:function(t,e){var n,r,i,o=Re(this),a=ze(o),s=Be(t,a),u=Be(void 0===e?a:e,a);if(yo(o)&&(n=o.constructor,(Nn(n)&&(n===Lo||yo(n.prototype))||gt(n)&&null===(n=n[No]))&&(n=void 0),n===Lo||void 0===n))return Zn(o,s,u);for(r=new(void 0===n?Lo:n)(Do(u-s,0)),i=0;s<u;s++,i++)s in o&&ko(r,i,o[s]);return r.length=i,r}});var Fo=qt.EXISTS,Bo=Function.prototype,Uo=F(Bo.toString),jo=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,zo=F(jo.exec);dt&&!Fo&&mn(Bo,"name",{configurable:!0,get:function(){try{return zo(jo,Uo(this))[1]}catch(t){return""}}});var Go,Vo=Object.keys||function(t){return We(t,Ze)},Ho={f:dt&&!bt?Object.defineProperties:function(t,e){wt(t);for(var n,r=Re(e),i=Vo(e),o=i.length,a=0;o>a;)Xt.f(t,n=i[a++],r[n]);return t}},Xo=ae("IE_PROTO"),Wo=function(){},Zo=function(t){return"<script>"+t+"<\/script>"},Yo=function(t){t.write(Zo("")),t.close();var e=t.parentWindow.Object;return t=null,e},qo=function(){try{Go=new ActiveXObject("htmlfile")}catch(t){}var t,e;qo="undefined"!=typeof document?document.domain&&Go?Yo(Go):((e=_t("iframe")).style.display="none",Wn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Zo("document.F=Object")),t.close(),t.F):Yo(Go);for(var n=Ze.length;n--;)delete qo.prototype[Ze[n]];return qo()};se[Xo]=!0;var Ko=Object.create||function(t,e){var n;return null!==t?(Wo.prototype=wt(t),n=new Wo,Wo.prototype=null,n[Xo]=t):n=qo(),void 0===e?n:Ho.f(n,e)},Qo=Xt.f,$o=st("unscopables"),Jo=Array.prototype;null==Jo[$o]&&Qo(Jo,$o,{configurable:!0,value:Ko(null)});var ta,ea,na,ra=function(t){Jo[$o][t]=!0},ia=!P((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),oa=ae("IE_PROTO"),aa=Object,sa=aa.prototype,ua=ia?aa.getPrototypeOf:function(t){var e=G(t);if(H(e,oa))return e[oa];var n=e.constructor;return pt(n)&&e instanceof n?n.prototype:e instanceof aa?sa:null},ca=st("iterator"),la=!1;[].keys&&("next"in(na=[].keys())?(ea=ua(ua(na)))!==Object.prototype&&(ta=ea):la=!0),(!gt(ta)||P((function(){var t={};return ta[ca].call(t)!==t})))&&(ta={}),pt(ta[ca])||de(ta,ca,(function(){return this}));var ha={IteratorPrototype:ta,BUGGY_SAFARI_ITERATORS:la},fa=ha.IteratorPrototype,pa=function(){return this},da=qt.PROPER,va=qt.CONFIGURABLE,ga=ha.IteratorPrototype,ma=ha.BUGGY_SAFARI_ITERATORS,ya=st("iterator"),_a=function(){return this},Ea=function(t,e,n,r,i,o,a){!function(t,e,n,r){var i=e+" Iterator";t.prototype=Ko(fa,{next:re(1,n)}),gn(t,i,!1),gi[i]=pa}(n,e,r);var s,u,c,l=function(t){if(t===i&&v)return v;if(!ma&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",f=!1,p=t.prototype,d=p[ya]||p["@@iterator"]||i&&p[i],v=!ma&&d||l(i),g="Array"==e&&p.entries||d;if(g&&(s=ua(g.call(new t)))!==Object.prototype&&s.next&&(ua(s)!==ga&&(pn?pn(s,ga):pt(s[ya])||de(s,ya,_a)),gn(s,h,!0)),da&&"values"==i&&d&&"values"!==d.name&&(va?ie(p,"name","values"):(f=!0,v=function(){return St(d,this)})),i)if(u={values:l("values"),keys:o?v:l("keys"),entries:l("entries")},a)for(c in u)(ma||f||!(c in p))&&de(p,c,u[c]);else cn({target:e,proto:!0,forced:ma||f},u);return p[ya]!==v&&de(p,ya,v,{name:i}),gi[e]=v,u},ba=function(t,e){return{value:t,done:e}},xa=Xt.f,Ta=fe.set,wa=fe.getterFor("Array Iterator"),Aa=Ea(Array,"Array",(function(t,e){Ta(this,{type:"Array Iterator",target:Re(t),index:0,kind:e})}),(function(){var t=wa(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,ba(void 0,!0)):ba("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),Sa=gi.Arguments=gi.Array;if(ra("keys"),ra("values"),ra("entries"),dt&&"values"!==Sa.name)try{xa(Sa,"name",{value:"values"})}catch(t){}var Ma,Ca,Ra,ka="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ia=fe.enforce,Pa=fe.get,Oa=M.Int8Array,Na=Oa&&Oa.prototype,La=M.Uint8ClampedArray,Da=La&&La.prototype,Fa=Oa&&ua(Oa),Ba=Na&&ua(Na),Ua=Object.prototype,ja=M.TypeError,za=st("toStringTag"),Ga=Y("TYPED_ARRAY_TAG"),Va=ka&&!!pn&&"Opera"!==be(M.opera),Ha=!1,Xa={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Wa={BigInt64Array:8,BigUint64Array:8},Za=function(t){var e=ua(t);if(gt(e)){var n=Pa(e);return n&&H(n,"TypedArrayConstructor")?n.TypedArrayConstructor:Za(e)}},Ya=function(t){if(!gt(t))return!1;var e=be(t);return H(Xa,e)||H(Wa,e)};for(Ma in Xa)(Ra=(Ca=M[Ma])&&Ca.prototype)?Ia(Ra).TypedArrayConstructor=Ca:Va=!1;for(Ma in Wa)(Ra=(Ca=M[Ma])&&Ca.prototype)&&(Ia(Ra).TypedArrayConstructor=Ca);if((!Va||!pt(Fa)||Fa===Function.prototype)&&(Fa=function(){throw ja("Incorrect invocation")},Va))for(Ma in Xa)M[Ma]&&pn(M[Ma],Fa);if((!Va||!Ba||Ba===Ua)&&(Ba=Fa.prototype,Va))for(Ma in Xa)M[Ma]&&pn(M[Ma].prototype,Ba);if(Va&&ua(Da)!==Ba&&pn(Da,Ba),dt&&!H(Ba,za))for(Ma in Ha=!0,mn(Ba,za,{configurable:!0,get:function(){return gt(this)?this[Ga]:void 0}}),Xa)M[Ma]&&ie(M[Ma],Ga,Ma);var qa={NATIVE_ARRAY_BUFFER_VIEWS:Va,TYPED_ARRAY_TAG:Ha&&Ga,aTypedArray:function(t){if(Ya(t))return t;throw ja("Target is not a typed array")},aTypedArrayConstructor:function(t){if(pt(t)&&(!pn||Rt(Fa,t)))return t;throw ja(Ot(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(dt){if(n)for(var i in Xa){var o=M[i];if(o&&H(o.prototype,t))try{delete o.prototype[t]}catch(n){try{o.prototype[t]=e}catch(t){}}}Ba[t]&&!n||de(Ba,t,n?e:Va&&Na[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(dt){if(pn){if(n)for(r in Xa)if((i=M[r])&&H(i,t))try{delete i[t]}catch(t){}if(Fa[t]&&!n)return;try{return de(Fa,t,n?e:Va&&Fa[t]||e)}catch(t){}}for(r in Xa)!(i=M[r])||i[t]&&!n||de(i,t,e)}},getTypedArrayConstructor:Za,isView:function(t){if(!gt(t))return!1;var e=be(t);return"DataView"===e||H(Xa,e)||H(Wa,e)},isTypedArray:Ya,TypedArray:Fa,TypedArrayPrototype:Ba},Ka=qa.NATIVE_ARRAY_BUFFER_VIEWS,Qa=M.ArrayBuffer,$a=M.Int8Array,Ja=!Ka||!P((function(){$a(1)}))||!P((function(){new $a(-1)}))||!Oi((function(t){new $a,new $a(null),new $a(1.5),new $a(t)}),!0)||P((function(){return 1!==new $a(new Qa(2),1,void 0).length})),ts=function(t,e,n){for(var r in e)de(t,r,e[r],n);return t},es=RangeError,ns=function(t){if(void 0===t)return 0;var e=Le(t),n=je(e);if(e!==n)throw es("Wrong length or index");return n},rs=Array,is=Math.abs,os=Math.pow,as=Math.floor,ss=Math.log,us=Math.LN2,cs=function(t){for(var e=G(this),n=ze(e),r=arguments.length,i=Be(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Be(o,n);a>i;)e[i++]=t;return e},ls=Array,hs=Math.max,fs=function(t,e,n){for(var r=ze(t),i=Be(e,r),o=Be(void 0===n?r:n,r),a=ls(hs(o-i,0)),s=0;i<o;i++,s++)ko(a,s,t[i]);return a.length=s,a},ps=qe.f,ds=qt.PROPER,vs=qt.CONFIGURABLE,gs=fe.getterFor("ArrayBuffer"),ms=fe.getterFor("DataView"),ys=fe.set,_s=M.ArrayBuffer,Es=_s,bs=Es&&Es.prototype,xs=M.DataView,Ts=xs&&xs.prototype,ws=Object.prototype,As=M.Array,Ss=M.RangeError,Ms=F(cs),Cs=F([].reverse),Rs=function(t,e,n){var r,i,o,a=rs(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?os(2,-24)-os(2,-77):0,h=t<0||0===t&&1/t<0?1:0,f=0;for((t=is(t))!=t||t===1/0?(i=t!=t?1:0,r=u):(r=as(ss(t)/us),t*(o=os(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*os(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*os(2,e),r+=c):(i=t*os(2,c-1)*os(2,e),r=0));e>=8;)a[f++]=255&i,i/=256,e-=8;for(r=r<<e|i,s+=e;s>0;)a[f++]=255&r,r/=256,s-=8;return a[--f]|=128*h,a},ks=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;s>0;)l=256*l+t[u--],s-=8;for(n=l&(1<<-s)-1,l>>=-s,s+=e;s>0;)n=256*n+t[u--],s-=8;if(0===l)l=1-a;else{if(l===o)return n?NaN:c?-1/0:1/0;n+=os(2,e),l-=a}return(c?-1:1)*n*os(2,l-e)},Is=function(t){return[255&t]},Ps=function(t){return[255&t,t>>8&255]},Os=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Ns=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Ls=function(t){return Rs(t,23,4)},Ds=function(t){return Rs(t,52,8)},Fs=function(t,e,n){mn(t.prototype,e,{configurable:!0,get:function(){return n(this)[e]}})},Bs=function(t,e,n,r){var i=ns(n),o=ms(t);if(i+e>o.byteLength)throw Ss("Wrong index");var a=o.bytes,s=i+o.byteOffset,u=fs(a,s,s+e);return r?u:Cs(u)},Us=function(t,e,n,r,i,o){var a=ns(n),s=ms(t);if(a+e>s.byteLength)throw Ss("Wrong index");for(var u=s.bytes,c=a+s.byteOffset,l=r(+i),h=0;h<e;h++)u[c+h]=l[o?h:e-h-1]};if(ka){var js=ds&&"ArrayBuffer"!==_s.name;if(P((function(){_s(1)}))&&P((function(){new _s(-1)}))&&!P((function(){return new _s,new _s(1.5),new _s(NaN),1!=_s.length||js&&!vs})))js&&vs&&ie(_s,"name","ArrayBuffer");else{(Es=function(t){return bn(this,bs),new _s(ns(t))}).prototype=bs;for(var zs,Gs=ps(_s),Vs=0;Gs.length>Vs;)(zs=Gs[Vs++])in Es||ie(Es,zs,_s[zs]);bs.constructor=Es}pn&&ua(Ts)!==ws&&pn(Ts,ws);var Hs=new xs(new Es(2)),Xs=F(Ts.setInt8);Hs.setInt8(0,2147483648),Hs.setInt8(1,2147483649),!Hs.getInt8(0)&&Hs.getInt8(1)||ts(Ts,{setInt8:function(t,e){Xs(this,t,e<<24>>24)},setUint8:function(t,e){Xs(this,t,e<<24>>24)}},{unsafe:!0})}else bs=(Es=function(t){bn(this,bs);var e=ns(t);ys(this,{type:"ArrayBuffer",bytes:Ms(As(e),0),byteLength:e}),dt||(this.byteLength=e,this.detached=!1)}).prototype,Ts=(xs=function(t,e,n){bn(this,Ts),bn(t,bs);var r=gs(t),i=r.byteLength,o=Le(e);if(o<0||o>i)throw Ss("Wrong offset");if(o+(n=void 0===n?i-o:je(n))>i)throw Ss("Wrong length");ys(this,{type:"DataView",buffer:t,byteLength:n,byteOffset:o,bytes:r.bytes}),dt||(this.buffer=t,this.byteLength=n,this.byteOffset=o)}).prototype,dt&&(Fs(Es,"byteLength",gs),Fs(xs,"buffer",ms),Fs(xs,"byteLength",ms),Fs(xs,"byteOffset",ms)),ts(Ts,{getInt8:function(t){return Bs(this,1,t)[0]<<24>>24},getUint8:function(t){return Bs(this,1,t)[0]},getInt16:function(t){var e=Bs(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Bs(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Ns(Bs(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Ns(Bs(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return ks(Bs(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return ks(Bs(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Us(this,1,t,Is,e)},setUint8:function(t,e){Us(this,1,t,Is,e)},setInt16:function(t,e){Us(this,2,t,Ps,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Us(this,2,t,Ps,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Us(this,4,t,Os,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Us(this,4,t,Os,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Us(this,4,t,Ls,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Us(this,8,t,Ds,e,arguments.length>2?arguments[2]:void 0)}});gn(Es,"ArrayBuffer"),gn(xs,"DataView");var Ws={ArrayBuffer:Es,DataView:xs},Zs=Math.floor,Ys=Number.isInteger||function(t){return!gt(t)&&isFinite(t)&&Zs(t)===t},qs=RangeError,Ks=RangeError,Qs=function(t,e){var n=function(t){var e=Le(t);if(e<0)throw qs("The argument can't be less than 0");return e}(t);if(n%e)throw Ks("Wrong offset");return n},$s=function(t){var e=be(t);return"BigInt64Array"==e||"BigUint64Array"==e},Js=TypeError,tu=function(t){var e=jt(t,"number");if("number"==typeof e)throw Js("Can't convert number to bigint");return BigInt(e)},eu=qa.aTypedArrayConstructor,nu=function(t){var e,n,r,i,o,a,s,u,c=Dn(this),l=G(t),h=arguments.length,f=h>1?arguments[1]:void 0,p=void 0!==f,d=bi(l);if(d&&!_i(d))for(u=(s=Ti(l,d)).next,l=[];!(a=St(u,s)).done;)l.push(a.value);for(p&&h>2&&(f=Xn(f,arguments[2])),n=ze(l),r=new(eu(c))(n),i=$s(r),e=0;n>e;e++)o=p?f(l[e],e):l[e],r[e]=i?tu(o):+o;return r},ru=function(t,e,n){var r,i;return pn&&pt(r=e.constructor)&&r!==n&&gt(i=r.prototype)&&i!==n.prototype&&pn(t,i),t},iu=T((function(t){var e=qe.f,n=wo.forEach,r=fe.get,i=fe.set,o=fe.enforce,a=Xt.f,s=Ie.f,u=Math.round,c=M.RangeError,l=Ws.ArrayBuffer,h=l.prototype,f=Ws.DataView,p=qa.NATIVE_ARRAY_BUFFER_VIEWS,d=qa.TYPED_ARRAY_TAG,v=qa.TypedArray,g=qa.TypedArrayPrototype,m=qa.aTypedArrayConstructor,y=qa.isTypedArray,_=function(t,e){m(t);for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i},E=function(t,e){mn(t,e,{configurable:!0,get:function(){return r(this)[e]}})},b=function(t){var e;return Rt(h,t)||"ArrayBuffer"==(e=be(t))||"SharedArrayBuffer"==e},x=function(t,e){return y(t)&&!It(e)&&e in t&&Ys(+e)&&e>=0},T=function(t,e){return e=zt(e),x(t,e)?re(2,t[e]):s(t,e)},w=function(t,e,n){return e=zt(e),!(x(t,e)&&gt(n)&&H(n,"value"))||H(n,"get")||H(n,"set")||n.configurable||H(n,"writable")&&!n.writable||H(n,"enumerable")&&!n.enumerable?a(t,e,n):(t[e]=n.value,t)};dt?(p||(Ie.f=T,Xt.f=w,E(g,"buffer"),E(g,"byteOffset"),E(g,"byteLength"),E(g,"length")),cn({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:T,defineProperty:w}),t.exports=function(t,s,h){var m=t.match(/\d+/)[0]/8,E=t+(h?"Clamped":"")+"Array",x="get"+t,T="set"+t,w=M[E],A=w,S=A&&A.prototype,C={},R=function(t,e){a(t,e,{get:function(){return function(t,e){var n=r(t);return n.view[x](e*m+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=r(t);h&&(n=(n=u(n))<0?0:n>255?255:255&n),i.view[T](e*m+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};p?Ja&&(A=s((function(t,e,n,r){return bn(t,S),ru(gt(e)?b(e)?void 0!==r?new w(e,Qs(n,m),r):void 0!==n?new w(e,Qs(n,m)):new w(e):y(e)?_(A,e):St(nu,A,e):new w(ns(e)),t,A)})),pn&&pn(A,v),n(e(w),(function(t){t in A||ie(A,t,w[t])})),A.prototype=S):(A=s((function(t,e,n,r){bn(t,S);var o,a,s,u=0,h=0;if(gt(e)){if(!b(e))return y(e)?_(A,e):St(nu,A,e);o=e,h=Qs(n,m);var p=e.byteLength;if(void 0===r){if(p%m)throw c("Wrong length");if((a=p-h)<0)throw c("Wrong length")}else if((a=je(r)*m)+h>p)throw c("Wrong length");s=a/m}else s=ns(e),o=new l(a=s*m);for(i(t,{buffer:o,byteOffset:h,byteLength:a,length:s,view:new f(o)});u<s;)R(t,u++)})),pn&&pn(A,v),S=A.prototype=Ko(g)),S.constructor!==A&&ie(S,"constructor",A),o(S).TypedArrayConstructor=A,d&&ie(S,d,E);var k=A!=w;C[E]=A,cn({global:!0,constructor:!0,forced:k,sham:!p},C),"BYTES_PER_ELEMENT"in A||ie(A,"BYTES_PER_ELEMENT",m),"BYTES_PER_ELEMENT"in S||ie(S,"BYTES_PER_ELEMENT",m),_n(E)}):t.exports=function(){}}));iu("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0);var ou=TypeError,au=function(t,e){if(!delete t[e])throw ou("Cannot delete property "+Ot(e)+" of "+Ot(t))},su=Math.min,uu=F([].copyWithin||function(t,e){var n=G(this),r=ze(n),i=Be(t,r),o=Be(e,r),a=arguments.length>2?arguments[2]:void 0,s=su((void 0===a?r:Be(a,r))-o,r-i),u=1;for(o<i&&i<o+s&&(u=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:au(n,i),i+=u,o+=u;return n}),cu=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("copyWithin",(function(t,e){return uu(cu(this),t,e,arguments.length>2?arguments[2]:void 0)}));var lu=wo.every,hu=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("every",(function(t){return lu(hu(this),t,arguments.length>1?arguments[1]:void 0)}));var fu=qa.aTypedArray,pu=qa.exportTypedArrayMethod,du=F("".slice);pu("fill",(function(t){var e=arguments.length;fu(this);var n="Big"===du(be(this),0,3)?tu(t):+t;return St(cs,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),P((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})));var vu=qa.aTypedArrayConstructor,gu=qa.getTypedArrayConstructor,mu=function(t){return vu(Bn(t,gu(t)))},yu=function(t,e){return function(t,e){for(var n=0,r=ze(e),i=new t(r);r>n;)i[n]=e[n++];return i}(mu(t),e)},_u=wo.filter,Eu=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("filter",(function(t){var e=_u(Eu(this),t,arguments.length>1?arguments[1]:void 0);return yu(this,e)}));var bu=wo.find,xu=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("find",(function(t){return bu(xu(this),t,arguments.length>1?arguments[1]:void 0)}));var Tu=wo.findIndex,wu=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("findIndex",(function(t){return Tu(wu(this),t,arguments.length>1?arguments[1]:void 0)}));var Au=wo.forEach,Su=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("forEach",(function(t){Au(Su(this),t,arguments.length>1?arguments[1]:void 0)}));var Mu=Ve.includes,Cu=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("includes",(function(t){return Mu(Cu(this),t,arguments.length>1?arguments[1]:void 0)}));var Ru=Ve.indexOf,ku=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("indexOf",(function(t){return Ru(ku(this),t,arguments.length>1?arguments[1]:void 0)}));var Iu=st("iterator"),Pu=M.Uint8Array,Ou=F(Aa.values),Nu=F(Aa.keys),Lu=F(Aa.entries),Du=qa.aTypedArray,Fu=qa.exportTypedArrayMethod,Bu=Pu&&Pu.prototype,Uu=!P((function(){Bu[Iu].call([1])})),ju=!!Bu&&Bu.values&&Bu[Iu]===Bu.values&&"values"===Bu.values.name,zu=function(){return Ou(Du(this))};Fu("entries",(function(){return Lu(Du(this))}),Uu),Fu("keys",(function(){return Nu(Du(this))}),Uu),Fu("values",zu,Uu||!ju,{name:"values"}),Fu(Iu,zu,Uu||!ju,{name:"values"});var Gu=qa.aTypedArray,Vu=qa.exportTypedArrayMethod,Hu=F([].join);Vu("join",(function(t){return Hu(Gu(this),t)}));var Xu=Math.min,Wu=[].lastIndexOf,Zu=!!Wu&&1/[1].lastIndexOf(1,-0)<0,Yu=Ao("lastIndexOf"),qu=Zu||!Yu?function(t){if(Zu)return Gn(Wu,this,arguments)||0;var e=Re(this),n=ze(e),r=n-1;for(arguments.length>1&&(r=Xu(r,Le(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:Wu,Ku=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return Gn(qu,Ku(this),e>1?[t,arguments[1]]:[t])}));var Qu=wo.map,$u=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("map",(function(t){return Qu($u(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(mu(t))(e)}))}));var Ju=TypeError,tc=function(t){return function(e,n,r,i){Lt(n);var o=G(e),a=Ce(o),s=ze(o),u=t?s-1:0,c=t?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw Ju("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(i=n(i,a[u],u,o));return i}},ec={left:tc(!1),right:tc(!0)},nc=ec.left,rc=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return nc(rc(this),t,e,e>1?arguments[1]:void 0)}));var ic=ec.right,oc=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return ic(oc(this),t,e,e>1?arguments[1]:void 0)}));var ac=qa.aTypedArray,sc=qa.exportTypedArrayMethod,uc=Math.floor;sc("reverse",(function(){for(var t,e=ac(this).length,n=uc(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}));var cc=M.RangeError,lc=M.Int8Array,hc=lc&&lc.prototype,fc=hc&&hc.set,pc=qa.aTypedArray,dc=qa.exportTypedArrayMethod,vc=!P((function(){var t=new Uint8ClampedArray(2);return St(fc,t,{length:1,0:3},1),3!==t[1]})),gc=vc&&qa.NATIVE_ARRAY_BUFFER_VIEWS&&P((function(){var t=new lc(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));dc("set",(function(t){pc(this);var e=Qs(arguments.length>1?arguments[1]:void 0,1),n=G(t);if(vc)return St(fc,this,n,e);var r=this.length,i=ze(n),o=0;if(i+e>r)throw cc("Wrong length");for(;o<i;)this[e+o]=n[o++]}),!vc||gc);var mc=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("slice",(function(t,e){for(var n=Zn(mc(this),t,e),r=mu(this),i=0,o=n.length,a=new r(o);o>i;)a[i]=n[i++];return a}),P((function(){new Int8Array(1).slice()})));var yc=wo.some,_c=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("some",(function(t){return yc(_c(this),t,arguments.length>1?arguments[1]:void 0)}));var Ec=Math.floor,bc=function(t,e){var n=t.length,r=Ec(n/2);return n<8?xc(t,e):Tc(t,bc(fs(t,0,r),e),bc(fs(t,r),e),e)},xc=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},Tc=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t},wc=bc,Ac=q.match(/firefox\/(\d+)/i),Sc=!!Ac&&+Ac[1],Mc=/MSIE|Trident/.test(q),Cc=q.match(/AppleWebKit\/(\d+)\./),Rc=!!Cc&&+Cc[1],kc=qa.aTypedArray,Ic=qa.exportTypedArrayMethod,Pc=M.Uint16Array,Oc=Pc&&Vn(Pc.prototype.sort),Nc=!(!Oc||P((function(){Oc(new Pc(2),null)}))&&P((function(){Oc(new Pc(2),{})}))),Lc=!!Oc&&!P((function(){if(tt)return tt<74;if(Sc)return Sc<67;if(Mc)return!0;if(Rc)return Rc<602;var t,e,n=new Pc(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(Oc(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));Ic("sort",(function(t){return void 0!==t&&Lt(t),Lc?Oc(this,t):wc(kc(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!Lc||Nc);var Dc=qa.aTypedArray;(0,qa.exportTypedArrayMethod)("subarray",(function(t,e){var n=Dc(this),r=n.length,i=Be(t,r);return new(mu(n))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,je((void 0===e?r:Be(e,r))-i))}));var Fc=M.Int8Array,Bc=qa.aTypedArray,Uc=qa.exportTypedArrayMethod,jc=[].toLocaleString,zc=!!Fc&&P((function(){jc.call(new Fc(1))}));Uc("toLocaleString",(function(){return Gn(jc,zc?Zn(Bc(this)):Bc(this),Zn(arguments))}),P((function(){return[1,2].toLocaleString()!=new Fc([1,2]).toLocaleString()}))||!P((function(){Fc.prototype.toLocaleString.call([1,2])})));var Gc=qa.exportTypedArrayMethod,Vc=M.Uint8Array,Hc=Vc&&Vc.prototype||{},Xc=[].toString,Wc=F([].join);P((function(){Xc.call({})}))&&(Xc=function(){return Wc(this)});var Zc=Hc.toString!=Xc;Gc("toString",Xc,Zc),cn({target:"Array",proto:!0},{fill:cs}),ra("fill");var Yc,qc,Kc=String,Qc=function(t){if("Symbol"===be(t))throw TypeError("Cannot convert a Symbol value to a string");return Kc(t)},$c=function(){var t=wt(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Jc=M.RegExp,tl=P((function(){var t=Jc("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),el=tl||P((function(){return!Jc("a","y").sticky})),nl={BROKEN_CARET:tl||P((function(){var t=Jc("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:el,UNSUPPORTED_Y:tl},rl=M.RegExp,il=P((function(){var t=rl(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),ol=M.RegExp,al=P((function(){var t=ol("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),sl=fe.get,ul=I("native-string-replace",String.prototype.replace),cl=RegExp.prototype.exec,ll=cl,hl=F("".charAt),fl=F("".indexOf),pl=F("".replace),dl=F("".slice),vl=(qc=/b*/g,St(cl,Yc=/a/,"a"),St(cl,qc,"a"),0!==Yc.lastIndex||0!==qc.lastIndex),gl=nl.BROKEN_CARET,ml=void 0!==/()??/.exec("")[1];(vl||ml||gl||il||al)&&(ll=function(t){var e,n,r,i,o,a,s,u=this,c=sl(u),l=Qc(t),h=c.raw;if(h)return h.lastIndex=u.lastIndex,e=St(ll,h,l),u.lastIndex=h.lastIndex,e;var f=c.groups,p=gl&&u.sticky,d=St($c,u),v=u.source,g=0,m=l;if(p&&(d=pl(d,"y",""),-1===fl(d,"g")&&(d+="g"),m=dl(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==hl(l,u.lastIndex-1))&&(v="(?: "+v+")",m=" "+m,g++),n=new RegExp("^(?:"+v+")",d)),ml&&(n=new RegExp("^"+v+"$(?!\\s)",d)),vl&&(r=u.lastIndex),i=St(cl,p?n:u,m),p?i?(i.input=dl(i.input,g),i[0]=dl(i[0],g),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:vl&&i&&(u.lastIndex=u.global?i.index+i[0].length:r),ml&&i&&i.length>1&&St(ul,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=a=Ko(null),o=0;o<f.length;o++)a[(s=f[o])[0]]=i[s[1]];return i});var yl=ll;cn({target:"RegExp",proto:!0,forced:/./.exec!==yl},{exec:yl});var _l,El=st("species"),bl=RegExp.prototype,xl=function(t,e,n,r){var i=st(t),o=!P((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!P((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[El]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||n){var s=Vn(/./[i]),u=e(i,""[t],(function(t,e,n,r,i){var a=Vn(t),u=e.exec;return u===yl||u===bl.exec?o&&!i?{done:!0,value:s(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));de(String.prototype,t,u[0]),de(bl,i,u[1])}r&&ie(bl[i],"sham",!0)},Tl=F("".charAt),wl=F("".charCodeAt),Al=F("".slice),Sl=function(t){return function(e,n){var r,i,o=Qc(j(e)),a=Le(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=wl(o,a))<55296||r>56319||a+1===s||(i=wl(o,a+1))<56320||i>57343?t?Tl(o,a):r:t?Al(o,a,a+2):i-56320+(r-55296<<10)+65536}},Ml={codeAt:Sl(!1),charAt:Sl(!0)},Cl=Ml.charAt,Rl=function(t,e,n){return e+(n?Cl(t,e).length:1)},kl=Math.floor,Il=F("".charAt),Pl=F("".replace),Ol=F("".slice),Nl=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ll=/\$([$&'`]|\d{1,2})/g,Dl=function(t,e,n,r,i,o){var a=n+t.length,s=r.length,u=Ll;return void 0!==i&&(i=G(i),u=Nl),Pl(o,u,(function(o,u){var c;switch(Il(u,0)){case"$":return"$";case"&":return t;case"`":return Ol(e,0,n);case"'":return Ol(e,a);case"<":c=i[Ol(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>s){var h=kl(l/10);return 0===h?o:h<=s?void 0===r[h-1]?Il(u,1):r[h-1]+Il(u,1):o}c=r[l-1]}return void 0===c?"":c}))},Fl=TypeError,Bl=function(t,e){var n=t.exec;if(pt(n)){var r=St(n,t,e);return null!==r&&wt(r),r}if("RegExp"===me(t))return St(yl,t,e);throw Fl("RegExp#exec called on incompatible receiver")},Ul=st("replace"),jl=Math.max,zl=Math.min,Gl=F([].concat),Vl=F([].push),Hl=F("".indexOf),Xl=F("".slice),Wl="$0"==="a".replace(/./,"$0"),Zl=!!/./[Ul]&&""===/./[Ul]("a","$0");function Yl(t){this.message=t}xl("replace",(function(t,e,n){var r=Zl?"$":"$0";return[function(t,n){var r=j(this),i=B(t)?void 0:Dt(t,Ul);return i?St(i,t,r,n):St(e,Qc(r),t,n)},function(t,i){var o=wt(this),a=Qc(t);if("string"==typeof i&&-1===Hl(i,r)&&-1===Hl(i,"$<")){var s=n(e,o,a,i);if(s.done)return s.value}var u=pt(i);u||(i=Qc(i));var c=o.global;if(c){var l=o.unicode;o.lastIndex=0}for(var h=[];;){var f=Bl(o,a);if(null===f)break;if(Vl(h,f),!c)break;""===Qc(f[0])&&(o.lastIndex=Rl(a,je(o.lastIndex),l))}for(var p,d="",v=0,g=0;g<h.length;g++){for(var m=Qc((f=h[g])[0]),y=jl(zl(Le(f.index),a.length),0),_=[],E=1;E<f.length;E++)Vl(_,void 0===(p=f[E])?p:String(p));var b=f.groups;if(u){var x=Gl([m],_,y,a);void 0!==b&&Vl(x,b);var T=Qc(Gn(i,void 0,x))}else T=Dl(m,a,y,_,b,i);y>=v&&(d+=Xl(a,v,y)+T,v=y+m.length)}return d+Xl(a,v)}]}),!!P((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Wl||Zl),Yl.prototype=new Error,Yl.prototype.name="InvalidCharacterError",cn({global:!0,forced:M.globalThis!==M},{globalThis:M}),_l="undefined"==typeof window?{devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(t){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,n){return{duration:0}},now:function(){return(new Date).getTime()}},Blob:"",dispatchEvent:function(t){return!0},Event:function(t,e){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:window,"undefined"!=typeof my&&my&&"function"==typeof my.showToast&&!0!==my.isFRM?my.getSystemInfoSync().pixelRatio:_l.devicePixelRatio;var ql=TypeError,Kl=Object.getOwnPropertyDescriptor,Ql=dt&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(yo(t)&&!Kl(t,"length").writable)throw ql("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},$l=TypeError,Jl=function(t){if(t>9007199254740991)throw $l("Maximum allowed index exceeded");return t},th=Po("splice"),eh=Math.max,nh=Math.min;cn({target:"Array",proto:!0,forced:!th},{splice:function(t,e){var n,r,i,o,a,s,u=G(this),c=ze(u),l=Be(t,c),h=arguments.length;for(0===h?n=r=0:1===h?(n=0,r=c-l):(n=h-2,r=nh(eh(Le(e),0),c-l)),Jl(c+n-r),i=bo(u,r),o=0;o<r;o++)(a=l+o)in u&&ko(i,o,u[a]);if(i.length=r,n<r){for(o=l;o<c-r;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:au(u,s);for(o=c;o>c-r+n;o--)au(u,o-1)}else if(n>r)for(o=c-r;o>l;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:au(u,s);for(o=0;o<n;o++)u[o+l]=arguments[o+2];return Ql(u,c-r+n),i}});var rh=c((function t(e,n){s(this,t),l(this,"cancelBubble",void 0),l(this,"cancelable",void 0),l(this,"target",void 0),l(this,"currentTarget",void 0),l(this,"preventDefault",void 0),l(this,"stopPropagation",void 0),l(this,"type",void 0),l(this,"timeStamp",void 0),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=e,this.timeStamp=Date.now()})),ih=Object.assign,oh=Object.defineProperty,ah=F([].concat),sh=!ih||P((function(){if(dt&&1!==ih({b:1},ih(oh({},"a",{enumerable:!0,get:function(){oh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=ih({},t)[n]||"abcdefghijklmnopqrst"!=Vo(ih({},e)).join("")}))?function(t,e){for(var n=G(t),r=arguments.length,i=1,o=Ke.f,a=Ae.f;r>i;)for(var s,u=Ce(arguments[i++]),c=o?ah(Vo(u),o(u)):Vo(u),l=c.length,h=0;l>h;)s=c[h++],dt&&!St(a,u,s)||(n[s]=u[s]);return n}:ih;cn({target:"Object",stat:!0,arity:2,forced:Object.assign!==sh},{assign:sh});var uh=wo.findIndex,ch=!0;"findIndex"in[]&&Array(1).findIndex((function(){ch=!1})),cn({target:"Array",proto:!0,forced:ch},{findIndex:function(t){return uh(this,t,arguments.length>1?arguments[1]:void 0)}}),ra("findIndex");var lh=Ml.charAt,hh=fe.set,fh=fe.getterFor("String Iterator");Ea(String,"String",(function(t){hh(this,{type:"String Iterator",string:Qc(t),index:0})}),(function(){var t,e=fh(this),n=e.string,r=e.index;return r>=n.length?ba(void 0,!0):(t=lh(n,r),e.index+=t.length,ba(t,!1))}));var ph=!P((function(){return Object.isExtensible(Object.preventExtensions({}))})),dh=qe.f,vh="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],gh={f:function(t){return vh&&"Window"==me(t)?function(t){try{return dh(t)}catch(t){return fs(vh)}}(t):dh(Re(t))}},mh=P((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),yh=Object.isExtensible,_h=P((function(){yh(1)}))||mh?function(t){return!!gt(t)&&(!mh||"ArrayBuffer"!=me(t))&&(!yh||yh(t))}:yh,Eh=T((function(t){var e=Xt.f,n=!1,r=Y("meta"),i=0,o=function(t){e(t,r,{value:{objectID:"O"+i++,weakData:{}}})},a=t.exports={enable:function(){a.enable=function(){},n=!0;var t=qe.f,e=F([].splice),i={};i[r]=1,t(i).length&&(qe.f=function(n){for(var i=t(n),o=0,a=i.length;o<a;o++)if(i[o]===r){e(i,o,1);break}return i},cn({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:gh.f}))},fastKey:function(t,e){if(!gt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!H(t,r)){if(!_h(t))return"F";if(!e)return"E";o(t)}return t[r].objectID},getWeakData:function(t,e){if(!H(t,r)){if(!_h(t))return!0;if(!e)return!1;o(t)}return t[r].weakData},onFreeze:function(t){return ph&&n&&_h(t)&&!H(t,r)&&o(t),t}};se[r]=!0})),bh=(Eh.enable,Eh.fastKey,Eh.getWeakData,Eh.onFreeze,function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",a=M[t],s=a&&a.prototype,u=a,c={},l=function(t){var e=F(s[t]);de(s,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!gt(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!gt(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!gt(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(sn(t,!pt(a)||!(i||s.forEach&&!P((function(){(new a).entries().next()})))))u=n.getConstructor(e,t,r,o),Eh.enable();else if(sn(t,!0)){var h=new u,f=h[o](i?{}:-0,1)!=h,p=P((function(){h.has(1)})),d=Oi((function(t){new a(t)})),v=!i&&P((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));d||((u=e((function(t,e){bn(t,s);var n=ru(new a,t,u);return B(e)||Ci(e,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=u),(p||v)&&(l("delete"),l("has"),r&&l("get")),(v||f)&&l(o),i&&s.clear&&delete s.clear}return c[t]=u,cn({global:!0,constructor:!0,forced:u!=a},c),gn(u,t),i||n.setStrong(u,t,r),u}),xh=Eh.getWeakData,Th=fe.set,wh=fe.getterFor,Ah=wo.find,Sh=wo.findIndex,Mh=F([].splice),Ch=0,Rh=function(t){return t.frozen||(t.frozen=new kh)},kh=function(){this.entries=[]},Ih=function(t,e){return Ah(t.entries,(function(t){return t[0]===e}))};kh.prototype={get:function(t){var e=Ih(this,t);if(e)return e[1]},has:function(t){return!!Ih(this,t)},set:function(t,e){var n=Ih(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Sh(this.entries,(function(e){return e[0]===t}));return~e&&Mh(this.entries,e,1),!!~e}};var Ph,Oh={getConstructor:function(t,e,n,r){var i=t((function(t,i){bn(t,o),Th(t,{type:e,id:Ch++,frozen:void 0}),B(i)||Ci(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=wh(e),s=function(t,e,n){var r=a(t),i=xh(wt(e),!0);return!0===i?Rh(r).set(e,n):i[r.id]=n,t};return ts(o,{delete:function(t){var e=a(this);if(!gt(t))return!1;var n=xh(t);return!0===n?Rh(e).delete(t):n&&H(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!gt(t))return!1;var n=xh(t);return!0===n?Rh(e).has(t):n&&H(n,e.id)}}),ts(o,n?{get:function(t){var e=a(this);if(gt(t)){var n=xh(t);return!0===n?Rh(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),i}},Nh=fe.enforce,Lh=Object,Dh=Array.isArray,Fh=Lh.isExtensible,Bh=Lh.isFrozen,Uh=Lh.isSealed,jh=Lh.freeze,zh=Lh.seal,Gh={},Vh={},Hh=!M.ActiveXObject&&"ActiveXObject"in M,Xh=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Wh=bh("WeakMap",Xh,Oh),Zh=Wh.prototype,Yh=F(Zh.set);if(ne)if(Hh){Ph=Oh.getConstructor(Xh,"WeakMap",!0),Eh.enable();var qh=F(Zh.delete),Kh=F(Zh.has),Qh=F(Zh.get);ts(Zh,{delete:function(t){if(gt(t)&&!Fh(t)){var e=Nh(this);return e.frozen||(e.frozen=new Ph),qh(this,t)||e.frozen.delete(t)}return qh(this,t)},has:function(t){if(gt(t)&&!Fh(t)){var e=Nh(this);return e.frozen||(e.frozen=new Ph),Kh(this,t)||e.frozen.has(t)}return Kh(this,t)},get:function(t){if(gt(t)&&!Fh(t)){var e=Nh(this);return e.frozen||(e.frozen=new Ph),Kh(this,t)?Qh(this,t):e.frozen.get(t)}return Qh(this,t)},set:function(t,e){if(gt(t)&&!Fh(t)){var n=Nh(this);n.frozen||(n.frozen=new Ph),Kh(this,t)?Yh(this,t,e):n.frozen.set(t,e)}else Yh(this,t,e);return this}})}else ph&&P((function(){var t=jh([]);return Yh(new Wh,t,1),!Bh(t)}))&&ts(Zh,{set:function(t,e){var n;return Dh(t)&&(Bh(t)?n=Gh:Uh(t)&&(n=Vh)),Yh(this,t,e),n==Gh&&jh(t),n==Vh&&zh(t),this}});var $h=st("iterator"),Jh=st("toStringTag"),tf=Aa.values,ef=function(t,e){if(t){if(t[$h]!==tf)try{ie(t,$h,tf)}catch(e){t[$h]=tf}if(t[Jh]||ie(t,Jh,e),po[e])for(var n in Aa)if(t[n]!==Aa[n])try{ie(t,n,Aa[n])}catch(e){t[n]=Aa[n]}}};for(var nf in po)ef(M[nf]&&M[nf].prototype,nf);ef(mo,"DOMTokenList");var rf,of,af,sf,uf=new WeakMap,cf=function(){function t(){s(this,t),uf.set(this,{})}return c(t,[{key:"addEventListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=uf.get(this);r||(r={}),r[t]||(r[t]=[]),r[t].push(e),uf.set(this,r),n.capture,n.once,n.passive}},{key:"removeEventListener",value:function(t,e){var n=uf.get(this);if(n){var r=n[t];if(r&&r.length>0)for(var i=r.length;i--;i>0)if(r[i]===e){r.splice(i,1);break}}}},{key:"dispatchEvent",value:function(t){var e=uf.get(this)[t.type];if(e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(t){r.e(t)}finally{r.f()}}}}]),t}(),lf=function(t){h(n,t);var e=g(n);function n(){var t;return s(this,n),l(d(t=e.call(this)),"className",void 0),l(d(t),"children",void 0),t.className="",t.children=[],t}return c(n,[{key:"setAttribute",value:function(t,e){this[t]=e}},{key:"getAttribute",value:function(t){return this[t]}},{key:"setAttributeNS",value:function(t,e){this[t]=e}},{key:"getAttributeNS",value:function(t){return this[t]}}]),n}(function(t){h(n,t);var e=g(n);function n(){var t;return s(this,n),l(d(t=e.call(this)),"childNodes",void 0),t.childNodes=[],t}return c(n,[{key:"appendChild",value:function(t){this.childNodes.push(t)}},{key:"cloneNode",value:function(){var t=Object.create(this);return Object.assign(t,this),t}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex((function(e){return e===t}));return e>-1?this.childNodes.splice(e,1):null}}]),n}(cf));if("undefined"!=typeof my&&my&&"function"==typeof my.showToast&&!0!==my.isFRM){var hf=my.getSystemInfoSync();rf=hf.screenWidth,of=hf.screenHeight,af=hf.windowWidth,sf=hf.windowHeight}else{var ff=_l.innerWidth,pf=_l.innerHeight;rf=ff,of=pf,af=ff,sf=pf}var df={width:rf,height:of,availWidth:af,availHeight:sf,availLeft:0,availTop:0},vf=df.availWidth,gf=df.availHeight,mf={style:[]};function yf(t,e){var n,r;"parentNode"in t||(n=0===e?function(){return null}:1===e?function(){return mf}:function(){return null},Object.defineProperty(t,"parentNode",{enumerable:!0,get:n})),"parentElement"in t||(r=0===e?function(){return null}:1===e?function(){return mf}:function(){return null},Object.defineProperty(t,"parentElement",{enumerable:!0,get:r}))}function _f(t){t.style=t.style||{},Object.assign(t.style,{top:"0px",left:"0px",width:vf+"px",height:gf+"px",margin:"0px",padding:"0px"})}function Ef(t){"clientLeft"in t||(t.clientLeft=0,t.clientTop=0),"clientWidth"in t||(t.clientWidth=vf,t.clientHeight=gf),"getBoundingClientRect"in t||(t.getBoundingClientRect=function(){return{x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight}})}function bf(t){"offsetLeft"in t||(t.offsetLeft=0,t.offsetTop=0),"offsetWidth"in t||(t.offsetWidth=vf,t.offsetHeight=gf)}function xf(t){"scrollLeft"in t||(t.scrollLeft=0,t.scrollTop=0),"scrollWidth"in t||(t.scrollWidth=vf,t.scrollHeight=gf)}function Tf(t){var e=function(){return!0};t.classList=[],t.classList.add=e,t.classList.remove=e,t.classList.contains=e,t.classList.toggle=e}function wf(){}var Af=function(t){h(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return s(this,n),l(d(t=e.call(this)),"className",void 0),l(d(t),"children",void 0),l(d(t),"focus",void 0),l(d(t),"blur",void 0),l(d(t),"insertBefore",void 0),l(d(t),"appendChild",void 0),l(d(t),"removeChild",void 0),l(d(t),"remove",void 0),l(d(t),"innerHTML",void 0),l(d(t),"tagName",void 0),t.className="",t.children=[],t.focus=wf,t.blur=wf,t.insertBefore=wf,t.appendChild=wf,t.removeChild=wf,t.remove=wf,t.innerHTML="",t.tagName=r.toUpperCase(),yf(d(t),i),_f(d(t)),Tf(d(t)),Ef(d(t)),bf(d(t)),xf(d(t)),t}return c(n)}(lf),Sf=function(t){h(n,t);var e=g(n);function n(){return s(this,n),e.call(this,"video")}return c(n)}(function(t){h(n,t);var e=g(n);function n(t){return s(this,n),e.call(this,t)}return c(n,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),n}(Af)),Mf={};var Cf=c((function t(){s(this,t);var e=Mf,n=e.createImage&&e.createImage()||{};return"tagName"in n||(n.tagName="IMG",n.__proto__=t.prototype),yf(n),Tf(n),Object.assign(n,{addEventListener:function(t,e){n["on".concat(t)]=e.bind(n)},removeEventListener:function(t){n["on".concat(t)]=null}}),n})),Rf=function(t){h(n,t);var e=g(n);function n(){return s(this,n),e.call(this,"body",0)}return c(n,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e,n){}},{key:"dispatchEvent",value:function(t){}}]),n}(Af),kf=function(t){h(n,t);var e=g(n);function n(){return s(this,n),e.call(this,"html",0)}return c(n,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e){}},{key:"dispatchEvent",value:function(t){}}]),n}(Af),If={},Pf={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:{href:"",protocol:"",host:""},ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(t){return"canvas"===(t=t.toLowerCase())?my.createOffscreenCanvas(1024,128,"2d"):"img"===t?new Cf:"video"===t?new Sf:new Af(t)},createElementNS:function(t,e){return this.createElement(e)},createTextNode:function(t){return t},getElementById:function(t){return null},getElementsByTagName:function(t){return t=t.toLowerCase(),[]},getElementsByTagNameNS:function(t,e){return this.getElementsByTagName(e)},getElementsByName:function(t){return[]},querySelector:function(t){return null},querySelectorAll:function(t){return[]},addEventListener:function(t,e,n){If[t]||(If[t]=[]),If[t].push(e)},removeEventListener:function(t,e){var n=If[t];if(n&&n.length>0)for(var r=n.length;r--;r>0)if(n[r]===e){n.splice(r,1);break}},dispatchEvent:function(t){var e=t.type,n=If[e];if(n)for(var r=0;r<n.length;r++)n[r](t);t.target&&"function"==typeof t.target["on"+e]&&t.target["on"+e](t)},createEvent:function(t){return new rh(t)}};Pf.documentElement=new kf,Pf.head=new Af("head"),Pf.body=new Rf,xl("match",(function(t,e,n){return[function(e){var n=j(this),r=B(e)?void 0:Dt(e,t);return r?St(r,e,n):new RegExp(e)[t](Qc(n))},function(t){var r=wt(this),i=Qc(t),o=n(e,r,i);if(o.done)return o.value;if(!r.global)return Bl(r,i);var a=r.unicode;r.lastIndex=0;for(var s,u=[],c=0;null!==(s=Bl(r,i));){var l=Qc(s[0]);u[c]=l,""===l&&(r.lastIndex=Rl(i,je(r.lastIndex),a)),c++}return 0===c?null:u}]}));var Of,Nf,Lf=st("isConcatSpreadable"),Df=tt>=51||!P((function(){var t=[];return t[Lf]=!1,t.concat()[0]!==t})),Ff=function(t){if(!gt(t))return!1;var e=t[Lf];return void 0!==e?!!e:yo(t)},Bf=!Df||!Po("concat");if(cn({target:"Array",proto:!0,arity:1,forced:Bf},{concat:function(t){var e,n,r,i,o,a=G(this),s=bo(a,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(Ff(o=-1===e?a:arguments[e]))for(i=ze(o),Jl(u+i),n=0;n<i;n++,u++)n in o&&ko(s,u,o[n]);else Jl(u+1),ko(s,u++,o);return s.length=u,s}}),"undefined"!=typeof my&&my&&"function"==typeof my.showToast&&!0!==my.isFRM){var Uf=my.getSystemInfoSync();Of=Uf.system,Uf.platform,Uf.language}else{var jf={versions:(Nf=_l.navigator.userAgent,{trident:Nf.indexOf("Trident")>-1,presto:Nf.indexOf("Presto")>-1,webKit:Nf.indexOf("AppleWebKit")>-1,gecko:Nf.indexOf("Gecko")>-1&&-1===Nf.indexOf("KHTML"),mobile:!!Nf.match(/AppleWebKit.*Mobile.*/),ios:!!Nf.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:Nf.indexOf("Android")>-1||Nf.indexOf("Linux")>-1,iPhone:Nf.indexOf("iPhone")>-1,iPad:Nf.indexOf("iPad")>-1,webApp:-1===Nf.indexOf("Safari"),weixin:Nf.indexOf("MicroMessenger")>-1,qq:" qq"===Nf.match(/\sQQ/i)}),language:(_l.navigator.browserLanguage||_l.navigator.language).toLowerCase()};jf.versions.android||jf.versions.trident||jf.versions.presto||jf.versions.webKit||jf.versions.gecko||jf.versions.mobile||jf.versions.ios||jf.versions.iPhone||jf.versions.iPad||jf.versions.webApp||jf.versions.weixin||jf.versions.qq,Of=_l.navigator.userAgent}Of.toLowerCase().indexOf("android"),iu("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var zf=Eh.fastKey,Gf=fe.set,Vf=fe.getterFor;bh("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var i=t((function(t,i){bn(t,o),Gf(t,{type:e,index:Ko(null),first:void 0,last:void 0,size:0}),dt||(t.size=0),B(i)||Ci(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=Vf(e),s=function(t,e,n){var r,i,o=a(t),s=u(t,e);return s?s.value=n:(o.last=s={index:i=zf(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),dt?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},u=function(t,e){var n,r=a(t),i=zf(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return ts(o,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,dt?t.size=0:this.size=0},delete:function(t){var e=a(this),n=u(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),dt?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=a(this),r=Xn(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),ts(o,n?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),dt&&mn(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Vf(e),o=Vf(r);Ea(t,e,(function(t,e){Gf(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?ba("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,ba(void 0,!0))}),n?"entries":"values",!n,!0),_n(e)}});var Hf=F([].join),Xf=Ce!=Object||!Ao("join",",");cn({target:"Array",proto:!0,forced:Xf},{join:function(t){return Hf(Re(this),void 0===t?",":t)}});var Wf=wo.map,Zf=Po("map");cn({target:"Array",proto:!0,forced:!Zf},{map:function(t){return Wf(this,t,arguments.length>1?arguments[1]:void 0)}});var Yf=P((function(){Vo(1)}));cn({target:"Object",stat:!0,forced:Yf},{keys:function(t){return Vo(G(t))}});var qf=new Map,Kf=new Map,Qf=new Map,$f=function(t){h(n,t);var e=g(n);function n(){var t;return s(this,n),l(d(t=e.call(this)),"onabort",void 0),l(d(t),"onerror",void 0),l(d(t),"onload",void 0),l(d(t),"onloadstart",void 0),l(d(t),"onprogress",void 0),l(d(t),"ontimeout",void 0),l(d(t),"onloadend",void 0),l(d(t),"onreadystatechange",void 0),l(d(t),"readyState",void 0),l(d(t),"response",void 0),l(d(t),"responseText",void 0),l(d(t),"_responseType",void 0),l(d(t),"responseXML",void 0),l(d(t),"status",void 0),l(d(t),"statusText",void 0),l(d(t),"upload",void 0),l(d(t),"withCredentials",void 0),l(d(t),"timeout",void 0),l(d(t),"_url",void 0),l(d(t),"_method",void 0),t.onabort=null,t.onerror=null,t.onload=null,t.onloadstart=null,t.onprogress=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,t.readyState=0,t.response=null,t.responseText=null,t._responseType="text",t.responseXML=null,t.status=0,t.statusText="",t.upload={},t.withCredentials=!1,qf.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),t}return c(n,[{key:"responseType",set:function(t){this._responseType=t}},{key:"abort",value:function(){var t=Qf.get("requestTask");t&&t.abort()}},{key:"getAllResponseHeaders",value:function(){var t=Kf.get("responseHeader");return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e])})).join("\n")}},{key:"getResponseHeader",value:function(t){return Kf.get("responseHeader")[t]}},{key:"open",value:function(t,e,n){this._method=t,this._url=e}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){}},{key:"setRequestHeader",value:function(t,e){var n=qf.get("requestHeader");n[t]=e,qf.set("requestHeader",n)}},{key:"addEventListener",value:function(t,e){var n=this;"function"==typeof e&&(this["on"+t]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.target=t.target||n,e.call(n,t)})}},{key:"removeEventListener",value:function(t,e){this["on"+t]===e&&(this["on"+t]=null)}}]),n}(cf);l($f,"UNSEND",void 0),l($f,"OPENED",void 0),l($f,"HEADERS_RECEIVED",void 0),l($f,"LOADING",void 0),l($f,"DONE",void 0),$f.UNSEND=0,$f.OPENED=1,$f.HEADERS_RECEIVED=2,$f.LOADING=3,$f.DONE=4;var Jf="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,tp="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),ep=(Jf||tp)&&!1;function np(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}ep||_l.XMLHttpRequest,ep||_l.location;var rp=wo.filter,ip=Po("filter");function op(t){var e=t.color;return e&&e.length?e:[1,1,1,1]}function ap(t,e,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}function sp(t){return t.filter?[1]:[0]}function up(t,e){return[e]}cn({target:"Array",proto:!0,forced:!ip},{filter:function(t){return rp(this,t,arguments.length>1?arguments[1]:void 0)}});var cp=hp,lp=hp;function hp(t,e,n){n=n||2;var r,i,o,a,s,u,c,l=e&&e.length,h=l?e[0]*n:t.length,f=fp(t,0,h,n,!0),p=[];if(!f||f.next===f.prev)return p;if(l&&(f=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=fp(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Tp(a));for(s.sort(_p),i=0;i<s.length;i++)n=Ep(s[i],n);return n}(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<h;d+=n)(s=t[d])<r&&(r=s),(u=t[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?32767/c:0}return dp(f,p,n,r,i,c,0),p}function fp(t,e,n,r,i){var o,a;if(i===Dp(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Op(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Op(o,t[o],t[o+1],a);return a&&Mp(a,a.next)&&(Np(a),a=a.next),a}function pp(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Mp(r,r.next)&&0!==Sp(r.prev,r,r.next))r=r.next;else{if(Np(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function dp(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{0===i.z&&(i.z=xp(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(t,r,i,o);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?gp(t,r,i,o):vp(t))e.push(s.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Np(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?dp(t=mp(pp(t),e,n),e,n,r,i,o,2):2===a&&yp(t,e,n,r,i,o):dp(pp(t),e,n,r,i,o,1);break}}}function vp(t){var e=t.prev,n=t,r=t.next;if(Sp(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,a=r.x,s=e.y,u=n.y,c=r.y,l=i<o?i<a?i:a:o<a?o:a,h=s<u?s<c?s:c:u<c?u:c,f=i>o?i>a?i:a:o>a?o:a,p=s>u?s>c?s:c:u>c?u:c,d=r.next;d!==e;){if(d.x>=l&&d.x<=f&&d.y>=h&&d.y<=p&&wp(i,s,o,u,a,c,d.x,d.y)&&Sp(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function gp(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Sp(i,o,a)>=0)return!1;for(var s=i.x,u=o.x,c=a.x,l=i.y,h=o.y,f=a.y,p=s<u?s<c?s:c:u<c?u:c,d=l<h?l<f?l:f:h<f?h:f,v=s>u?s>c?s:c:u>c?u:c,g=l>h?l>f?l:f:h>f?h:f,m=xp(p,d,e,n,r),y=xp(v,g,e,n,r),_=t.prevZ,E=t.nextZ;_&&_.z>=m&&E&&E.z<=y;){if(_.x>=p&&_.x<=v&&_.y>=d&&_.y<=g&&_!==i&&_!==a&&wp(s,l,u,h,c,f,_.x,_.y)&&Sp(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,E.x>=p&&E.x<=v&&E.y>=d&&E.y<=g&&E!==i&&E!==a&&wp(s,l,u,h,c,f,E.x,E.y)&&Sp(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;_&&_.z>=m;){if(_.x>=p&&_.x<=v&&_.y>=d&&_.y<=g&&_!==i&&_!==a&&wp(s,l,u,h,c,f,_.x,_.y)&&Sp(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;E&&E.z<=y;){if(E.x>=p&&E.x<=v&&E.y>=d&&E.y<=g&&E!==i&&E!==a&&wp(s,l,u,h,c,f,E.x,E.y)&&Sp(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function mp(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Mp(i,o)&&Cp(i,r,r.next,o)&&Ip(i,o)&&Ip(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),Np(r),Np(r.next),r=t=o),r=r.next}while(r!==t);return pp(r)}function yp(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ap(a,s)){var u=Pp(a,s);return a=pp(a,a.next),u=pp(u,u.next),dp(a,e,n,r,i,o,0),void dp(u,e,n,r,i,o,0)}s=s.next}a=a.next}while(a!==t)}function _p(t,e){return t.x-e.x}function Ep(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==e);if(!n)return null;var u,c=n,l=n.x,h=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&wp(o<h?i:a,o,l,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),Ip(r,t)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&bp(n,r)))&&(n=r,f=u)),r=r.next}while(r!==c);return n}(t,e);if(!n)return e;var r=Pp(n,t);return pp(r,r.next),pp(n,n.next)}function bp(t,e){return Sp(t.prev,t,e.prev)<0&&Sp(e.next,t,t.next)<0}function xp(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Tp(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function wp(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Ap(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Cp(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Ip(t,e)&&Ip(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Sp(t.prev,t,e.prev)||Sp(t,e.prev,e))||Mp(t,e)&&Sp(t.prev,t,t.next)>0&&Sp(e.prev,e,e.next)>0)}function Sp(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Mp(t,e){return t.x===e.x&&t.y===e.y}function Cp(t,e,n,r){var i=kp(Sp(t,e,n)),o=kp(Sp(t,e,r)),a=kp(Sp(n,r,t)),s=kp(Sp(n,r,e));return i!==o&&a!==s||!(0!==i||!Rp(t,n,e))||!(0!==o||!Rp(t,r,e))||!(0!==a||!Rp(n,t,r))||!(0!==s||!Rp(n,e,r))}function Rp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function kp(t){return t>0?1:t<0?-1:0}function Ip(t,e){return Sp(t.prev,t,t.next)<0?Sp(t,e,t.next)>=0&&Sp(t,t.prev,e)>=0:Sp(t,e,t.prev)<0||Sp(t,t.next,e)<0}function Pp(t,e){var n=new Lp(t.i,t.x,t.y),r=new Lp(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Op(t,e,n,r){var i=new Lp(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Np(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Lp(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Dp(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}hp.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Dp(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;a-=Math.abs(Dp(t,c,l,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},hp.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},cp.default=lp;var Fp=M,Bp=F(1..valueOf),Up="\t\n\v\f\r                　\u2028\u2029\ufeff",jp=F("".replace),zp=RegExp("^["+Up+"]+"),Gp=RegExp("(^|[^"+Up+"])["+Up+"]+$"),Vp=function(t){return function(e){var n=Qc(j(e));return 1&t&&(n=jp(n,zp,"")),2&t&&(n=jp(n,Gp,"$1")),n}},Hp={start:Vp(1),end:Vp(2),trim:Vp(3)},Xp=qe.f,Wp=Ie.f,Zp=Xt.f,Yp=Hp.trim,qp=M.Number,Kp=(Fp.Number,qp.prototype),Qp=M.TypeError,$p=F("".slice),Jp=F("".charCodeAt),td=function(t){var e=jt(t,"number");return"bigint"==typeof e?e:ed(e)},ed=function(t){var e,n,r,i,o,a,s,u,c=jt(t,"number");if(It(c))throw Qp("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=Yp(c),43===(e=Jp(c,0))||45===e){if(88===(n=Jp(c,2))||120===n)return NaN}else if(48===e){switch(Jp(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=$p(c,2)).length,s=0;s<a;s++)if((u=Jp(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c},nd=sn("Number",!qp(" 0o1")||!qp("0b1")||qp("+0x1")),rd=function(t){return Rt(Kp,t)&&P((function(){Bp(t)}))},id=function(t){var e=arguments.length<1?0:qp(td(t));return rd(this)?ru(Object(e),this,id):e};id.prototype=Kp,nd&&(Kp.constructor=id),cn({global:!0,constructor:!0,wrap:!0,forced:nd},{Number:id}),nd&&function(t,e){for(var n,r=dt?Xp(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)H(e,n=r[i])&&!H(t,n)&&Zp(t,n,Wp(e,n))}(Fp.Number,qp);var od=RangeError,ad=RangeError,sd=String,ud=Math.floor,cd=F((function(t){var e=Qc(j(this)),n="",r=Le(t);if(r<0||r==1/0)throw od("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n})),ld=F("".slice),hd=F(1..toFixed),fd=function(t,e,n){return 0===e?n:e%2==1?fd(t,e-1,n*t):fd(t*t,e/2,n)},pd=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=ud(i/1e7)},dd=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=ud(r/e),r=r%e*1e7},vd=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=sd(t[e]);n=""===n?r:n+cd("0",7-r.length)+r}return n},gd=P((function(){return"0.000"!==hd(8e-5,3)||"1"!==hd(.9,0)||"1.25"!==hd(1.255,2)||"1000000000000000128"!==hd(0xde0b6b3a7640080,0)}))||!P((function(){hd({})}));function md(t){return"number"==typeof t}function yd(t){var e=Math.max(Math.min(85.0511287798,t[1]),-85.0511287798),n=Math.PI/180,r=t[0]*n,i=e*n;return i=Math.log(Math.tan(Math.PI/4+i/2)),r=(256<<20)*(.5/Math.PI*r+.5),i=(256<<20)*(-.5/Math.PI*i+(n=.5)),[Math.floor(r),Math.floor(i)]}cn({target:"Number",proto:!0,forced:gd},{toFixed:function(t){var e,n,r,i,o=Bp(this),a=Le(t),s=[0,0,0,0,0,0],u="",c="0";if(a<0||a>20)throw ad("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return sd(o);if(o<0&&(u="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*fd(2,69,1))-69)<0?o*fd(2,-e,1):o/fd(2,e,1),n*=4503599627370496,(e=52-e)>0){for(pd(s,0,n),r=a;r>=7;)pd(s,1e7,0),r-=7;for(pd(s,fd(10,r,1),0),r=e-1;r>=23;)dd(s,1<<23),r-=23;dd(s,1<<r),pd(s,1,1),dd(s,2),c=vd(s)}else pd(s,0,n),pd(s,1<<-e,0),c=vd(s)+cd("0",a);return a>0?u+((i=c.length)<=a?"0."+cd("0",a-i)+c:ld(c,0,i-a)+"."+ld(c,i-a)):u+c}});F("".replace);cn({target:"String",proto:!0,forced:("sub",P((function(){var t="".sub('"');return t!==t.toLowerCase()||t.split('"').length>3})))},{sub:function(){return"sub","","","<sub"+">"+Qc(j(this))+"</sub>"}});var _d=RegExp.prototype,Ed=qt.PROPER,bd=RegExp.prototype.toString,xd=P((function(){return"/a/b"!=bd.call({source:"a",flags:"b"})})),Td=Ed&&"toString"!=bd.name;(xd||Td)&&de(RegExp.prototype,"toString",(function(){var t=wt(this);return"/"+Qc(t.source)+"/"+Qc(function(t){var e=t.flags;return void 0!==e||"flags"in _d||H(t,"flags")||!Rt(_d,t)?e:St($c,t)}(t))}),{unsafe:!0});var wd="undefined"!=typeof Float32Array?Float32Array:Array;function Ad(){var t=new wd(2);return wd!=Float32Array&&(t[0]=0,t[1]=0),t}function Sd(t,e){var n=new wd(2);return n[0]=t,n[1]=e,n}function Md(t,e){return t[0]=e[0],t[1]=e[1],t}function Cd(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Rd(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function kd(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function Id(t,e){return t[0]*e[0]+t[1]*e[1]}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Pd=Rd,Od=(Ad(),Ad()),Nd=(Ad(),Ad()),Ld=Ad(),Dd=Ad();function Fd(t,e,n,r,i){return Cd(t,n,r),kd(t,t),[i/Id(e=Sd(-t[1],t[0]),Sd(-n[1],n[0])),e]}function Bd(t,e){return function(t,e,n){return t[0]=e,t[1]=n,t}(t,-e[1],e[0])}function Ud(t,e,n){return Pd(t,e,n),kd(t,t),t}function jd(t,e){return t[0]===e[0]&&t[1]===e[1]}var zd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),l(this,"complex",void 0),l(this,"join",void 0),l(this,"cap",void 0),l(this,"miterLimit",void 0),l(this,"thickness",void 0),l(this,"normal",void 0),l(this,"lastFlip",-1),l(this,"miter",Sd(0,0)),l(this,"started",!1),l(this,"dash",!1),l(this,"totalDistance",0),l(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return c(t,[{key:"extrude_gaode2",value:function(t,e){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,i=n.startIndex,o=1;o<r;o++){var a,s,u,c=t[o-1];c.push(null!==(a=e[o-1][2])&&void 0!==a?a:0);var l=e[o-1],h=t[o];h.push(null!==(s=e[o][2])&&void 0!==s?s:0);var f=e[o],p=o<t.length-1?[].concat(y(t[o+1]),[null!==(u=e[o+1][2])&&void 0!==u?u:0]):null,d=o<e.length-1?e[o+1]:null;i+=this.segment_gaode2(n,i,c,h,p,l,f,d)}if(this.dash)for(var v=0;v<n.positions.length/6;v++)n.positions[6*v+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"simpleExtrude_gaode2",value:function(t,e){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,i=n.startIndex,o=1;o<r;o++){var a,s,u,c=t[o-1];c.push(null!==(a=e[o-1][2])&&void 0!==a?a:0);var l=e[o-1],h=t[o];h.push(null!==(s=e[o][2])&&void 0!==s?s:0);var f=e[o],p=o<t.length-1?[].concat(y(t[o+1]),[null!==(u=e[o+1][2])&&void 0!==u?u:0]):null,d=o<e.length-1?e[o+1]:null;i+=this.simpleSegment(n,i,c,h,p,l,f,d)}if(this.dash)for(var v=0;v<n.positions.length/6;v++)n.positions[6*v+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"extrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,r=e.startIndex,i=1;i<n;i++){var o=t[i-1],a=t[i],s=i<t.length-1?t[i+1]:null;r+=this.segment(e,r,o,a,s)}if(this.dash)for(var u=0;u<e.positions.length/6;u++)e.positions[6*u+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"simpleExtrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,r=e.startIndex,i=1;i<n;i++){var o=t[i-1],a=t[i],s=i<t.length-1?t[i+1]:null;r+=this.simpleSegment(e,r,o,a,s)}if(this.dash)for(var u=0;u<e.positions.length/6;u++)e.positions[6*u+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"segment_gaode2",value:function(t,e,n,r,i,o,a,s){var u=0,c=t.indices,l=t.positions,h=t.normals,f="square"===this.cap,p="bevel"===this.join,d=yd([a[0],a[1]]),v=yd([o[0],o[1]]);Ud(Nd,r,n);var g=0;if(this.dash&&(g=this.lineSegmentDistance(d,v),this.totalDistance+=g),this.normal||(this.normal=Ad(),Bd(this.normal,Nd)),!this.started)if(this.started=!0,f){var _=Ad(),E=Ad();Cd(_,this.normal,Nd),Cd(E,this.normal,Nd),h.push(E[0],E[1],0),h.push(_[0],_[1],0),l.push(n[0],n[1],0|n[2],this.totalDistance-g,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),l.push(n[0],n[1],0|n[2],this.totalDistance-g,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,h,n,this.normal,this.thickness,this.totalDistance-g);if(c.push(e+0,e+1,e+2),i){jd(r,i)&&Cd(i,r,kd(i,Rd(i,r,n))),Ud(Ld,i,r);var b=m(Fd(Dd,Ad(),Nd,Ld,this.thickness),2),x=b[0],T=b[1],w=Id(Dd,this.normal)<0?-1:1,A=p;A||"miter"!==this.join||x>this.miterLimit&&(A=!0),A?(h.push(this.normal[0],this.normal[1],0),h.push(T[0],T[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*w,0|r[2]),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*w,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c.push.apply(c,y(this.lastFlip!==-w?[e,e+2,e+3]:[e+2,e+1,e+3])),c.push(e+2,e+3,e+4),Bd(Od,Ld),Md(this.normal,Od),h.push(this.normal[0],this.normal[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*w,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,u+=3):(this.extrusions(l,h,r,T,x,this.totalDistance),c.push.apply(c,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),w=-1,Md(this.normal,T),u+=2),this.lastFlip=w}else{if(Bd(this.normal,Nd),f){var S=Ad(),M=Ad();Pd(M,Nd,this.normal),Cd(S,Nd,this.normal),h.push(M[0],M[1],0),h.push(S[0],S[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,h,r,this.normal,this.thickness,this.totalDistance);c.push.apply(c,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),u+=2}return u}},{key:"simpleSegment",value:function(t,e,n,r,i){var o=0,a=t.indices,s=t.positions,u=t.normals,c=yd([r[0],r[1]]),l=yd([n[0],n[1]]);Ud(Nd,c,l);var h=0;if(this.dash&&(h=this.lineSegmentDistance(c,l),this.totalDistance+=h),this.normal||(this.normal=Ad(),Bd(this.normal,Nd)),this.started||(this.started=!0,this.extrusions(s,u,n,this.normal,this.thickness,this.totalDistance-h)),a.push(e+0,e+1,e+2),i){var f=yd([i[0],i[1]]);jd(c,f)&&Cd(f,c,kd(f,Rd(f,c,l))),Ud(Ld,f,c);var p=m(Fd(Dd,Ad(),Nd,Ld,this.thickness),2),d=p[0],v=p[1];Id(Dd,this.normal),this.extrusions(s,u,r,v,d,this.totalDistance),a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),Md(this.normal,v),o+=2,this.lastFlip=-1}else Bd(this.normal,Nd),this.extrusions(s,u,r,this.normal,this.thickness,this.totalDistance),a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),o+=2;return o}},{key:"segment",value:function(t,e,n,r,i){var o=0,a=t.indices,s=t.positions,u=t.normals,c="square"===this.cap,l="bevel"===this.join,h=yd([r[0],r[1]]),f=yd([n[0],n[1]]);Ud(Nd,h,f);var p=0;if(this.dash&&(p=this.lineSegmentDistance(h,f),this.totalDistance+=p),this.normal||(this.normal=Ad(),Bd(this.normal,Nd)),!this.started)if(this.started=!0,c){var d=Ad(),v=Ad();Cd(d,this.normal,Nd),Cd(v,this.normal,Nd),u.push(v[0],v[1],0),u.push(d[0],d[1],0),s.push(n[0],n[1],0|n[2],this.totalDistance-p,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),s.push(n[0],n[1],0|n[2],this.totalDistance-p,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,u,n,this.normal,this.thickness,this.totalDistance-p);if(a.push(e+0,e+1,e+2),i){var g=yd([i[0],i[1]]);jd(h,g)&&Cd(g,h,kd(g,Rd(g,h,f))),Ud(Ld,g,h);var _=m(Fd(Dd,Ad(),Nd,Ld,this.thickness),2),E=_[0],b=_[1],x=Id(Dd,this.normal)<0?-1:1,T=l;T||"miter"!==this.join||E>this.miterLimit&&(T=!0),T?(u.push(this.normal[0],this.normal[1],0),u.push(b[0],b[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*x,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*x,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a.push.apply(a,y(this.lastFlip!==-x?[e,e+2,e+3]:[e+2,e+1,e+3])),a.push(e+2,e+3,e+4),Bd(Od,Ld),Md(this.normal,Od),u.push(this.normal[0],this.normal[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*x,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o+=3):(this.extrusions(s,u,r,b,E,this.totalDistance),a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),x=-1,Md(this.normal,b),o+=2),this.lastFlip=x}else{if(Bd(this.normal,Nd),c){var w=Ad(),A=Ad();Pd(A,Nd,this.normal),Cd(w,Nd,this.normal),u.push(A[0],A[1],0),u.push(w[0],w[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,u,r,this.normal,this.thickness,this.totalDistance);a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),o+=2}return o}},{key:"extrusions",value:function(t,e,n,r,i,o){e.push(r[0],r[1],0),e.push(r[0],r[1],0),t.push(n[0],n[1],0|n[2],o,-i,0|n[2]),this.complex.indexes.push(this.currentIndex),t.push(n[0],n[1],0|n[2],o,i,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}}]),t}();function Gd(t){var e=t.coordinates,n=t.originCoordinates,r=t.version,i=new zd({dash:!0,join:"bevel"});if("GAODE2.x"===r){var o=e;Array.isArray(o[0][0])||(o=[e]);var a=n;Array.isArray(a[0][0])||(a=[n]);for(var s=0;s<o.length;s++){var u=o[s],c=a[s];i.extrude_gaode2(u,c)}}else{var l=e;l[0]&&!Array.isArray(l[0][0])&&(l=[e]),l.forEach((function(t){i.extrude(t)}))}var h=i.complex;return{vertices:h.positions,indices:h.indices,normals:h.normals,indexes:h.indexes,size:6}}function Vd(t){var e=function(t){if(md(t[0]))return t;if(md(t[0][0]))throw new Error("当前数据不支持标注");if(md(t[0][0][0])){var e=0,n=0,r=0;return t.forEach((function(t){t.forEach((function(t){e+=t[0],n+=t[1],r++}))})),[e/r,n/r,0]}throw new Error("当前数据不支持标注")}(t.coordinates);return{vertices:[].concat(y(e),y(e),y(e),y(e)),indices:[0,1,2,2,3,0],size:e.length}}function Hd(t){var e=t.coordinates,n=cp.flatten(e),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:cp(r,o,i),vertices:r,size:i}}var Xd=function(){var t=a(i().mark((function t(e){var n,r,o,a,s,u,c,l,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,r=e.features,o=e.enablePicking,a=e.iconMap,s={a_Color:op,a_Position:ap,filter:sp,a_vertexId:up,a_PickingColor:function(t){var e=t.id;return o?np(e):[0,0,0]},a_DistanceAndIndex:function(t,e,n,r,i,o){return void 0===o?[n[3],10]:[n[3],o]},a_Total_Distance:function(t,e,n){return[n[5]]},a_Size:function(t){var e=t.size,n=void 0===e?1:e;return Array.isArray(n)?[n[0],n[1]]:[n,0]},a_Normal:function(t,e,n,r,i){return i},a_Miter:function(t,e,n){return[n[4]]},a_iconMapUV:function(t){var e=t.texture,n=a[e]||{x:0,y:0};return[n.x,n.y]}},u={sizePerElement:0,elements:[]},c=0,l=[],h=3,r.forEach((function(t,e){var r=Gd(t),i=r.indices,o=r.vertices,a=r.normals,f=r.size,p=r.indexes;i.forEach((function(t){l.push(t+c)})),h=f;var d=o.length/f;u.sizePerElement=h,u.elements.push({featureIdx:e,vertices:o,normals:a,offset:c}),c+=d;for(var v=function(r){var i=(null==a?void 0:a.slice(3*r,3*r+3))||[],u=o.slice(r*f,r*f+f),c=0;p&&void 0!==p[r]&&(c=p[r]),n.forEach((function(n){var o;n&&s[n.name]&&(o=n.buffer.data).push.apply(o,y(s[n.name](t,e,u,r,i,c)))}))},g=0;g<d;g++)v(g)})),t.abrupt("return",{descriptors:n,featureLayout:u,indices:l});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wd={pointFill:function(){var t=a(i().mark((function t(e){var n,r,o,a,s,u,c,l,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,r=e.features,o=e.enablePicking,a=e.shape2d,s={a_Color:op,a_Position:ap,filter:sp,a_vertexId:up,a_PickingColor:function(t){var e=t.id;return o?np(e):[0,0,0]},a_Shape:function(t){var e=t.shape,n=void 0===e?2:e;return[a.indexOf(n)]},a_Extrude:function(t,e,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]},a_Size:function(t){var e=t.size,n=void 0===e?5:e;return Array.isArray(n)?[n[0]]:[n]}},u={sizePerElement:0,elements:[]},c=0,l=[],h=3,r.forEach((function(t,e){var r=Vd(t),i=r.indices,o=r.vertices,a=r.normals,f=r.size;i.forEach((function(t){l.push(t+c)})),h=f;var p=o.length/f;u.sizePerElement=h,u.elements.push({featureIdx:e,vertices:o,normals:a,offset:c}),c+=p;for(var d=function(r){var i=[],a=o.slice(r*f,r*f+f);n.forEach((function(n){var o;n&&s[n.name]&&(o=n.buffer.data).push.apply(o,y(s[n.name](t,e,a,r,i,0)))}))},v=0;v<p;v++)d(v)})),t.abrupt("return",{descriptors:n,featureLayout:u,indices:l});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),line:Xd,polygonFill:function(){var t=a(i().mark((function t(e){var n,r,o,a,s,u,c,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,r=e.features,o=e.enablePicking,a={a_Color:op,a_Position:ap,filter:sp,a_vertexId:up,a_PickingColor:function(t){var e=t.id;return o?np(e):[0,0,0]}},s={sizePerElement:0,elements:[]},u=0,c=[],l=3,r.forEach((function(t,e){var r=Hd(t),i=r.indices,o=r.vertices,h=r.normals,f=r.size;i.forEach((function(t){c.push(t+u)})),l=f;var p=o.length/f;s.sizePerElement=l,s.elements.push({featureIdx:e,vertices:o,normals:h,offset:u}),u+=p;for(var d=function(r){var i=[],s=o.slice(r*f,r*f+f);n.forEach((function(n){var o;n&&a[n.name]&&(o=n.buffer.data).push.apply(o,y(a[n.name](t,e,s,r,i,0)))}))},v=0;v<p;v++)d(v)})),t.abrupt("return",{descriptors:n,featureLayout:s,indices:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Zd=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Wd);function Yd(t){return qd.apply(this,arguments)}function qd(){return(qd=a(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.workerType,r=e.data,!Zd[n]){t.next=3;break}return t.abrupt("return",Zd[n](r));case 3:return t.abrupt("return",Promise.reject(new Error('Worker with type "'.concat(n,'" non-existent.'))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}ho(Yd),t.WorkerSourceMap=Wd,t.createWorker=ho,t.worker=Yd}({})},6640:function(e){"use strict";e.exports=t},9068:function(t){t.exports=function(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o},t.exports.__esModule=!0,t.exports.default=t.exports},5658:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},6336:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},4282:function(t,e,n){var r=n(5658);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5728:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},6120:function(t){function e(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=t.apply(n,r);function s(t){e(a,i,o,s,u,"next",t)}function u(t){e(a,i,o,s,u,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},1252:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},6291:function(t,e,n){var r=n(1311),i=n(3274);function o(e,n,a){return i()?(t.exports=o=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},5525:function(t,e,n){var r=n(5488);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},8798:function(t,e,n){var r=n(3174);t.exports=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},t.exports.__esModule=!0,t.exports.default=t.exports},8738:function(t,e,n){var r=n(3624),i=n(3274),o=n(698);t.exports=function(t){var e=i();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},912:function(t,e,n){var r=n(5488);t.exports=function(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},6409:function(t,e,n){var r=n(3989);function i(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=i=Reflect.get.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(this,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},3624:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},3651:function(t,e,n){var r=n(1311);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},2844:function(t){t.exports=function(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},t.exports.__esModule=!0,t.exports.default=t.exports},3303:function(t){t.exports=function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},t.exports.__esModule=!0,t.exports.default=t.exports},3751:function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},3274:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},1472:function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},9102:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},540:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},6774:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},8881:function(t,e,n){var r=n(912);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},1728:function(t,e,n){var r=n(9982);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},9982:function(t){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i},t.exports.__esModule=!0,t.exports.default=t.exports},698:function(t,e,n){var r=n(6565).default,i=n(5728);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},9475:function(t,e,n){var r=n(6565).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new C(r||[]);return a(o,"_invoke",{value:w(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d={};function v(){}function g(){}function m(){}var y={};h(y,u,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(R([])));E&&E!==n&&o.call(E,u)&&(y=E);var b=m.prototype=v.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==r(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function A(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=p(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function R(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:k}}function k(){return{value:void 0,done:!0}}return g.prototype=m,a(b,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:g,configurable:!0}),g.displayName=h(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,h(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},x(T.prototype),h(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new T(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(b),h(b,l,"Generator"),h(b,u,(function(){return this})),h(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},1311:function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},52:function(t,e,n){var r=n(6336),i=n(9102),o=n(3174),a=n(540);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},3989:function(t,e,n){var r=n(3624);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},8256:function(t,e,n){var r=n(4282),i=n(1472),o=n(3174),a=n(6774);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},8157:function(t,e,n){var r=n(6565).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5488:function(t,e,n){var r=n(6565).default,i=n(8157);t.exports=function(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},6565:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},3174:function(t,e,n){var r=n(5658);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},2339:function(t,e,n){var r=n(3624),i=n(1311),o=n(3751),a=n(6291);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),i(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.amdO={},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var i={};return function(){"use strict";r.r(i),r.d(i,{BaseMapService:function(){return mf},BaseMapWrapper:function(){return Bs},Earth:function(){return xf},GaodeMap:function(){return ol},GaodeMapV1:function(){return $c},GaodeMapV2:function(){return ol},Map:function(){return Sf},Mapbox:function(){return Nf},Version:function(){return Fu},Viewport:function(){return Mc}});var t={};r.r(t),r.d(t,{add:function(){return Zs},angle:function(){return xu},bezier:function(){return du},ceil:function(){return Qs},clone:function(){return Gs},copy:function(){return Xs},create:function(){return zs},cross:function(){return hu},dist:function(){return ku},distance:function(){return iu},div:function(){return Ru},divide:function(){return Ks},dot:function(){return lu},equals:function(){return Su},exactEquals:function(){return Au},floor:function(){return $s},forEach:function(){return Nu},fromValues:function(){return Hs},hermite:function(){return pu},inverse:function(){return uu},len:function(){return Pu},length:function(){return Vs},lerp:function(){return fu},max:function(){return tu},min:function(){return Js},mul:function(){return Cu},multiply:function(){return qs},negate:function(){return su},normalize:function(){return cu},random:function(){return vu},rotateX:function(){return _u},rotateY:function(){return Eu},rotateZ:function(){return bu},round:function(){return eu},scale:function(){return nu},scaleAndAdd:function(){return ru},set:function(){return Ws},sqrDist:function(){return Iu},sqrLen:function(){return Ou},squaredDistance:function(){return ou},squaredLength:function(){return au},str:function(){return wu},sub:function(){return Mu},subtract:function(){return Ys},transformMat3:function(){return mu},transformMat4:function(){return gu},transformQuat:function(){return yu},zero:function(){return Tu}});var e=r(1252),n=r.n(e),o=r(5525),a=r.n(o),s=r(3651),u=r.n(s),c=r(8738),l=r.n(c),h=r(8881),f=r.n(h),p=r(2844),d=r.n(p),v=r(912),g=r.n(v),m=r(9068),y=r.n(m),_=(r(3303),r(8095),r(2490)),E=r.n(_),b=r(5075),x=r(3506),T={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),IDebugService:Symbol.for("IDebugService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")},w=r(8798),A=r.n(w),S=r(5728),M=r.n(S),C=r(2339),R=r.n(C),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function I(t){this.message=t}function P(t){for(var e,n,r,i,o="",a=0,s=(t=String(t)).length%3;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");o+=k.charAt((e=n<<16|r<<8|i)>>18&63)+k.charAt(e>>12&63)+k.charAt(e>>6&63)+k.charAt(63&e)}return s?o.slice(0,s-3)+"===".substring(s):o}I.prototype=new Error,I.prototype.name="InvalidCharacterError";var O,N,L=function(){function t(e,r){n()(this,t),this.buffers=e,this.type=r}return a()(t,[{key:"arraybuffer",value:function(){return Promise.resolve(this.buffers[0])}},{key:"stream",value:function(){throw new Error("not implemented")}},{key:"text",value:function(){throw new Error("not implemented")}},{key:"slice",value:function(t,e,n){throw new Error("not implemented")}}]),t}();O=O||(O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{}),N="undefined"==typeof window?{devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(t){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,n){return{duration:0}},now:function(){return(new Date).getTime()}},Blob:"",dispatchEvent:function(t){return!0},Event:function(t,e){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:window;var D,F,B,U,j="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM?my.getSystemInfoSync().pixelRatio:N.devicePixelRatio,z=a()((function t(e,r){n()(this,t),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=e,this.timeStamp=Date.now()})),G=new WeakMap,V=function(){function t(){n()(this,t),G.set(this,{})}return a()(t,[{key:"addEventListener",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=G.get(this);r||(r={}),r[t]||(r[t]=[]),r[t].push(e),G.set(this,r),n.capture,n.once,n.passive}},{key:"removeEventListener",value:function(t,e){var n=G.get(this);if(n){var r=n[t];if(r&&r.length>0)for(var i=r.length;i--;i>0)if(r[i]===e){r.splice(i,1);break}}}},{key:"dispatchEvent",value:function(t){var e=G.get(this)[t.type];if(e){var n,r=A()(e);try{for(r.s();!(n=r.n()).done;){(0,n.value)(t)}}catch(t){r.e(t)}finally{r.f()}}}}]),t}(),H=function(t){u()(r,t);var e=l()(r);function r(){var t;return n()(this,r),(t=e.call(this)).childNodes=[],t}return a()(r,[{key:"appendChild",value:function(t){this.childNodes.push(t)}},{key:"cloneNode",value:function(){var t=Object.create(this);return Object.assign(t,this),t}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex((function(e){return e===t}));return e>-1?this.childNodes.splice(e,1):null}}]),r}(V),X=function(t){u()(r,t);var e=l()(r);function r(){var t;return n()(this,r),(t=e.call(this)).className="",t.children=[],t}return a()(r,[{key:"setAttribute",value:function(t,e){this[t]=e}},{key:"getAttribute",value:function(t){return this[t]}},{key:"setAttributeNS",value:function(t,e){this[t]=e}},{key:"getAttributeNS",value:function(t){return this[t]}}]),r}(H);if("undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM){var W=my.getSystemInfoSync();D=W.screenWidth,F=W.screenHeight,B=W.windowWidth,U=W.windowHeight}else{var Z=N.innerWidth,Y=N.innerHeight;D=Z,F=Y,B=Z,U=Y}var q={width:D,height:F,availWidth:B,availHeight:U,availLeft:0,availTop:0},K=q.availWidth,Q=q.availHeight,$={style:[]};function J(t,e){var n,r;"parentNode"in t||(n=0===e?function(){return null}:1===e?function(){return $}:function(){return null},Object.defineProperty(t,"parentNode",{enumerable:!0,get:n}));"parentElement"in t||(r=0===e?function(){return null}:1===e?function(){return $}:function(){return null},Object.defineProperty(t,"parentElement",{enumerable:!0,get:r}))}function tt(t){t.style=t.style||{},Object.assign(t.style,{top:"0px",left:"0px",width:K+"px",height:Q+"px",margin:"0px",padding:"0px"})}function et(t){"clientLeft"in t||(t.clientLeft=0,t.clientTop=0),"clientWidth"in t||(t.clientWidth=K,t.clientHeight=Q),"getBoundingClientRect"in t||(t.getBoundingClientRect=function(){return{x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight}})}function nt(t){"offsetLeft"in t||(t.offsetLeft=0,t.offsetTop=0),"offsetWidth"in t||(t.offsetWidth=K,t.offsetHeight=Q)}function rt(t){"scrollLeft"in t||(t.scrollLeft=0,t.scrollTop=0),"scrollWidth"in t||(t.scrollWidth=K,t.scrollHeight=Q)}function it(t){var e=function(){return!0};t.classList=[],t.classList.add=e,t.classList.remove=e,t.classList.contains=e,t.classList.toggle=e}function ot(){}var at=function(t){u()(r,t);var e=l()(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;return n()(this,r),(t=e.call(this)).className="",t.children=[],t.focus=ot,t.blur=ot,t.insertBefore=ot,t.appendChild=ot,t.removeChild=ot,t.remove=ot,t.innerHTML="",t.tagName=i.toUpperCase(),J(M()(t),o),tt(M()(t)),it(M()(t)),et(M()(t)),nt(M()(t)),rt(M()(t)),t}return a()(r)}(X),st=function(t){u()(r,t);var e=l()(r);function r(t){return n()(this,r),e.call(this,t)}return a()(r,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),r}(at),ut=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.call(this,"video")}return a()(r)}(st),ct={};function lt(){return ct}var ht=a()((function t(){n()(this,t);var e=lt(),r=e.createImage&&e.createImage()||{};return"tagName"in r||(r.tagName="IMG",r.__proto__=t.prototype),J(r),it(r),Object.assign(r,{addEventListener:function(t,e){r["on".concat(t)]=e.bind(r)},removeEventListener:function(t){r["on".concat(t)]=null}}),r})),ft={href:"",protocol:"",host:""},pt=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.call(this,"body",0)}return a()(r,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e,n){}},{key:"dispatchEvent",value:function(t){}}]),r}(at),dt=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.call(this,"html",0)}return a()(r,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e){}},{key:"dispatchEvent",value:function(t){}}]),r}(at),vt={},gt={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:ft,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(t){return"canvas"===(t=t.toLowerCase())?my.createOffscreenCanvas(1024,128,"2d"):"img"===t?new ht:"video"===t?new ut:new at(t)},createElementNS:function(t,e){return this.createElement(e)},createTextNode:function(t){return t},getElementById:function(t){return null},getElementsByTagName:function(t){return t=t.toLowerCase(),[]},getElementsByTagNameNS:function(t,e){return this.getElementsByTagName(e)},getElementsByName:function(t){return[]},querySelector:function(t){return null},querySelectorAll:function(t){return[]},addEventListener:function(t,e,n){vt[t]||(vt[t]=[]),vt[t].push(e)},removeEventListener:function(t,e){var n=vt[t];if(n&&n.length>0)for(var r=n.length;r--;r>0)if(n[r]===e){n.splice(r,1);break}},dispatchEvent:function(t){var e=t.type,n=vt[e];if(n)for(var r=0;r<n.length;r++)n[r](t);t.target&&"function"==typeof t.target["on"+e]&&t.target["on"+e](t)},createEvent:function(t){return new z(t)}};gt.documentElement=new dt,gt.head=new at("head"),gt.body=new pt;var mt,yt,_t,Et,bt=Object,xt=r(6565),Tt=r.n(xt),wt=function(){function t(){n()(this,t);var e=arguments.length;if(2===e){if("number"==typeof arguments[0]&&"number"==typeof arguments[1])return this._w=arguments[0],this._h=arguments[1],void(this._data=new Uint8ClampedArray(this._w*this._h*4))}else 3===e&&"object"===Tt()(arguments[0])&&"number"==typeof arguments[1]&&"number"==typeof arguments[2]&&(this._data=arguments[0],this._w=arguments[1],this._h=arguments[2]);throw new Error("ImageData: params error")}return a()(t,[{key:"width",get:function(){return this._w}},{key:"height",get:function(){return this._h}},{key:"data",get:function(){return this._data}}]),t}();if("undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM){var At=my.getSystemInfoSync();mt=At.system,yt=At.platform,_t=At.language}else{var St={versions:(Et=N.navigator.userAgent,{trident:Et.indexOf("Trident")>-1,presto:Et.indexOf("Presto")>-1,webKit:Et.indexOf("AppleWebKit")>-1,gecko:Et.indexOf("Gecko")>-1&&-1===Et.indexOf("KHTML"),mobile:!!Et.match(/AppleWebKit.*Mobile.*/),ios:!!Et.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:Et.indexOf("Android")>-1||Et.indexOf("Linux")>-1,iPhone:Et.indexOf("iPhone")>-1,iPad:Et.indexOf("iPad")>-1,webApp:-1===Et.indexOf("Safari"),weixin:Et.indexOf("MicroMessenger")>-1,qq:" qq"===Et.match(/\sQQ/i)}),language:(N.navigator.browserLanguage||N.navigator.language).toLowerCase()};St.versions.android?yt="android":St.versions.trident?yt="IE":St.versions.presto?yt="Opera":St.versions.webKit?yt="webKit":St.versions.gecko?yt="Firefox":St.versions.mobile?yt="mobile":St.versions.ios?yt="ios":St.versions.iPhone?yt="iPhone":St.versions.iPad?yt="ipad":St.versions.webApp?yt="webApp":St.versions.weixin?yt="weixin":St.versions.qq&&(yt="qq"),mt=N.navigator.userAgent,_t=St.language}var Mt=-1!==mt.toLowerCase().indexOf("android")?"Android; CPU Android 6.0":"iPhone; CPU iPhone OS 10_3_1 like Mac OS X",Ct="Mozilla/5.0 (".concat(Mt,") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/").concat(_t),Rt={platform:yt,language:_t,appVersion:"5.0 (".concat(Mt,") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),userAgent:Ct},kt=0;var It=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n()(this,t),0!=e.indexOf("http://")&&0!=e.indexOf("https://")?this.href=r+e:this.href=e}return a()(t,null,[{key:"createObjectURL",value:function(t){var e=t.buffers[0],n=t.type,r=function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return P(e)}(e);return"data:".concat(n,";base64, ")+r}}]),t}();var Pt=new Map,Ot=new Map,Nt=new Map;var Lt=function(t){u()(r,t);var e=l()(r);function r(){var t;return n()(this,r),(t=e.call(this)).onabort=null,t.onerror=null,t.onload=null,t.onloadstart=null,t.onprogress=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,t.readyState=0,t.response=null,t.responseText=null,t._responseType="text",t.responseXML=null,t.status=0,t.statusText="",t.upload={},t.withCredentials=!1,Pt.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),t}return a()(r,[{key:"responseType",set:function(t){this._responseType=t}},{key:"abort",value:function(){var t=Nt.get("requestTask");t&&t.abort()}},{key:"getAllResponseHeaders",value:function(){var t=Ot.get("responseHeader");return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e])})).join("\n")}},{key:"getResponseHeader",value:function(t){return Ot.get("responseHeader")[t]}},{key:"open",value:function(t,e,n){this._method=t,this._url=e}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){}},{key:"setRequestHeader",value:function(t,e){var n=Pt.get("requestHeader");n[t]=e,Pt.set("requestHeader",n)}},{key:"addEventListener",value:function(t,e){var n=this;"function"==typeof e&&(this["on"+t]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.target=t.target||n,e.call(n,t)})}},{key:"removeEventListener",value:function(t,e){this["on"+t]===e&&(this["on"+t]=null)}}]),r}(V);Lt.UNSEND=0,Lt.OPENED=1,Lt.HEADERS_RECEIVED=2,Lt.LOADING=3,Lt.DONE=4;function Dt(t){return function(e){e.type=t,gt.dispatchEvent(e)}}Dt("mousedown"),Dt("mousemove"),Dt("mouseup");var Ft=function(t){u()(r,t);var e=l()(r);function r(t){var i;return n()(this,r),(i=e.call(this,t)).target=lt(),i.currentTarget=lt(),i}return a()(r)}(z),Bt=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","pageX","pageY","timeStamp"],Ut=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,0,0,0];function jt(t,e,n){for(var r=new Ft(t),i=0;i<Bt.length;i++){var o=Bt[i];r[o]=e[o]||Ut[i]}return r.type=t,r.target=lt(),r.currentTarget=lt(),r.buttons=function(t){var e=0;"touchstart"!==t&&"touchmove"!==t&&"pointerdown"!==t&&"pointermove"!==t||(e=1);return e}(t),r.which=r.buttons,r.pointerId=(e.identifier||0)+2,r.bubbles=!0,r.cancelable=!0,r.button=0,r.width=2*(e.radiusX||.5),r.height=2*(e.radiusY||.5),r.pressure=e.force||.5,r.isPrimary=function(t){return zt===t.identifier}(e),r.pointerType="touch",r.altKey=n.altKey,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,n.preventDefault&&(r.preventDefault=function(){n.preventDefault()}),r}var zt=null;function Gt(t){null===zt&&(zt=t.identifier)}function Vt(t){zt===t.identifier&&(zt=null)}function Ht(t){return function(e){for(var n=e.changedTouches,r=0;r<n.length;r++){var i=n[r];0===r&&"pointerdown"===t?Gt(i):"pointerup"!==t&&"pointercancel"!==t||Vt(i);var o=jt(t,i,e);gt.dispatchEvent(o)}}}Ht("pointerdown"),Ht("pointermove"),Ht("pointerup");var Xt=function(t){u()(r,t);var e=l()(r);function r(t){var i;return n()(this,r),(i=e.call(this,t)).touches=[],i.targetTouches=[],i.changedTouches=[],i.target=lt(),i.currentTarget=lt(),i}return a()(r)}(z);function Wt(t){var e=t||{},n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.clientX,s=void 0===a?0:a,u=e.clientY,c=void 0===u?0:u;-1!==Object.keys(t).indexOf("x")?(t.pageX=t.clientX=r,t.pageY=t.clientY=o):(t.x=s,t.y=c)}function Zt(t){return function(e){var n=new Xt(t);n.changedTouches=e.changedTouches,n.touches=e.touches,n.targetTouches=Array.prototype.slice.call(e.touches),n.timeStamp=e.timeStamp,n.changedTouches.forEach((function(t){return Wt(t)})),n.touches.forEach((function(t){return Wt(t)})),n.targetTouches.forEach((function(t){return Wt(t)})),gt.dispatchEvent(n)}}Zt("touchstart"),Zt("touchmove"),Zt("touchend"),Yt="mapCameaParams";var Yt,qt=!1;var Kt="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,Qt="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),$t=(Kt||Qt)&&qt,Jt={atob:function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new I("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i="",o=0,a=0;r=e.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r=k.indexOf(r);return i},btoa:P,devicePixelRatio:j,Blob:L,document:gt,Element:X,Event:z,EventTarget:V,HTMLCanvasElement:bt,HTMLElement:at,HTMLMediaElement:st,HTMLVideoElement:ut,Image:ht,ImageData:wt,navigator:Rt,Node:H,requestAnimationFrame:function(t){var e=lt();return e.requestAnimationFrame?e.requestAnimationFrame(t):function(t){var e=Date.now(),n=Math.max(kt+23,e);return setTimeout((function(){t(kt=n)}),n-e)}(t)},cancelAnimationFrame:function(t){var e=lt();return e.cancelAnimationFrame?e.cancelAnimationFrame(t):clearTimeout(t)},screen:q,XMLHttpRequest:Lt,performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,n){return{duration:0}},now:function(){}},URL:It,WebGLRenderingContext:{GCCSO_SHADER_BINARY_FJ:37472,_3DC_XY_AMD:34810,_3DC_X_AMD:34809,ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_PROGRAM_EXT:33369,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALL_COMPLETED_NV:34034,ALL_SHADER_BITS_EXT:4294967295,ALPHA:6406,ALPHA16F_EXT:34844,ALPHA32F_EXT:34838,ALPHA8_EXT:32828,ALPHA8_OES:32828,ALPHA_BITS:3413,ALPHA_TEST_FUNC_QCOM:3009,ALPHA_TEST_QCOM:3008,ALPHA_TEST_REF_QCOM:3010,ALREADY_SIGNALED_APPLE:37146,ALWAYS:519,AMD_compressed_3DC_texture:1,AMD_compressed_ATC_texture:1,AMD_performance_monitor:1,AMD_program_binary_Z400:1,ANGLE_depth_texture:1,ANGLE_framebuffer_blit:1,ANGLE_framebuffer_multisample:1,ANGLE_instanced_arrays:1,ANGLE_pack_reverse_row_order:1,ANGLE_program_binary:1,ANGLE_texture_compression_dxt3:1,ANGLE_texture_compression_dxt5:1,ANGLE_texture_usage:1,ANGLE_translated_shader_source:1,ANY_SAMPLES_PASSED_CONSERVATIVE_EXT:36202,ANY_SAMPLES_PASSED_EXT:35887,APPLE_copy_texture_levels:1,APPLE_framebuffer_multisample:1,APPLE_rgb_422:1,APPLE_sync:1,APPLE_texture_format_BGRA8888:1,APPLE_texture_max_level:1,ARM_mali_program_binary:1,ARM_mali_shader_binary:1,ARM_rgba8:1,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATC_RGBA_EXPLICIT_ALPHA_AMD:35987,ATC_RGBA_INTERPOLATED_ALPHA_AMD:34798,ATC_RGB_AMD:35986,ATTACHED_SHADERS:35717,BACK:1029,BGRA8_EXT:37793,BGRA_EXT:32993,BGRA_IMG:32993,BINNING_CONTROL_HINT_QCOM:36784,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BUFFER:33504,BUFFER_ACCESS_OES:35003,BUFFER_MAPPED_OES:35004,BUFFER_MAP_POINTER_OES:35005,BUFFER_OBJECT_EXT:37201,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_BORDER_NV:33069,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_ATTACHMENT0_NV:36064,COLOR_ATTACHMENT10_NV:36074,COLOR_ATTACHMENT11_NV:36075,COLOR_ATTACHMENT12_NV:36076,COLOR_ATTACHMENT13_NV:36077,COLOR_ATTACHMENT14_NV:36078,COLOR_ATTACHMENT15_NV:36079,COLOR_ATTACHMENT1_NV:36065,COLOR_ATTACHMENT2_NV:36066,COLOR_ATTACHMENT3_NV:36067,COLOR_ATTACHMENT4_NV:36068,COLOR_ATTACHMENT5_NV:36069,COLOR_ATTACHMENT6_NV:36070,COLOR_ATTACHMENT7_NV:36071,COLOR_ATTACHMENT8_NV:36072,COLOR_ATTACHMENT9_NV:36073,COLOR_ATTACHMENT_EXT:37104,COLOR_BUFFER_BIT:16384,COLOR_BUFFER_BIT0_QCOM:1,COLOR_BUFFER_BIT1_QCOM:2,COLOR_BUFFER_BIT2_QCOM:4,COLOR_BUFFER_BIT3_QCOM:8,COLOR_BUFFER_BIT4_QCOM:16,COLOR_BUFFER_BIT5_QCOM:32,COLOR_BUFFER_BIT6_QCOM:64,COLOR_BUFFER_BIT7_QCOM:128,COLOR_CLEAR_VALUE:3106,COLOR_EXT:6144,COLOR_WRITEMASK:3107,COMPARE_REF_TO_TEXTURE_EXT:34894,COMPILE_STATUS:35713,COMPRESSED_RGBA_ASTC_10x10_KHR:37819,COMPRESSED_RGBA_ASTC_10x5_KHR:37816,COMPRESSED_RGBA_ASTC_10x6_KHR:37817,COMPRESSED_RGBA_ASTC_10x8_KHR:37818,COMPRESSED_RGBA_ASTC_12x10_KHR:37820,COMPRESSED_RGBA_ASTC_12x12_KHR:37821,COMPRESSED_RGBA_ASTC_4x4_KHR:37808,COMPRESSED_RGBA_ASTC_5x4_KHR:37809,COMPRESSED_RGBA_ASTC_5x5_KHR:37810,COMPRESSED_RGBA_ASTC_6x5_KHR:37811,COMPRESSED_RGBA_ASTC_6x6_KHR:37812,COMPRESSED_RGBA_ASTC_8x5_KHR:37813,COMPRESSED_RGBA_ASTC_8x6_KHR:37814,COMPRESSED_RGBA_ASTC_8x8_KHR:37815,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGBA_PVRTC_2BPPV2_IMG:37175,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_4BPPV2_IMG:37176,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_ANGLE:33778,COMPRESSED_RGBA_S3TC_DXT5_ANGLE:33779,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:37853,COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:37847,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_NV:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_NV:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_NV:35919,COMPRESSED_SRGB_S3TC_DXT1_NV:35916,COMPRESSED_TEXTURE_FORMATS:34467,CONDITION_SATISFIED_APPLE:37148,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_FLAG_DEBUG_BIT:2,CONTEXT_ROBUST_ACCESS_EXT:37107,COUNTER_RANGE_AMD:35777,COUNTER_TYPE_AMD:35776,COVERAGE_ALL_FRAGMENTS_NV:36565,COVERAGE_ATTACHMENT_NV:36562,COVERAGE_AUTOMATIC_NV:36567,COVERAGE_BUFFERS_NV:36563,COVERAGE_BUFFER_BIT_NV:32768,COVERAGE_COMPONENT4_NV:36561,COVERAGE_COMPONENT_NV:36560,COVERAGE_EDGE_FRAGMENTS_NV:36566,COVERAGE_SAMPLES_NV:36564,CPU_OPTIMIZED_QCOM:36785,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_QUERY_EXT:34917,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DEBUG_CALLBACK_FUNCTION:33348,DEBUG_CALLBACK_USER_PARAM:33349,DEBUG_GROUP_STACK_DEPTH:33389,DEBUG_LOGGED_MESSAGES:37189,DEBUG_NEXT_LOGGED_MESSAGE_LENGTH:33347,DEBUG_OUTPUT:37600,DEBUG_OUTPUT_SYNCHRONOUS:33346,DEBUG_SEVERITY_HIGH:37190,DEBUG_SEVERITY_LOW:37192,DEBUG_SEVERITY_MEDIUM:37191,DEBUG_SEVERITY_NOTIFICATION:33387,DEBUG_SOURCE_API:33350,DEBUG_SOURCE_APPLICATION:33354,DEBUG_SOURCE_OTHER:33355,DEBUG_SOURCE_SHADER_COMPILER:33352,DEBUG_SOURCE_THIRD_PARTY:33353,DEBUG_SOURCE_WINDOW_SYSTEM:33351,DEBUG_TYPE_DEPRECATED_BEHAVIOR:33357,DEBUG_TYPE_ERROR:33356,DEBUG_TYPE_MARKER:33384,DEBUG_TYPE_OTHER:33361,DEBUG_TYPE_PERFORMANCE:33360,DEBUG_TYPE_POP_GROUP:33386,DEBUG_TYPE_PORTABILITY:33359,DEBUG_TYPE_PUSH_GROUP:33385,DEBUG_TYPE_UNDEFINED_BEHAVIOR:33358,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH24_STENCIL8_OES:35056,DEPTH_ATTACHMENT:36096,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_BUFFER_BIT0_QCOM:256,DEPTH_BUFFER_BIT1_QCOM:512,DEPTH_BUFFER_BIT2_QCOM:1024,DEPTH_BUFFER_BIT3_QCOM:2048,DEPTH_BUFFER_BIT4_QCOM:4096,DEPTH_BUFFER_BIT5_QCOM:8192,DEPTH_BUFFER_BIT6_QCOM:16384,DEPTH_BUFFER_BIT7_QCOM:32768,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_COMPONENT16_NONLINEAR_NV:36396,DEPTH_COMPONENT16_OES:33189,DEPTH_COMPONENT24_OES:33190,DEPTH_COMPONENT32_OES:33191,DEPTH_EXT:6145,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_OES:34041,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DMP_shader_binary:1,DONT_CARE:4352,DRAW_BUFFER0_NV:34853,DRAW_BUFFER10_NV:34863,DRAW_BUFFER11_NV:34864,DRAW_BUFFER12_NV:34865,DRAW_BUFFER13_NV:34866,DRAW_BUFFER14_NV:34867,DRAW_BUFFER15_NV:34868,DRAW_BUFFER1_NV:34854,DRAW_BUFFER2_NV:34855,DRAW_BUFFER3_NV:34856,DRAW_BUFFER4_NV:34857,DRAW_BUFFER5_NV:34858,DRAW_BUFFER6_NV:34859,DRAW_BUFFER7_NV:34860,DRAW_BUFFER8_NV:34861,DRAW_BUFFER9_NV:34862,DRAW_BUFFER_EXT:3073,DRAW_FRAMEBUFFER_ANGLE:36009,DRAW_FRAMEBUFFER_APPLE:36009,DRAW_FRAMEBUFFER_BINDING_ANGLE:36006,DRAW_FRAMEBUFFER_BINDING_APPLE:36006,DRAW_FRAMEBUFFER_BINDING_NV:36006,DRAW_FRAMEBUFFER_NV:36009,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,ES_VERSION_2_0:1,ETC1_RGB8_OES:36196,ETC1_SRGB8_NV:35054,EXTENSIONS:7939,EXT_blend_minmax:1,EXT_color_buffer_half_float:1,EXT_debug_label:1,EXT_debug_marker:1,EXT_discard_framebuffer:1,EXT_map_buffer_range:1,EXT_multi_draw_arrays:1,EXT_multisampled_render_to_texture:1,EXT_multiview_draw_buffers:1,EXT_occlusion_query_boolean:1,EXT_read_format_bgra:1,EXT_robustness:1,EXT_sRGB:1,EXT_separate_shader_objects:1,EXT_shader_framebuffer_fetch:1,EXT_shader_texture_lod:1,EXT_shadow_samplers:1,EXT_texture_compression_dxt1:1,EXT_texture_filter_anisotropic:1,EXT_texture_format_BGRA8888:1,EXT_texture_rg:1,EXT_texture_storage:1,EXT_texture_type_2_10_10_10_REV:1,EXT_unpack_subimage:1,FALSE:0,FASTEST:4353,FENCE_CONDITION_NV:34036,FENCE_STATUS_NV:34035,FIXED:5132,FJ_shader_binary_GCCSO:1,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAGMENT_SHADER_BIT_EXT:2,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,FRAGMENT_SHADER_DISCARDS_SAMPLES_EXT:35410,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_ANGLE:37795,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_3D_ZOFFSET_OES:36052,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_SAMPLES_EXT:36204,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_ANGLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_APPLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_EXT:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_IMG:37172,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_NV:36182,FRAMEBUFFER_UNDEFINED_OES:33305,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GPU_OPTIMIZED_QCOM:36786,GREATER:516,GREEN_BITS:3411,GUILTY_CONTEXT_RESET_EXT:33363,HALF_FLOAT_OES:36193,HIGH_FLOAT:36338,HIGH_INT:36341,IMG_multisampled_render_to_texture:1,IMG_program_binary:1,IMG_read_format:1,IMG_shader_binary:1,IMG_texture_compression_pvrtc:1,IMG_texture_compression_pvrtc2:1,IMPLEMENTATION_COLOR_READ_FORMAT:35739,IMPLEMENTATION_COLOR_READ_TYPE:35738,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INNOCENT_CONTEXT_RESET_EXT:33364,INT:5124,INT_10_10_10_2_OES:36343,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,KHR_debug:1,KHR_texture_compression_astc_ldr:1,LEFT:1030,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOSE_CONTEXT_ON_RESET_EXT:33362,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE16F_EXT:34846,LUMINANCE32F_EXT:34840,LUMINANCE4_ALPHA4_OES:32835,LUMINANCE8_ALPHA8_EXT:32837,LUMINANCE8_ALPHA8_OES:32837,LUMINANCE8_EXT:32832,LUMINANCE8_OES:32832,LUMINANCE_ALPHA:6410,LUMINANCE_ALPHA16F_EXT:34847,LUMINANCE_ALPHA32F_EXT:34841,MALI_PROGRAM_BINARY_ARM:36705,MALI_SHADER_BINARY_ARM:36704,MAP_FLUSH_EXPLICIT_BIT_EXT:16,MAP_INVALIDATE_BUFFER_BIT_EXT:8,MAP_INVALIDATE_RANGE_BIT_EXT:4,MAP_READ_BIT_EXT:1,MAP_UNSYNCHRONIZED_BIT_EXT:32,MAP_WRITE_BIT_EXT:2,MAX_3D_TEXTURE_SIZE_OES:32883,MAX_COLOR_ATTACHMENTS_NV:36063,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_DEBUG_GROUP_STACK_DEPTH:33388,MAX_DEBUG_LOGGED_MESSAGES:37188,MAX_DEBUG_MESSAGE_LENGTH:37187,MAX_DRAW_BUFFERS_NV:34852,MAX_EXT:32776,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_LABEL_LENGTH:33512,MAX_MULTIVIEW_BUFFERS_EXT:37106,MAX_RENDERBUFFER_SIZE:34024,MAX_SAMPLES_ANGLE:36183,MAX_SAMPLES_APPLE:36183,MAX_SAMPLES_EXT:36183,MAX_SAMPLES_IMG:37173,MAX_SAMPLES_NV:36183,MAX_SERVER_WAIT_TIMEOUT_APPLE:37137,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIN_EXT:32775,MIRRORED_REPEAT:33648,MULTISAMPLE_BUFFER_BIT0_QCOM:16777216,MULTISAMPLE_BUFFER_BIT1_QCOM:33554432,MULTISAMPLE_BUFFER_BIT2_QCOM:67108864,MULTISAMPLE_BUFFER_BIT3_QCOM:134217728,MULTISAMPLE_BUFFER_BIT4_QCOM:268435456,MULTISAMPLE_BUFFER_BIT5_QCOM:536870912,MULTISAMPLE_BUFFER_BIT6_QCOM:1073741824,MULTISAMPLE_BUFFER_BIT7_QCOM:2147483648,MULTIVIEW_EXT:37105,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NO_RESET_NOTIFICATION_EXT:33377,NUM_COMPRESSED_TEXTURE_FORMATS:34466,NUM_PROGRAM_BINARY_FORMATS_OES:34814,NUM_SHADER_BINARY_FORMATS:36345,NV_coverage_sample:1,NV_depth_nonlinear:1,NV_draw_buffers:1,NV_draw_instanced:1,NV_fbo_color_attachments:1,NV_fence:1,NV_framebuffer_blit:1,NV_framebuffer_multisample:1,NV_generate_mipmap_sRGB:1,NV_instanced_arrays:1,NV_read_buffer:1,NV_read_buffer_front:1,NV_read_depth:1,NV_read_depth_stencil:1,NV_read_stencil:1,NV_sRGB_formats:1,NV_shadow_samplers_array:1,NV_shadow_samplers_cube:1,NV_texture_border_clamp:1,NV_texture_compression_s3tc_update:1,NV_texture_npot_2D_mipmap:1,OBJECT_TYPE_APPLE:37138,OES_EGL_image:1,OES_EGL_image_external:1,OES_compressed_ETC1_RGB8_texture:1,OES_compressed_paletted_texture:1,OES_depth24:1,OES_depth32:1,OES_depth_texture:1,OES_element_index_uint:1,OES_fbo_render_mipmap:1,OES_fragment_precision_high:1,OES_get_program_binary:1,OES_mapbuffer:1,OES_packed_depth_stencil:1,OES_required_internalformat:1,OES_rgb8_rgba8:1,OES_standard_derivatives:1,OES_stencil1:1,OES_stencil4:1,OES_surfaceless_context:1,OES_texture_3D:1,OES_texture_float:1,OES_texture_float_linear:1,OES_texture_half_float:1,OES_texture_half_float_linear:1,OES_texture_npot:1,OES_vertex_array_object:1,OES_vertex_half_float:1,OES_vertex_type_10_10_10_2:1,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,PACK_REVERSE_ROW_ORDER_ANGLE:37796,PALETTE4_R5_G6_B5_OES:35730,PALETTE4_RGB5_A1_OES:35732,PALETTE4_RGB8_OES:35728,PALETTE4_RGBA4_OES:35731,PALETTE4_RGBA8_OES:35729,PALETTE8_R5_G6_B5_OES:35735,PALETTE8_RGB5_A1_OES:35737,PALETTE8_RGB8_OES:35733,PALETTE8_RGBA4_OES:35736,PALETTE8_RGBA8_OES:35734,PERCENTAGE_AMD:35779,PERFMON_GLOBAL_MODE_QCOM:36768,PERFMON_RESULT_AMD:35782,PERFMON_RESULT_AVAILABLE_AMD:35780,PERFMON_RESULT_SIZE_AMD:35781,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,PROGRAM:33506,PROGRAM_BINARY_ANGLE:37798,PROGRAM_BINARY_FORMATS_OES:34815,PROGRAM_BINARY_LENGTH_OES:34625,PROGRAM_OBJECT_EXT:35648,PROGRAM_PIPELINE_BINDING_EXT:33370,PROGRAM_PIPELINE_OBJECT_EXT:35407,PROGRAM_SEPARABLE_EXT:33368,QCOM_alpha_test:1,QCOM_binning_control:1,QCOM_driver_control:1,QCOM_extended_get:1,QCOM_extended_get2:1,QCOM_perfmon_global_mode:1,QCOM_tiled_rendering:1,QCOM_writeonly_rendering:1,QUERY:33507,QUERY_OBJECT_EXT:37203,QUERY_RESULT_AVAILABLE_EXT:34919,QUERY_RESULT_EXT:34918,R16F_EXT:33325,R32F_EXT:33326,R8_EXT:33321,READ_BUFFER_EXT:3074,READ_BUFFER_NV:3074,READ_FRAMEBUFFER_ANGLE:36008,READ_FRAMEBUFFER_APPLE:36008,READ_FRAMEBUFFER_BINDING_ANGLE:36010,READ_FRAMEBUFFER_BINDING_APPLE:36010,READ_FRAMEBUFFER_BINDING_NV:36010,READ_FRAMEBUFFER_NV:36008,RED_BITS:3410,RED_EXT:6403,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_SAMPLES_ANGLE:36011,RENDERBUFFER_SAMPLES_APPLE:36011,RENDERBUFFER_SAMPLES_EXT:36011,RENDERBUFFER_SAMPLES_IMG:37171,RENDERBUFFER_SAMPLES_NV:36011,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,RENDER_DIRECT_TO_FRAMEBUFFER_QCOM:36787,REPEAT:10497,REPLACE:7681,REQUIRED_TEXTURE_IMAGE_UNITS_OES:36200,RESET_NOTIFICATION_STRATEGY_EXT:33366,RG16F_EXT:33327,RG32F_EXT:33328,RG8_EXT:33323,RGB:6407,RGB10_A2_EXT:32857,RGB10_EXT:32850,RGB16F_EXT:34843,RGB32F_EXT:34837,RGB565:36194,RGB565_OES:36194,RGB5_A1:32855,RGB5_A1_OES:32855,RGB8_OES:32849,RGBA:6408,RGBA16F_EXT:34842,RGBA32F_EXT:34836,RGBA4:32854,RGBA4_OES:32854,RGBA8_OES:32856,RGB_422_APPLE:35359,RG_EXT:33319,RIGHT:1031,SAMPLER:33510,SAMPLER_2D:35678,SAMPLER_2D_ARRAY_SHADOW_NV:36292,SAMPLER_2D_SHADOW_EXT:35682,SAMPLER_3D_OES:35679,SAMPLER_CUBE:35680,SAMPLER_CUBE_SHADOW_NV:36293,SAMPLER_EXTERNAL_OES:36198,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SGX_BINARY_IMG:35850,SGX_PROGRAM_BINARY_IMG:37168,SHADER:33505,SHADER_BINARY_DMP:37456,SHADER_BINARY_FORMATS:36344,SHADER_BINARY_VIV:36804,SHADER_COMPILER:36346,SHADER_OBJECT_EXT:35656,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SIGNALED_APPLE:37145,SLUMINANCE8_ALPHA8_NV:35909,SLUMINANCE8_NV:35911,SLUMINANCE_ALPHA_NV:35908,SLUMINANCE_NV:35910,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,SRGB8_ALPHA8_EXT:35907,SRGB8_NV:35905,SRGB_ALPHA_EXT:35906,SRGB_EXT:35904,STACK_OVERFLOW:1283,STACK_UNDERFLOW:1284,STATE_RESTORE:35804,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_BUFFER_BIT0_QCOM:65536,STENCIL_BUFFER_BIT1_QCOM:131072,STENCIL_BUFFER_BIT2_QCOM:262144,STENCIL_BUFFER_BIT3_QCOM:524288,STENCIL_BUFFER_BIT4_QCOM:1048576,STENCIL_BUFFER_BIT5_QCOM:2097152,STENCIL_BUFFER_BIT6_QCOM:4194304,STENCIL_BUFFER_BIT7_QCOM:8388608,STENCIL_CLEAR_VALUE:2961,STENCIL_EXT:6146,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX1_OES:36166,STENCIL_INDEX4_OES:36167,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,SYNC_CONDITION_APPLE:37139,SYNC_FENCE_APPLE:37142,SYNC_FLAGS_APPLE:37141,SYNC_FLUSH_COMMANDS_BIT_APPLE:1,SYNC_GPU_COMMANDS_COMPLETE_APPLE:37143,SYNC_OBJECT_APPLE:35411,SYNC_STATUS_APPLE:37140,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE2:33986,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE3:33987,TEXTURE30:34014,TEXTURE31:34015,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE_2D:3553,TEXTURE_3D_OES:32879,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_3D_OES:32874,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_BINDING_EXTERNAL_OES:36199,TEXTURE_BORDER_COLOR_NV:4100,TEXTURE_COMPARE_FUNC_EXT:34893,TEXTURE_COMPARE_MODE_EXT:34892,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_DEPTH_QCOM:35796,TEXTURE_EXTERNAL_OES:36197,TEXTURE_FORMAT_QCOM:35798,TEXTURE_HEIGHT_QCOM:35795,TEXTURE_IMAGE_VALID_QCOM:35800,TEXTURE_IMMUTABLE_FORMAT_EXT:37167,TEXTURE_INTERNAL_FORMAT_QCOM:35797,TEXTURE_MAG_FILTER:10240,TEXTURE_MAX_ANISOTROPY_EXT:34046,TEXTURE_MAX_LEVEL_APPLE:33085,TEXTURE_MIN_FILTER:10241,TEXTURE_NUM_LEVELS_QCOM:35801,TEXTURE_OBJECT_VALID_QCOM:35803,TEXTURE_SAMPLES_IMG:37174,TEXTURE_TARGET_QCOM:35802,TEXTURE_TYPE_QCOM:35799,TEXTURE_USAGE_ANGLE:37794,TEXTURE_WIDTH_QCOM:35794,TEXTURE_WRAP_R_OES:32882,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TIMEOUT_EXPIRED_APPLE:37147,TIMEOUT_IGNORED_APPLE:0x10000000000000000,TRANSLATED_SHADER_SOURCE_LENGTH_ANGLE:37792,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,TRUE:1,UNKNOWN_CONTEXT_RESET_EXT:33365,UNPACK_ALIGNMENT:3317,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_PIXELS:3316,UNPACK_SKIP_ROWS:3315,UNSIGNALED_APPLE:37144,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_INT64_AMD:35778,UNSIGNED_INT_10_10_10_2_OES:36342,UNSIGNED_INT_24_8_OES:34042,UNSIGNED_INT_2_10_10_10_REV_EXT:33640,UNSIGNED_NORMALIZED_EXT:35863,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_1_5_5_5_REV_EXT:33638,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_4_4_4_4_REV_EXT:33637,UNSIGNED_SHORT_4_4_4_4_REV_IMG:33637,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_8_8_APPLE:34234,UNSIGNED_SHORT_8_8_REV_APPLE:34235,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ARRAY_BINDING_OES:34229,VERTEX_ARRAY_OBJECT_EXT:37204,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,VERTEX_ATTRIB_ARRAY_DIVISOR_NV:35070,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VERTEX_SHADER_BIT_EXT:1,VIEWPORT:2978,VIV_shader_binary:1,WAIT_FAILED_APPLE:37149,WRITEONLY_RENDERING_QCOM:34851,WRITE_ONLY_OES:35001,Z400_BINARY_AMD:34624,ZERO:0,RASTERIZER_DISCARD:35977,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444},WebGL2RenderingContext:{},addEventListener:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gt.addEventListener(t,e,n)},removeEventListener:function(t,e,n){gt.removeEventListener(t,e)},dispatchEvent:function(t){gt.dispatchEvent(t)},innerWidth:q.availWidth,innerHeight:q.availHeight,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval},te=$t?Jt:N;$t||N.XMLHttpRequest,$t||N.location,Error;function ee(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function re(){}var ie=.7,oe=1/ie,ae="\\s*([+-]?\\d+)\\s*",se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ue="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ce=/^#([0-9a-f]{3,8})$/,le=new RegExp("^rgb\\("+[ae,ae,ae]+"\\)$"),he=new RegExp("^rgb\\("+[ue,ue,ue]+"\\)$"),fe=new RegExp("^rgba\\("+[ae,ae,ae,se]+"\\)$"),pe=new RegExp("^rgba\\("+[ue,ue,ue,se]+"\\)$"),de=new RegExp("^hsl\\("+[se,ue,ue]+"\\)$"),ve=new RegExp("^hsla\\("+[se,ue,ue,se]+"\\)$"),ge={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function me(){return this.rgb().formatHex()}function ye(){return this.rgb().formatRgb()}function _e(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ee(e):3===n?new Te(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?be(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?be(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=le.exec(t))?new Te(e[1],e[2],e[3],1):(e=he.exec(t))?new Te(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=fe.exec(t))?be(e[1],e[2],e[3],e[4]):(e=pe.exec(t))?be(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=de.exec(t))?Me(e[1],e[2]/100,e[3]/100,1):(e=ve.exec(t))?Me(e[1],e[2]/100,e[3]/100,e[4]):ge.hasOwnProperty(t)?Ee(ge[t]):"transparent"===t?new Te(NaN,NaN,NaN,0):null}function Ee(t){return new Te(t>>16&255,t>>8&255,255&t,1)}function be(t,e,n,r){return r<=0&&(t=e=n=NaN),new Te(t,e,n,r)}function xe(t){return t instanceof re||(t=_e(t)),t?new Te((t=t.rgb()).r,t.g,t.b,t.opacity):new Te}function Te(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function we(){return"#"+Se(this.r)+Se(this.g)+Se(this.b)}function Ae(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Se(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Me(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Re(t,e,n,r)}function Ce(t){if(t instanceof Re)return new Re(t.h,t.s,t.l,t.opacity);if(t instanceof re||(t=_e(t)),!t)return new Re;if(t instanceof Re)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Re(a,s,u,t.opacity)}function Re(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ke(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ie(t){var e=_e(t),n=[0,0,0,0];return null!=e&&(n[0]=e.r/255,n[1]=e.g/255,n[2]=e.b/255,n[3]=e.opacity),n}function Pe(t){return(t&&t[0])+256*(t&&t[1])+65536*(t&&t[2])-1}function Oe(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}ee(re,_e,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:me,formatHex:me,formatHsl:function(){return Ce(this).formatHsl()},formatRgb:ye,toString:ye}),ee(Te,(function(t,e,n,r){return 1===arguments.length?xe(t):new Te(t,e,n,null==r?1:r)}),ne(re,{brighter:function(t){return t=null==t?oe:Math.pow(oe,t),new Te(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ie:Math.pow(ie,t),new Te(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:we,formatHex:we,formatRgb:Ae,toString:Ae})),ee(Re,(function(t,e,n,r){return 1===arguments.length?Ce(t):new Re(t,e,n,null==r?1:r)}),ne(re,{brighter:function(t){return t=null==t?oe:Math.pow(oe,t),new Re(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ie:Math.pow(ie,t),new Re(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Te(ke(t>=240?t-240:t+120,i,r),ke(t,i,r),ke(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ne=r(8256),Le=r.n(Ne),De=r(52),Fe=r.n(De),Be=r(8972);function Ue(t,e,n){var r=te.document.createElement(t);return e&&(r.className=e||""),n&&n.appendChild(r),r}function je(t){var e=t.parentNode;e&&e.removeChild(t)}!function(t){var e,n,r=null==te||null===(e=te.document)||void 0===e||null===(n=e.documentElement)||void 0===n?void 0:n.style;if(!r)return t[0];for(var i in t)if(t[i]&&t[i]in r)return t[i];t[0]}(["transform","WebkitTransform"]);var ze,Ge=function(){var t,e=te.document.querySelector('meta[name="viewport"]');if(!e)return 1;var n=(null===(t=e.content)||void 0===t?void 0:t.split(",")).find((function(t){var e=t.split("=");return"initial-scale"===Fe()(e,1)[0]}));return n?1*n.split("=")[1]:1}()<1?1:te.devicePixelRatio;var Ve=null===(ze=navigator)||void 0===ze?void 0:ze.userAgent;Ve.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),Ve.indexOf("Android")>-1||Ve.indexOf("Adr");function He(t,e,n){if(null!==t)for(var r,i,o,a,s,u,c,l,h=0,f=0,p=t.type,d="FeatureCollection"===p,v="Feature"===p,g=d?t.features.length:1,m=0;m<g;m++){s=(l=!!(c=d?t.features[m].geometry:v?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var y=0;y<s;y++){var _=0,E=0;if(null!==(a=l?c.geometries[y]:c)){u=a.coordinates;var b=a.type;switch(h=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===e(u,f,m,_,E))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===e(u[r],f,m,_,E))return!1;f++,"MultiPoint"===b&&_++}"LineString"===b&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++){if(!1===e(u[r][i],f,m,_,E))return!1;f++}"MultiLineString"===b&&_++,"Polygon"===b&&E++}"Polygon"===b&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(E=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++){if(!1===e(u[r][i][o],f,m,_,E))return!1;f++}E++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===He(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Xe(t){var e=[1/0,1/0,-1/0,-1/0];return He(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}Xe.default=Xe;function We(t){return"number"==typeof t}Math.PI;function Ze(t){var e=85.0511287798,n=Math.max(Math.min(e,t[1]),-e),r=256<<20,i=Math.PI/180,o=t[0]*i,a=n*i;a=Math.log(Math.tan(Math.PI/4+a/2));return o=r*(.5/Math.PI*o+.5),a=r*(-.5/Math.PI*a+(i=.5)),[Math.floor(o),Math.floor(a)]}function Ye(t,e){var n=85.0511287798,r=Math.PI/180,i=6378137;return e=Math.max(Math.min(n,e),-n),e*=r,[(t*=r)*i,(e=Math.log(Math.tan(Math.PI/4+e/2)))*i]}var qe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1?arguments[1]:void 0;n()(this,t),this.limit=e,this.destroy=r||this.defaultDestroy,this.order=[],this.clear()}return a()(t,[{key:"clear",value:function(){var t=this;this.order.forEach((function(e){t.delete(e)})),this.cache={},this.order=[]}},{key:"get",value:function(t){var e=this.cache[t];return e&&(this.deleteOrder(t),this.appendOrder(t)),e}},{key:"set",value:function(t,e){this.cache[t]?(this.delete(t),this.cache[t]=e,this.appendOrder(t)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[t]=e,this.appendOrder(t))}},{key:"delete",value:function(t){var e=this.cache[t];e&&(this.deleteCache(t),this.deleteOrder(t),this.destroy(e,t))}},{key:"deleteCache",value:function(t){delete this.cache[t]}},{key:"deleteOrder",value:function(t){var e=this.order.findIndex((function(e){return e===t}));e>=0&&this.order.splice(e,1)}},{key:"appendOrder",value:function(t){this.order.push(t)}},{key:"defaultDestroy",value:function(t,e){return null}}]),t}();var Ke=r(9475),Qe=r.n(Ke),$e=r(6120),Je=r.n($e);var tn,en=function(t){return t.Realtime="realtime",t.Overlap="overlap",t.Replace="replace",t}({});function nn(t){for(;t;){if(t.isLoaded)return t.properties.state|=2,!0;t=t.parent}return!1}function rn(t){t.children.forEach((function(t){t.isLoaded?t.properties.state|=2:rn(t)}))}tn={},g()(tn,en.Realtime,(function(t){t.forEach((function(t){t.isCurrent&&(t.isVisible=t.isLoaded)}))})),g()(tn,en.Overlap,(function(t){t.forEach((function(t){t.properties.state=0})),t.forEach((function(t){t.isCurrent&&!nn(t)&&rn(t)})),t.forEach((function(t){t.isVisible=Boolean(2&t.properties.state)}))})),g()(tn,en.Replace,(function(t){t.forEach((function(t){t.properties.state=0})),t.forEach((function(t){t.isCurrent&&nn(t)})),t.slice().sort((function(t,e){return t.z-e.z})).forEach((function(t){t.isVisible=Boolean(2&t.properties.state),t.children.length&&(t.isVisible||1&t.properties.state)?t.children.forEach((function(t){t.properties.state=1})):t.isCurrent&&rn(t)}))}));function on(t,e){if(!t)throw new Error(e||"web worker helper assertion failed.")}"undefined"!=typeof self&&self,"undefined"!=typeof window&&window,"undefined"!=typeof document&&document;var an="undefined"!=typeof window&&void 0!==window.orientation,sn=function(){function t(t,e){var n=this;this.name=t,this.workerThread=e,this.isRunning=!0,this.resolve=function(){},this.reject=function(){},this.result=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return t.prototype.postMessage=function(t,e){this.workerThread.postMessage({source:"Main thread",type:t,payload:e})},t.prototype.done=function(t){on(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.resolve(t)},t.prototype.error=function(t){on(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.reject(t)},t}(),un=sn,cn=new Map;function ln(t){on(t.source&&!t.url||!t.source&&t.url);var e=cn.get(t.source||t.url);return e||(t.url&&(e=function(t){if(!t.startsWith("http"))return t;return hn((e=t,"try {\n  importScripts('"+e+"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}"));var e}(t.url),cn.set(t.url,e)),t.source&&(e=hn(t.source),cn.set(t.source,e))),on(e),e}function hn(t){var e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function fn(t,e,n){void 0===e&&(e=!0);var r=n||new Set;if(t){if(pn(t))r.add(t);else if(pn(t.buffer))r.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"===Tt()(t))for(var i in t)fn(t[i],e,r)}else;return void 0===n?Array.from(r):[]}function pn(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&t instanceof MessagePort||("undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}var dn=function(){},vn=function(){function t(t){this.terminated=!1,this.loadableURL="";var e=t.name,n=t.source,r=t.url;on(n||r),this.name=e,this.source=n,this.url=r,this.onMessage=dn,this.onError=function(t){return console.log(t)},this.worker=this.createBrowserWorker()}return t.isSupported=function(){return"undefined"!=typeof Worker},t.prototype.destroy=function(){this.onMessage=dn,this.onError=dn,this.worker.terminate(),this.terminated=!0},Object.defineProperty(t.prototype,"isRunning",{get:function(){return Boolean(this.onMessage)},enumerable:!1,configurable:!0}),t.prototype.postMessage=function(t,e){e=e||fn(t),this.worker.postMessage(t,e)},t.prototype.getErrorFromErrorEvent=function(t){var e="Failed to load ";return e+="worker "+this.name+" from "+this.url+". ",t.message&&(e+=t.message+" in "),t.lineno&&(e+=":"+t.lineno+":"+t.colno),new Error(e)},t.prototype.createBrowserWorker=function(){var t=this;this.loadableURL=ln({source:this.source,url:this.url});var e=new Worker(this.loadableURL,{name:this.name});return e.onmessage=function(e){e.data?t.onMessage(e.data):t.onError(new Error("No data received"))},e.onerror=function(e){t.onError(t.getErrorFromErrorEvent(e)),t.terminated=!0},e.onmessageerror=function(e){return console.error("worker "+t.name+", message error: "+e)},e},t}(),gn=vn,mn=function(){return mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},mn.apply(this,arguments)},yn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},_n=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},En=function(){function t(t){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=function(){},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=t.source,this.url=t.url,this.setProps(t)}return t.prototype.destroy=function(){this.idleQueue.forEach((function(t){return t.destroy()})),this.isDestroyed=!0},t.prototype.setProps=function(t){this.props=mn(mn({},this.props),t),void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)},t.prototype.startJob=function(t,e,n){return void 0===e&&(e=function(t,e,n){return t.done(n)}),void 0===n&&(n=function(t,e){return t.error(e)}),yn(this,void 0,void 0,(function(){var r,i=this;return _n(this,(function(o){switch(o.label){case 0:return r=new Promise((function(r){return i.jobQueue.push({name:t,onMessage:e,onError:n,onStart:r}),i})),this.startQueuedJob(),[4,r];case 1:return[2,o.sent()]}}))}))},t.prototype.startQueuedJob=function(){return yn(this,void 0,void 0,(function(){var t,e,n;return _n(this,(function(r){switch(r.label){case 0:if(!this.jobQueue.length)return[2];if(!(t=this.getAvailableWorker()))return[2];if(!(e=this.jobQueue.shift()))return[3,4];this.onDebug({message:"Starting job",name:e.name,backlog:this.jobQueue.length,workerThread:t}),n=new un(e.name,t),t.onMessage=function(t){return e.onMessage(n,t.type,t.payload)},t.onError=function(t){return e.onError(n,t)},e.onStart(n),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,n.result];case 2:return r.sent(),[3,4];case 3:return this.returnWorkerToQueue(t),[7];case 4:return[2]}}))}))},t.prototype.returnWorkerToQueue=function(t){this.isDestroyed||!this.reuseWorkers||this.count>this.getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this.startQueuedJob()},t.prototype.getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this.getMaxConcurrency()){this.count++;var t=this.name.toLowerCase()+" (#"+this.count+" of "+this.maxConcurrency+")";return new gn({name:t,source:this.source,url:this.url})}return null},t.prototype.getMaxConcurrency=function(){return an?this.maxMobileConcurrency:this.maxConcurrency},t}(),bn=En,xn=function(){return xn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xn.apply(this,arguments)},Tn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wn={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},An=(function(){function t(t){this.workerPools=new Map,this.props=xn({},wn),this.setProps(t),this.workerPools=new Map}t.isSupported=function(){return gn.isSupported()},t.getWorkerFarm=function(e){return void 0===e&&(e={}),t.workerFarm=t.workerFarm||new t({}),t.workerFarm.setProps(e),t.workerFarm},t.prototype.destroy=function(){var t,e;try{for(var n=Tn(this.workerPools.values()),r=n.next();!r.done;r=n.next()){r.value.destroy()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.setProps=function(t){var e,n;this.props=xn(xn({},this.props),t);try{for(var r=Tn(this.workerPools.values()),i=r.next();!i.done;i=r.next()){i.value.setProps(this.getWorkerPoolProps())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.getWorkerPool=function(t){var e=t.name,n=t.source,r=t.url,i=this.workerPools.get(e);return i||((i=new bn({name:e,source:n,url:r})).setProps(this.getWorkerPoolProps()),this.workerPools.set(e,i)),i},t.prototype.getWorkerPoolProps=function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(),new Map),Sn=function(){function t(){}return Object.defineProperty(t,"onmessage",{set:function(t){self.onmessage=function(e){if(Cn(e)){var n=e.data,r=n.type,i=n.payload;t(r,i)}}},enumerable:!1,configurable:!0}),t.addEventListener=function(t){var e=An.get(t);e||(e=function(e){if(Cn(e)){var n=e.data,r=n.type,i=n.payload;t(r,i)}}),self.addEventListener("message",e)},t.removeEventListener=function(t){var e=An.get(t);An.delete(t),self.removeEventListener("message",e)},t.postMessage=function(t,e){if(self){var n={source:"Worker thread",type:t,payload:e},r=fn(e);self.postMessage(n,r)}},t}(),Mn=Sn;function Cn(t){var e=t.type,n=t.data;return"message"===e&&n&&"string"==typeof n.source&&"Main thread"===n.source}var Rn,kn,In=function(){function t(){this._values=[],this._settlers=[],this._closed=!1}return t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.push=function(t){return this.enqueue(t)},t.prototype.enqueue=function(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var e=this._settlers.shift();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.push(t)},t.prototype.close=function(){for(;this._settlers.length>0;){this._settlers.shift().resolve({done:!0})}this._closed=!0},t.prototype.next=function(){var t=this;if(this._values.length>0){var e=this._values.shift();return e instanceof Error?Promise.reject(e):Promise.resolve({done:!1,value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(e,n){t._settlers.push({resolve:e,reject:n})}))},t}(),Pn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},On=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Nn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},Ln=0;function Dn(t,e){return void 0===e&&(e={}),new Promise((function(n,r){var i=Ln++;Mn.addEventListener((function t(e,o){if(o.id===i)switch(e){case"done":Mn.removeEventListener(t),n(o.result);break;case"error":Mn.removeEventListener(t),r(o.error)}}));var o={id:i,input:t,options:e};Mn.postMessage("process",o)}))}var Fn=r(8406),Bn=r.n(Fn);function Un(t){var e=t.color;return e&&e.length?e:[1,1,1,1]}function jn(t,e,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}function zn(t){return t.filter?[1]:[0]}function Gn(t,e){return[e]}var Vn=r(4778),Hn=r.n(Vn),Xn=1e-6,Wn="undefined"!=typeof Float32Array?Float32Array:Array,Zn=Math.random;Math.PI;function Yn(){var t=new Wn(2);return Wn!=Float32Array&&(t[0]=0,t[1]=0),t}function qn(t,e){var n=new Wn(2);return n[0]=t,n[1]=e,n}function Kn(t,e){return t[0]=e[0],t[1]=e[1],t}function Qn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function $n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Jn(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function tr(t,e){return t[0]*e[0]+t[1]*e[1]}function er(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var nr,rr=$n,ir=(nr=Yn(),Yn()),or=(Yn(),Yn()),ar=Yn(),sr=Yn();function ur(t,e,n,r,i){return Qn(t,n,r),Jn(t,t),[i/tr(e=qn(-t[1],t[0]),qn(-n[1],n[0])),e]}function cr(t,e){return function(t,e,n){return t[0]=e,t[1]=n,t}(t,-e[1],e[0])}function lr(t,e,n){return rr(t,e,n),Jn(t,t),t}function hr(t,e){return t[0]===e[0]&&t[1]===e[1]}var fr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n()(this,t),g()(this,"lastFlip",-1),g()(this,"miter",qn(0,0)),g()(this,"started",!1),g()(this,"dash",!1),g()(this,"totalDistance",0),g()(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return a()(t,[{key:"extrude_gaode2",value:function(t,e){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,i=n.startIndex,o=1;o<r;o++){var a,s,u,c=t[o-1];c.push(null!==(a=e[o-1][2])&&void 0!==a?a:0);var l=e[o-1],h=t[o];h.push(null!==(s=e[o][2])&&void 0!==s?s:0);var f=e[o],p=o<t.length-1?[].concat(Le()(t[o+1]),[null!==(u=e[o+1][2])&&void 0!==u?u:0]):null,d=o<e.length-1?e[o+1]:null;i+=this.segment_gaode2(n,i,c,h,p,l,f,d)}if(this.dash)for(var v=0;v<n.positions.length/6;v++)n.positions[6*v+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"simpleExtrude_gaode2",value:function(t,e){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,i=n.startIndex,o=1;o<r;o++){var a,s,u,c=t[o-1];c.push(null!==(a=e[o-1][2])&&void 0!==a?a:0);var l=e[o-1],h=t[o];h.push(null!==(s=e[o][2])&&void 0!==s?s:0);var f=e[o],p=o<t.length-1?[].concat(Le()(t[o+1]),[null!==(u=e[o+1][2])&&void 0!==u?u:0]):null,d=o<e.length-1?e[o+1]:null;i+=this.simpleSegment(n,i,c,h,p,l,f,d)}if(this.dash)for(var v=0;v<n.positions.length/6;v++)n.positions[6*v+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"extrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,r=e.startIndex,i=1;i<n;i++){var o=t[i-1],a=t[i],s=i<t.length-1?t[i+1]:null;r+=this.segment(e,r,o,a,s)}if(this.dash)for(var u=0;u<e.positions.length/6;u++)e.positions[6*u+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"simpleExtrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,r=e.startIndex,i=1;i<n;i++){var o=t[i-1],a=t[i],s=i<t.length-1?t[i+1]:null;r+=this.simpleSegment(e,r,o,a,s)}if(this.dash)for(var u=0;u<e.positions.length/6;u++)e.positions[6*u+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"segment_gaode2",value:function(t,e,n,r,i,o,a,s){var u=0,c=t.indices,l=t.positions,h=t.normals,f="square"===this.cap,p="bevel"===this.join,d=Ze([a[0],a[1]]),v=Ze([o[0],o[1]]);lr(or,r,n);var g=0;if(this.dash&&(g=this.lineSegmentDistance(d,v),this.totalDistance+=g),this.normal||(this.normal=Yn(),cr(this.normal,or)),!this.started)if(this.started=!0,f){var m=Yn(),y=Yn();Qn(m,this.normal,or),Qn(y,this.normal,or),h.push(y[0],y[1],0),h.push(m[0],m[1],0),l.push(n[0],n[1],0|n[2],this.totalDistance-g,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),l.push(n[0],n[1],0|n[2],this.totalDistance-g,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,h,n,this.normal,this.thickness,this.totalDistance-g);if(c.push(e+0,e+1,e+2),i){hr(r,i)&&Qn(i,r,Jn(i,$n(i,r,n))),lr(ar,i,r);var _=ur(sr,Yn(),or,ar,this.thickness),E=Fe()(_,2),b=E[0],x=E[1],T=tr(sr,this.normal)<0?-1:1,w=p;if(!w&&"miter"===this.join)b>this.miterLimit&&(w=!0);w?(h.push(this.normal[0],this.normal[1],0),h.push(x[0],x[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*T,0|r[2]),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*T,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c.push.apply(c,Le()(this.lastFlip!==-T?[e,e+2,e+3]:[e+2,e+1,e+3])),c.push(e+2,e+3,e+4),cr(ir,ar),Kn(this.normal,ir),h.push(this.normal[0],this.normal[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*T,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,u+=3):(this.extrusions(l,h,r,x,b,this.totalDistance),c.push.apply(c,Le()(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),T=-1,Kn(this.normal,x),u+=2),this.lastFlip=T}else{if(cr(this.normal,or),f){var A=Yn(),S=Yn();rr(S,or,this.normal),Qn(A,or,this.normal),h.push(S[0],S[1],0),h.push(A[0],A[1],0),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,h,r,this.normal,this.thickness,this.totalDistance);c.push.apply(c,Le()(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),u+=2}return u}},{key:"simpleSegment",value:function(t,e,n,r,i){var o=0,a=t.indices,s=t.positions,u=t.normals,c=Ze([r[0],r[1]]),l=Ze([n[0],n[1]]);lr(or,c,l);var h=0;if(this.dash&&(h=this.lineSegmentDistance(c,l),this.totalDistance+=h),this.normal||(this.normal=Yn(),cr(this.normal,or)),this.started||(this.started=!0,this.extrusions(s,u,n,this.normal,this.thickness,this.totalDistance-h)),a.push(e+0,e+1,e+2),i){var f=Ze([i[0],i[1]]);hr(c,f)&&Qn(f,c,Jn(f,$n(f,c,l))),lr(ar,f,c);var p=ur(sr,Yn(),or,ar,this.thickness),d=Fe()(p,2),v=d[0],g=d[1];tr(sr,this.normal);this.extrusions(s,u,r,g,v,this.totalDistance),a.push.apply(a,Le()(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),-1,Kn(this.normal,g),o+=2,this.lastFlip=-1}else cr(this.normal,or),this.extrusions(s,u,r,this.normal,this.thickness,this.totalDistance),a.push.apply(a,Le()(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),o+=2;return o}},{key:"segment",value:function(t,e,n,r,i){var o=0,a=t.indices,s=t.positions,u=t.normals,c="square"===this.cap,l="bevel"===this.join,h=Ze([r[0],r[1]]),f=Ze([n[0],n[1]]);lr(or,h,f);var p=0;if(this.dash&&(p=this.lineSegmentDistance(h,f),this.totalDistance+=p),this.normal||(this.normal=Yn(),cr(this.normal,or)),!this.started)if(this.started=!0,c){var d=Yn(),v=Yn();Qn(d,this.normal,or),Qn(v,this.normal,or),u.push(v[0],v[1],0),u.push(d[0],d[1],0),s.push(n[0],n[1],0|n[2],this.totalDistance-p,-this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),s.push(n[0],n[1],0|n[2],this.totalDistance-p,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,u,n,this.normal,this.thickness,this.totalDistance-p);if(a.push(e+0,e+1,e+2),i){var g=Ze([i[0],i[1]]);hr(h,g)&&Qn(g,h,Jn(g,$n(g,h,f))),lr(ar,g,h);var m=ur(sr,Yn(),or,ar,this.thickness),y=Fe()(m,2),_=y[0],E=y[1],b=tr(sr,this.normal)<0?-1:1,x=l;if(!x&&"miter"===this.join)_>this.miterLimit&&(x=!0);x?(u.push(this.normal[0],this.normal[1],0),u.push(E[0],E[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*b,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness*b,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a.push.apply(a,Le()(this.lastFlip!==-b?[e,e+2,e+3]:[e+2,e+1,e+3])),a.push(e+2,e+3,e+4),cr(ir,ar),Kn(this.normal,ir),u.push(this.normal[0],this.normal[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,-this.thickness*b,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o+=3):(this.extrusions(s,u,r,E,_,this.totalDistance),a.push.apply(a,Le()(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),b=-1,Kn(this.normal,E),o+=2),this.lastFlip=b}else{if(cr(this.normal,or),c){var T=Yn(),w=Yn();rr(w,or,this.normal),Qn(T,or,this.normal),u.push(w[0],w[1],0),u.push(T[0],T[1],0),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],0|r[2],this.totalDistance,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,u,r,this.normal,this.thickness,this.totalDistance);a.push.apply(a,Le()(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),o+=2}return o}},{key:"extrusions",value:function(t,e,n,r,i,o){e.push(r[0],r[1],0),e.push(r[0],r[1],0),t.push(n[0],n[1],0|n[2],o,-i,0|n[2]),this.complex.indexes.push(this.currentIndex),t.push(n[0],n[1],0|n[2],o,i,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}}]),t}();function pr(t){var e=t.coordinates,n=t.originCoordinates,r=t.version,i=new fr({dash:!0,join:"bevel"});if("GAODE2.x"===r){var o=e;Array.isArray(o[0][0])||(o=[e]);var a=n;Array.isArray(a[0][0])||(a=[n]);for(var s=0;s<o.length;s++){var u=o[s],c=a[s];i.extrude_gaode2(u,c)}}else{var l=e;l[0]&&!Array.isArray(l[0][0])&&(l=[e]),l.forEach((function(t){i.extrude(t)}))}var h=i.complex;return{vertices:h.positions,indices:h.indices,normals:h.normals,indexes:h.indexes,size:6}}function dr(t){var e=function(t){if(We(t[0]))return t;if(We(t[0][0]))throw new Error("当前数据不支持标注");if(We(t[0][0][0])){var e=0,n=0,r=0;return t.forEach((function(t){t.forEach((function(t){e+=t[0],n+=t[1],r++}))})),[e/r,n/r,0]}throw new Error("当前数据不支持标注")}(t.coordinates);return{vertices:[].concat(Le()(e),Le()(e),Le()(e),Le()(e)),indices:[0,1,2,2,3,0],size:e.length}}function vr(t){var e=t.coordinates,n=Hn().flatten(e),r=n.vertices,i=n.dimensions,o=n.holes;return{indices:Hn()(r,o,i),vertices:r,size:i}}var gr=function(){var t=Je()(Qe()().mark((function t(e){var n,r,i,o,a,s,u,c,l;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,r=e.features,i=e.enablePicking,o=e.iconMap,a={a_Color:Un,a_Position:jn,filter:zn,a_vertexId:Gn,a_PickingColor:function(t){var e=t.id;return i?Oe(e):[0,0,0]},a_DistanceAndIndex:function(t,e,n,r,i,o){return void 0===o?[n[3],10]:[n[3],o]},a_Total_Distance:function(t,e,n){return[n[5]]},a_Size:function(t){var e=t.size,n=void 0===e?1:e;return Array.isArray(n)?[n[0],n[1]]:[n,0]},a_Normal:function(t,e,n,r,i){return i},a_Miter:function(t,e,n){return[n[4]]},a_iconMapUV:function(t){var e=t.texture,n=o[e]||{x:0,y:0};return[n.x,n.y]}},s={sizePerElement:0,elements:[]},u=0,c=[],l=3,r.forEach((function(t,e){var r=pr(t),i=r.indices,o=r.vertices,h=r.normals,f=r.size,p=r.indexes;i.forEach((function(t){c.push(t+u)})),l=f;var d=o.length/f;s.sizePerElement=l,s.elements.push({featureIdx:e,vertices:o,normals:h,offset:u}),u+=d;for(var v=function(r){var i=(null==h?void 0:h.slice(3*r,3*r+3))||[],s=o.slice(r*f,r*f+f),u=0;p&&void 0!==p[r]&&(u=p[r]),n.forEach((function(n){var o;n&&a[n.name]&&(o=n.buffer.data).push.apply(o,Le()(a[n.name](t,e,s,r,i,u)))}))},g=0;g<d;g++)v(g)})),t.abrupt("return",{descriptors:n,featureLayout:s,indices:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),mr=function(){var t=Je()(Qe()().mark((function t(e){var n,r,i,o,a,s,u,c,l;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,r=e.features,i=e.enablePicking,o=e.shape2d,a={a_Color:Un,a_Position:jn,filter:zn,a_vertexId:Gn,a_PickingColor:function(t){var e=t.id;return i?Oe(e):[0,0,0]},a_Shape:function(t){var e=t.shape,n=void 0===e?2:e;return[o.indexOf(n)]},a_Extrude:function(t,e,n,r){var i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=r%4*3;return[i[o],i[o+1],i[o+2]]},a_Size:function(t){var e=t.size,n=void 0===e?5:e;return Array.isArray(n)?[n[0]]:[n]}},s={sizePerElement:0,elements:[]},u=0,c=[],l=3,r.forEach((function(t,e){var r=dr(t),i=r.indices,o=r.vertices,h=r.normals,f=r.size,p=r.indexes;i.forEach((function(t){c.push(t+u)})),l=f;var d=o.length/f;s.sizePerElement=l,s.elements.push({featureIdx:e,vertices:o,normals:h,offset:u}),u+=d;for(var v=function(r){var i=(null==h?void 0:h.slice(3*r,3*r+3))||[],s=o.slice(r*f,r*f+f),u=0;p&&void 0!==p[r]&&(u=p[r]),n.forEach((function(n){var o;n&&a[n.name]&&(o=n.buffer.data).push.apply(o,Le()(a[n.name](t,e,s,r,i,u)))}))},g=0;g<d;g++)v(g)})),t.abrupt("return",{descriptors:n,featureLayout:s,indices:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),yr=function(){var t=Je()(Qe()().mark((function t(e){var n,r,i,o,a,s,u,c;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,r=e.features,i=e.enablePicking,o={a_Color:Un,a_Position:jn,filter:zn,a_vertexId:Gn,a_PickingColor:function(t){var e=t.id;return i?Oe(e):[0,0,0]}},a={sizePerElement:0,elements:[]},s=0,u=[],c=3,r.forEach((function(t,e){var r=vr(t),i=r.indices,l=r.vertices,h=r.normals,f=r.size,p=r.indexes;i.forEach((function(t){u.push(t+s)})),c=f;var d=l.length/f;a.sizePerElement=c,a.elements.push({featureIdx:e,vertices:l,normals:h,offset:s}),s+=d;for(var v=function(r){var i=(null==h?void 0:h.slice(3*r,3*r+3))||[],a=l.slice(r*f,r*f+f),s=0;p&&void 0!==p[r]&&(s=p[r]),n.forEach((function(n){var u;n&&o[n.name]&&(u=n.buffer.data).push.apply(u,Le()(o[n.name](t,e,a,r,i,s)))}))},g=0;g<d;g++)v(g)})),t.abrupt("return",{descriptors:n,featureLayout:a,indices:u});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_r={pointFill:mr,line:gr,polygonFill:yr},Er=f()({},_r);function br(){return(br=Je()(Qe()().mark((function t(e){var n,r;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.workerType,r=e.data,!Er[n]){t.next=3;break}return t.abrupt("return",Er[n](r));case 3:return t.abrupt("return",Promise.reject(new Error('Worker with type "'.concat(n,'" non-existent.'))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(t,e){var n=this;if("undefined"!=typeof self){var r={process:Dn};Mn.onmessage=function(i,o){return Pn(n,void 0,void 0,(function(){var n,a,s,u,c,l,h,f,p,d;return On(this,(function(v){switch(v.label){case 0:switch(v.trys.push([0,19,,20]),i){case"process":return[3,1];case"process-in-batches":return[3,3];case"input-batch":return[3,16];case"input-done":return[3,17]}return[3,18];case 1:if(!t)throw new Error("Worker does not support atomic processing");return[4,t(o.input,o.options||{},r)];case 2:return n=v.sent(),Mn.postMessage("done",{result:n}),[3,18];case 3:if(!e)throw new Error("Worker does not support batched processing");Rn=new In,kn=o.options||{},a=e(Rn,kn,r),v.label=4;case 4:v.trys.push([4,9,10,15]),s=Nn(a),v.label=5;case 5:return[4,s.next()];case 6:if((u=v.sent()).done)return[3,8];c=u.value,Mn.postMessage("output-batch",{result:c}),v.label=7;case 7:return[3,5];case 8:return[3,15];case 9:return l=v.sent(),p={error:l},[3,15];case 10:return v.trys.push([10,,13,14]),u&&!u.done&&(d=s.return)?[4,d.call(s)]:[3,12];case 11:v.sent(),v.label=12;case 12:return[3,14];case 13:if(p)throw p.error;return[7];case 14:return[7];case 15:return Mn.postMessage("done",{}),[3,18];case 16:return Rn.push(o.input),[3,18];case 17:return Rn.close(),[3,18];case 18:return[3,20];case 19:return h=v.sent(),f=h instanceof Error?h.message:"",Mn.postMessage("error",{error:f}),[3,20];case 20:return[2]}}))}))}}}((function(t){return br.apply(this,arguments)}));var xr=new Map;var Tr,wr="l7-worker";Tr=Bn(),function(t,e){xr.set(t,e)}(wr,Tr);var Ar,Sr=r(8778),Mr=r.n(Sr);function Cr(t,e,n){var r,i=A()(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.icon,s=o.xOffset;t[a.id]=f()(f()({},a),{},{x:s,y:n,image:a.image,width:a.width,height:a.height})}}catch(t){i.e(t)}finally{i.f()}}function Rr(t){return Math.pow(2,Math.ceil(Math.log2(t)))}var kr=function(){for(var t=[],e=32;e<128;e++)t.push(String.fromCharCode(e));return t}();function Ir(t,e,n,r){t.font="".concat(r," ").concat(n,"px ").concat(e),t.fillStyle="black",t.textBaseline="middle"}function Pr(t,e){for(var n=0;n<t.length;n++)e.data[4*n+3]=t[n]}var Or;(0,b.b2)()(Ar=function(t){u()(r,t);var e=l()(r);function r(){var t;n()(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),g()(M()(t),"iconFontGlyphs",{}),g()(M()(t),"cache",new qe(3)),t}return a()(r,[{key:"scale",get:function(){return 1}},{key:"canvas",get:function(){var t=this.cache.get(this.key);return t&&t.data}},{key:"mapping",get:function(){var t=this.cache.get(this.key);return t&&t.mapping||{}}},{key:"getCanvasByKey",value:function(t){var e=this.cache.get(t);return e&&e.data}},{key:"getMappingByKey",value:function(t){var e=this.cache.get(t);return e&&e.mapping||{}}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:"sans-serif",fontWeight:"normal",characterSet:kr,fontSize:24,buffer:3,sdf:!0,cutoff:.25,radius:8,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(t){var e=this;t.forEach((function(t){e.iconFontGlyphs[t.name]=t.unicode}))}},{key:"addIconFont",value:function(t,e){this.iconFontMap.set(t,e)}},{key:"getIconFontKey",value:function(t){return this.iconFontMap.get(t)||t}},{key:"getGlyph",value:function(t){return this.iconFontGlyphs[t]?String.fromCharCode(parseInt(this.iconFontGlyphs[t],16)):""}},{key:"setFontOptions",value:function(t){this.fontOptions=f()(f()({},this.fontOptions),t),this.key=this.getKey();var e=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(!n||0!==e.length){var r=this.generateFontAtlas(this.key,e,n);this.fontAtlas=r,this.cache.set(this.key,r)}}},{key:"addFontFace",value:function(t,e){var n=this,r=document.createElement("style");r.type="text/css",r.innerText="\n        @font-face{\n            font-family: '".concat(t,"';\n            src: url('").concat(e,"') format('woff2'),\n            url('").concat(e,"') format('woff'),\n            url('").concat(e,"') format('truetype');\n        }"),r.onload=function(){if(document.fonts)try{document.fonts.load("24px ".concat(t),"L7text"),document.fonts.ready.then((function(){n.emit("fontloaded",{fontFamily:t})}))}catch(t){console.warn("当前环境不支持 document.fonts !"),console.warn("当前环境不支持 iconfont !"),console.warn(t)}},document.getElementsByTagName("head")[0].appendChild(r)}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(t,e,n){var r=this.fontOptions,i=r.fontFamily,o=r.fontWeight,a=r.fontSize,s=r.buffer,u=r.sdf,c=r.radius,l=r.cutoff,h=r.iconfont,p=n&&n.data;p||((p=te.document.createElement("canvas")).width=1024);var d=p.getContext("2d",{willReadFrequently:!0});Ir(d,i,a,o);var v=function(t){var e=t.characterSet,n=t.getFontWidth,r=t.fontHeight,i=t.buffer,o=t.maxCanvasWidth,a=t.mapping,s=void 0===a?{}:a,u=t.xOffset,c=void 0===u?0:u,l=t.yOffset,h=void 0===l?0:l,f=0,p=c;Array.from(e).forEach((function(t,e){if(!s[t]){var r=n(t,e);p+30>o&&(p=0,f++),s[t]={x:p,y:h+30*f,width:30,height:30,advance:r},p+=30}}));var d=r+2*i;return{mapping:s,xOffset:p,yOffset:h+f*d,canvasHeight:Rr(h+(f+1)*d)}}(f()({getFontWidth:function(t){return d.measureText(t).width},fontHeight:1*a,buffer:s,characterSet:e,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),g=v.mapping,m=v.canvasHeight,y=v.xOffset,_=v.yOffset,E=d.getImageData(0,0,p.width,p.height);if(p.height=m,d.putImageData(E,0,0),Ir(d,i,a,o),u){var b,x=new(Mr())(a,s,c,l,i,o),T=d.getImageData(0,0,x.size,x.size),w=A()(e);try{for(w.s();!(b=w.n()).done;){var S=b.value;if(h){var M=String.fromCharCode(parseInt(S.replace("&#x","").replace(";",""),16));Pr(x.draw(M),T)}else Pr(x.draw(S),T);d.putImageData(T,g[S].x,g[S].y)}}catch(t){w.e(t)}finally{w.f()}}else{var C,R=A()(e);try{for(R.s();!(C=R.n()).done;){var k=C.value;d.fillText(k,g[k].x,g[k].y+1*a)}}catch(t){R.e(t)}finally{R.f()}}return{xOffset:y,yOffset:_,mapping:g,data:p,width:p.width,height:p.height}}},{key:"getKey",value:function(){var t=this.fontOptions,e=t.fontFamily,n=t.fontWeight;return"".concat(e,"_").concat(n)}},{key:"getNewChars",value:function(t,e){var n=this.cache.get(t);if(!n)return e;var r=[],i=n.mapping,o=new Set(Object.keys(i));return new Set(e).forEach((function(t){o.has(t)||r.push(t)})),r}}]),r}(_.EventEmitter)),(0,b.b2)()(Or=function(t){u()(i,t);var e,r=l()(i);function i(){var t;n()(this,i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=r.call.apply(r,[this].concat(o)),g()(M()(t),"canvasHeight",128),g()(M()(t),"loadingImageCount",0),t}return a()(i,[{key:"isLoading",value:function(){return 0===this.loadingImageCount}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=te.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:(e=Je()(Qe()().mark((function t(e,n){var r,i;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Image,this.loadingImageCount++,this.hasImage(e)?console.warn("Image Id already exists"):this.iconData.push({id:e,size:64}),this.updateIconMap(),t.next=6,this.loadImage(n);case 6:r=t.sent,(i=this.iconData.find((function(t){return t.id===e})))&&(i.image=r,i.width=r.width,i.height=r.height),this.update();case 10:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"addImageMini",value:function(t,e,n){var r=this,i=n.getSceneConfig().canvas,o=i.createImage();if(this.loadingImageCount++,this.hasImage(t))throw new Error("Image Id already exists");this.iconData.push({id:t,size:64}),this.updateIconMap(),this.loadImageMini(e,i).then((function(e){o=e;var n=r.iconData.find((function(e){return e.id===t}));n&&(n.image=o,n.width=o.width,n.height=o.height),r.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(t){return this.iconMap.hasOwnProperty(t)}},{key:"removeImage",value:function(t){this.hasImage(t)&&(this.iconData=this.iconData.filter((function(e){return e.id!==t})),delete this.iconMap[t],this.update())}},{key:"destroy",value:function(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}},{key:"loadImage",value:function(t){return new Promise((function(e,n){if(t instanceof HTMLImageElement)e(t);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){e(r)},r.onerror=function(){n(new Error("Could not load image at "+t))},r.src=t instanceof File?URL.createObjectURL(t):t}}))}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var t=this;this.canvas.width=1024,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(e){var n=t.iconMap[e],r=n.x,i=n.y,o=n.image,a=n.width,s=void 0===a?64:a,u=n.height,c=void 0===u?64:u,l=Math.max(s,c)/64,h=c/l,f=s/l;o&&t.ctx.drawImage(o,r+(64-f)/2,i+(64-h)/2,f,h)}))}},{key:"updateIconMap",value:function(){var t=function(t,e,n){var r,i=0,o=0,a=0,s=[],u={},c=A()(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;if(!u[l.id]){var h=l.size;i+h+e>n&&(Cr(u,s,o),i=0,o=a+o+e,a=0,s=[]),s.push({icon:l,xOffset:i}),i=i+h+e,a=Math.max(a,h)}}}catch(t){c.e(t)}finally{c.f()}return s.length>0&&Cr(u,s,o),{mapping:u,canvasHeight:Rr(a+o+e)}}(this.iconData,3,1024),e=t.mapping,n=t.canvasHeight;this.iconMap=e,this.canvasHeight=n}},{key:"loadImageMini",value:function(t,e){return new Promise((function(n,r){var i=e.createImage();i.crossOrigin="anonymous",i.onload=function(){n(i)},i.onerror=function(){r(new Error("Could not load image at "+t))},i.src=t}))}}]),i}(_.EventEmitter));function Nr(){var t=new Wn(16);return Wn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Lr(t){var e=new Wn(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Dr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,_=n*u-i*a,E=n*c-o*a,b=r*u-i*s,x=r*c-o*s,T=i*c-o*u,w=l*v-h*d,A=l*g-f*d,S=l*m-p*d,M=h*g-f*v,C=h*m-p*v,R=f*m-p*g,k=y*R-_*C+E*M+b*S-x*A+T*w;return k?(k=1/k,t[0]=(s*R-u*C+c*M)*k,t[1]=(i*C-r*R-o*M)*k,t[2]=(v*T-g*x+m*b)*k,t[3]=(f*x-h*T-p*b)*k,t[4]=(u*S-a*R-c*A)*k,t[5]=(n*R-i*S+o*A)*k,t[6]=(g*E-d*T-m*_)*k,t[7]=(l*T-f*E+p*_)*k,t[8]=(a*C-s*S+c*w)*k,t[9]=(r*S-n*C-o*w)*k,t[10]=(d*x-v*E+m*y)*k,t[11]=(h*E-l*x-p*y)*k,t[12]=(s*A-a*M-u*w)*k,t[13]=(n*M-r*A+i*w)*k,t[14]=(v*_-d*b-g*y)*k,t[15]=(l*b-h*_+f*y)*k,t):null}function Fr(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],p=e[10],d=e[11],v=e[12],g=e[13],m=e[14],y=e[15],_=n[0],E=n[1],b=n[2],x=n[3];return t[0]=_*r+E*s+b*h+x*v,t[1]=_*i+E*u+b*f+x*g,t[2]=_*o+E*c+b*p+x*m,t[3]=_*a+E*l+b*d+x*y,_=n[4],E=n[5],b=n[6],x=n[7],t[4]=_*r+E*s+b*h+x*v,t[5]=_*i+E*u+b*f+x*g,t[6]=_*o+E*c+b*p+x*m,t[7]=_*a+E*l+b*d+x*y,_=n[8],E=n[9],b=n[10],x=n[11],t[8]=_*r+E*s+b*h+x*v,t[9]=_*i+E*u+b*f+x*g,t[10]=_*o+E*c+b*p+x*m,t[11]=_*a+E*l+b*d+x*y,_=n[12],E=n[13],b=n[14],x=n[15],t[12]=_*r+E*s+b*h+x*v,t[13]=_*i+E*u+b*f+x*g,t[14]=_*o+E*c+b*p+x*m,t[15]=_*a+E*l+b*d+x*y,t}function Br(t,e,n){var r,i,o,a,s,u,c,l,h,f,p,d,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=r*v+s*g+h*m+e[12],t[13]=i*v+u*g+f*m+e[13],t[14]=o*v+c*g+p*m+e[14],t[15]=a*v+l*g+d*m+e[15]),t}function Ur(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function jr(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+l*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=c*i-o*r,t[9]=l*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t}function zr(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-l*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+c*i,t[9]=a*r+l*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t}function Gr(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+l*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=c*i-o*r,t[5]=l*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t}var Vr=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t};function Hr(t,e,n,r){var i,o,a,s,u,c,l,h,f,p,d=e[0],v=e[1],g=e[2],m=r[0],y=r[1],_=r[2],E=n[0],b=n[1],x=n[2];return Math.abs(d-E)<Xn&&Math.abs(v-b)<Xn&&Math.abs(g-x)<Xn?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(l=d-E,h=v-b,f=g-x,i=y*(f*=p=1/Math.hypot(l,h,f))-_*(h*=p),o=_*(l*=p)-m*f,a=m*h-y*l,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=h*a-f*o,u=f*i-l*a,c=l*o-h*i,(p=Math.hypot(s,u,c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*d+o*v+a*g),t[13]=-(s*d+u*v+c*g),t[14]=-(l*d+h*v+f*g),t[15]=1,t)}function Xr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],p=t[11],d=t[12],v=t[13],g=t[14],m=t[15],y=e[0],_=e[1],E=e[2],b=e[3],x=e[4],T=e[5],w=e[6],A=e[7],S=e[8],M=e[9],C=e[10],R=e[11],k=e[12],I=e[13],P=e[14],O=e[15];return Math.abs(n-y)<=Xn*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-_)<=Xn*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-E)<=Xn*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(o-b)<=Xn*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-x)<=Xn*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-T)<=Xn*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(u-w)<=Xn*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(c-A)<=Xn*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(l-S)<=Xn*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(h-M)<=Xn*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(f-C)<=Xn*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(p-R)<=Xn*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(d-k)<=Xn*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(v-I)<=Xn*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(g-P)<=Xn*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(m-O)<=Xn*Math.max(1,Math.abs(m),Math.abs(O))}(0,b.b2)()(Wr=function(){function t(){n()(this,t)}return a()(t,[{key:"init",value:function(){}},{key:"update",value:function(t){this.viewport=t,this.viewMatrixInverse=Nr(),Dr(this.viewMatrixInverse,t.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var t=this.viewport.getCenter(),e=Fe()(t,2);return[e[0],e[1]]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(t,e){return this.viewport.projectFlat(t,e)}},{key:"setViewProjectionMatrix",value:function(t){this.overridedViewProjectionMatrix=t}},{key:"jitterProjectionMatrix",value:function(t,e){var n,r,i=(n=Nr(),r=[t,e,0],n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n);this.jitteredProjectionMatrix=Fr(Nr(),i,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=Fr(Nr(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),t}());var Wr,Zr,Yr,qr,Kr,Qr=function(t){return t.TOPRIGHT="topright",t.TOPLEFT="topleft",t.BOTTOMRIGHT="bottomright",t.BOTTOMLEFT="bottomleft",t.TOPCENTER="topcenter",t.BOTTOMCENTER="bottomcenter",t.LEFTCENTER="leftcenter",t.RIGHTCENTER="rightcenter",t.LEFTTOP="lefttop",t.RIGHTTOP="righttop",t.LEFTBOTTOM="leftbottom",t.RIGHTBOTTOM="rightbottom",t}({}),$r={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"},Jr=((0,b.b2)()(Zr=function(){function t(){n()(this,t),g()(this,"controls",[]),g()(this,"unAddControls",[])}return a()(t,[{key:"init",value:function(t,e){this.container=t.container,this.scene=e,this.mapsService=e.get(T.IMapService),this.initControlPos()}},{key:"addControl",value:function(t,e){e.get(T.IMapService).map?(t.addTo(this.scene),this.controls.push(t)):this.unAddControls.push(t)}},{key:"getControlByName",value:function(t){return this.controls.find((function(e){return e.controlOption.name===t}))}},{key:"removeControl",value:function(t){var e=this.controls.indexOf(t);return e>-1&&this.controls.splice(e,1),t.remove(),this}},{key:"addControls",value:function(){var t=this;this.unAddControls.forEach((function(e){e.addTo(t.scene),t.controls.push(e)})),this.unAddControls=[]}},{key:"destroy",value:function(){var t,e=A()(this.controls);try{for(e.s();!(t=e.n()).done;){t.value.remove()}}catch(t){e.e(t)}finally{e.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var t=this.controlCorners={},e="l7-",n=this.controlContainer=Ue("div",e+"control-container",this.container);Object.values(Qr).forEach((function(r){var i,o;!function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=r.map((function(t){return e+t})).join(" ");t[r.filter((function(t){return!["row","column"].includes(t)})).join("")]=Ue("div",i,n)}((i=r,o=i.replace(/^(top|bottom|left|right|center)/,"$1-").split("-"),[].concat(Le()(o),[$r[i]])))})),this.checkCornerOverlap()}},{key:"clearControlPos",value:function(){for(var t in this.controlCorners)this.controlCorners[t]&&je(this.controlCorners[t]);this.controlContainer&&je(this.controlContainer)}},{key:"checkCornerOverlap",value:function(){var t=this,e=window.MutationObserver;if(e)for(var n=function(){var n=i[r].match(/^(top|bottom)(left|right)$/);if(n){var o=Fe()(n,3),a=o[1],s=o[2],u=t.controlCorners["".concat(a).concat(s)];new e((function(t){var e=Fe()(t,1)[0].target;u&&(u.style[a]=e.clientHeight+"px")})).observe(t.controlCorners["".concat(s).concat(a)],{childList:!0,attributes:!0})}},r=0,i=Object.keys(this.controlCorners);r<i.length;r++)n()}}]),t}()),(0,b.b2)()(Yr=function(){function t(){n()(this,t),g()(this,"markers",[]),g()(this,"markerLayers",[]),g()(this,"unAddMarkers",[]),g()(this,"unAddMarkerLayers",[])}return a()(t,[{key:"addMarkerLayer",value:function(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(t),t.addTo(this.scene)):this.unAddMarkerLayers.push(t)}},{key:"removeMarkerLayer",value:function(t){t.destroy(),this.markerLayers.indexOf(t);var e=this.markerLayers.indexOf(t);e>-1&&this.markerLayers.splice(e,1)}},{key:"addMarker",value:function(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(t),t.addTo(this.scene)):this.unAddMarkers.push(t)}},{key:"addMarkers",value:function(){var t=this;this.unAddMarkers.forEach((function(e){e.addTo(t.scene),t.markers.push(e)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var t=this;this.unAddMarkerLayers.forEach((function(e){t.markerLayers.push(e),e.addTo(t.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(t){t.remove(),this.markers.indexOf(t);var e=this.markers.indexOf(t);e>-1&&this.markers.splice(e,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(t){this.scene=t,this.mapsService=t.get(T.IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(t){t.remove()})),this.markers=[],this.markerLayers.forEach((function(t){t.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(t){t.destroy()}}]),t}()),(0,b.b2)()(qr=function(){function t(){n()(this,t),g()(this,"popups",[]),g()(this,"unAddPopups",[])}return a()(t,[{key:"isMarkerReady",get:function(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}},{key:"removePopup",value:function(t){null!=t&&t.isOpen()&&t.remove();var e=this.popups.indexOf(t);e>-1&&this.popups.splice(e,1);var n=this.unAddPopups.indexOf(t);n>-1&&this.unAddPopups.splice(n,1)}},{key:"destroy",value:function(){this.popups.forEach((function(t){return t.remove()}))}},{key:"addPopup",value:function(t){var e=this;t&&t.getOptions().autoClose&&[].concat(Le()(this.popups),Le()(this.unAddPopups)).forEach((function(t){t.getOptions().autoClose&&e.removePopup(t)})),this.isMarkerReady?(t.addTo(this.scene),this.popups.push(t)):this.unAddPopups.push(t),t.on("close",(function(){e.removePopup(t)}))}},{key:"initPopup",value:function(){var t=this;this.unAddPopups.length&&this.unAddPopups.forEach((function(e){t.addPopup(e),t.unAddPopups=[]}))}},{key:"init",value:function(t){this.scene=t,this.mapsService=t.get(T.IMapService)}}]),t}()),function(t){return t.MULTIPLE="MULTIPLE",t.SINGLE="SINGLE",t}({})),ti=function(t){return t.AND="and",t.OR="or",t}({}),ei={MapToken:"您正在使用 Demo 测试 Token, 生产环境务必自行注册 Token 确保服务稳定",SDK:"请确认引入了mapbox-gl api且在L7之前引入"},ni={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,isMini:!1,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},ri={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:ti.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},ii=(0,b.b2)()(Kr=function(){function t(){n()(this,t),g()(this,"sceneConfigCache",{}),g()(this,"layerConfigCache",{}),g()(this,"layerAttributeConfigCache",{})}return a()(t,[{key:"getSceneConfig",value:function(t){return this.sceneConfigCache[t]}},{key:"getSceneWarninfo",value:function(t){return ei[t]}},{key:"setSceneConfig",value:function(t,e){this.sceneConfigCache[t]=f()(f()({},ni),e)}},{key:"getLayerConfig",value:function(t){return this.layerConfigCache[t]}},{key:"setLayerConfig",value:function(t,e,n){this.layerConfigCache[e]=f()({},(0,Be.merge)({},this.sceneConfigCache[t],ri,n))}},{key:"getAttributeConfig",value:function(t){return this.layerAttributeConfigCache[t]}},{key:"setAttributeConfig",value:function(t,e){this.layerAttributeConfigCache[t]=f()(f()({},this.layerAttributeConfigCache[t]),e)}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),t}())||Kr;function oi(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}!function(){var t,e=(t=new Wn(4),Wn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t)}();var ai=Math.PI/180,si=4003e4;function ui(t){var e=t.latitude,n=void 0===e?0:e,r=t.zoom,i=void 0===r?0:r,o=t.scale,a=t.highPrecision,s=void 0!==a&&a,u=t.flipY,c=void 0!==u&&u,l={},h=512*(o=void 0!==o?o:Math.pow(2,i)),f=Math.cos(n*ai),p=h/360,d=p/f,v=h/si/f;if(l.pixelsPerMeter=[v,-v,v],l.metersPerPixel=[1/v,-1/v,1/v],l.pixelsPerDegree=[p,-d,v],l.degreesPerPixel=[1/p,-1/d,1/v],s){var g=ai*Math.tan(n*ai)/f,m=p*g/2,y=h/si*g,_=y/d*v;l.pixelsPerDegree2=[0,-m,y],l.pixelsPerMeter2=[_,0,_],c&&(l.pixelsPerDegree2[1]=-l.pixelsPerDegree2[1],l.pixelsPerMeter2[1]=-l.pixelsPerMeter2[1])}return c&&(l.pixelsPerMeter[1]=-l.pixelsPerMeter[1],l.metersPerPixel[1]=-l.metersPerPixel[1],l.pixelsPerDegree[1]=-l.pixelsPerDegree[1],l.degreesPerPixel[1]=-l.degreesPerPixel[1]),l}var ci,li,hi,fi,pi,di,vi,gi,mi,yi,_i,Ei=function(t){return t[t.LNGLAT=1]="LNGLAT",t[t.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",t[t.VECTOR_TILE=3]="VECTOR_TILE",t[t.IDENTITY=4]="IDENTITY",t[t.P20=5]="P20",t[t.P20_OFFSET=6]="P20_OFFSET",t[t.METER_OFFSET=7]="METER_OFFSET",t[t.P20_2=8]="P20_2",t}({}),bi=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],xi=(ci=(0,b.b2)(),li=(0,b.f3)(T.ICameraService),ci((fi=function(){function t(){n()(this,t),g()(this,"needRefresh",!0),d()(this,"cameraService",pi,this)}return a()(t,[{key:"refresh",value:function(t){var e=this.cameraService.getZoom(),n=this.cameraService.getZoomScale(),r=t||this.cameraService.getCenter(),i=ui({latitude:r[1],zoom:e}),o=i.pixelsPerMeter,a=i.pixelsPerDegree;this.viewportCenter=r,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=o,this.pixelsPerDegree=a,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Ei.LNGLAT||this.coordinateSystem===Ei.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Ei.LNGLAT_OFFSET?this.calculateLnglatOffset(r,e):this.coordinateSystem===Ei.P20_OFFSET&&this.calculateLnglatOffset(r,e,n,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(t){this.coordinateSystem=t}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(t,e,n,r){var i=ui({latitude:t[1],zoom:e,scale:n,flipY:r,highPrecision:!0}),o=i.pixelsPerMeter,a=i.pixelsPerDegree,s=i.pixelsPerDegree2,u=this.cameraService.getViewMatrix(),c=this.cameraService.getProjectionMatrix(),l=Fr([],c,u),h=this.cameraService.projectFlat([Math.fround(t[0]),Math.fround(t[1])],Math.pow(2,e));this.viewportCenterProjection=oi([],[h[0],h[1],0,1],l),l=Fr([],c,u=this.cameraService.getViewMatrixUncentered()||u),l=Fr([],l,bi),this.cameraService.setViewProjectionMatrix(l),this.pixelsPerMeter=o,this.pixelsPerDegree=a,this.pixelsPerDegree2=s}}]),t}(),pi=y()(fi.prototype,"cameraService",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=fi)),(0,b.b2)()(di=function(t){u()(r,t);var e=l()(r);function r(){var t;n()(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),g()(M()(t),"renderMap",new Map),g()(M()(t),"enable",!1),g()(M()(t),"renderEnable",!1),g()(M()(t),"cacheLogs",{}),t}return a()(r,[{key:"setEnable",value:function(t){this.enable=!!t}},{key:"log",value:function(t,e){var n=this;if(this.enable){var r=t.split("."),i=null;r.forEach((function(t,o){null!==i?(i[t]||(i[t]={}),o!==r.length-1&&(i=i[t])):(n.cacheLogs[t]||(n.cacheLogs[t]={}),o!==r.length-1&&(i=n.cacheLogs[t])),o===r.length-1&&(i[t]=f()(f()({time:Date.now()},i[t]),e))}))}}},{key:"getLog",value:function(t){var e=this;switch(Tt()(t)){case"string":return this.cacheLogs[t];case"object":return t.map((function(t){return e.cacheLogs[t]})).filter((function(t){return void 0!==t}));case"undefined":return this.cacheLogs}}},{key:"removeLog",value:function(t){delete this.cacheLogs[t]}},{key:"generateRenderUid",value:function(){return this.renderEnable?"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})):""}},{key:"renderDebug",value:function(t){this.renderEnable=t}},{key:"renderStart",value:function(t){if(this.renderEnable&&this.enable){var e=this.renderMap.get(t)||{};this.renderMap.set(t,f()(f()({},e),{},{renderUid:t,renderStart:Date.now()}))}}},{key:"renderEnd",value:function(t){if(this.renderEnable&&this.enable){var e=this.renderMap.get(t);if(e){var n=e.renderStart,r=Date.now();this.emit("renderEnd",f()(f()({},e),{},{renderEnd:r,renderDuration:r-n})),this.renderMap.delete(t)}}}},{key:"destroy",value:function(){this.cacheLogs=null,this.renderMap.clear()}}]),r}(_.EventEmitter)),r(8191)),Ti=r.n(xi),wi=function(t){return t.Hover="hover",t.Click="click",t.Select="select",t.Active="active",t.Drag="drag",t}({}),Ai={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},Si=(vi=(0,b.b2)(),gi=(0,b.f3)(T.IMapService),vi((yi=function(t){u()(r,t);var e=l()(r);function r(){var t;n()(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),g()(M()(t),"indragging",!1),d()(M()(t),"mapService",_i,M()(t)),g()(M()(t),"lastClickTime",0),g()(M()(t),"lastClickXY",[-1,-1]),g()(M()(t),"onDrag",(function(e){var n=t.interactionEvent(e);n.type=Ai[n.type],"dragging"===n.type?t.indragging=!0:t.indragging=!1,t.emit(wi.Drag,n)})),g()(M()(t),"onHammer",(function(e){e.srcEvent.stopPropagation();var n=t.interactionEvent(e);t.emit(wi.Hover,n)})),g()(M()(t),"onTouch",(function(e){var n=e.touches[0];t.onHover({x:n.pageX,y:n.pageY,type:"touch"})})),g()(M()(t),"onHover",(function(e){var n=e.clientX,r=e.clientY,i=e.type,o=t.mapService.getMapContainer();if(o)if($t)n=n-o.left-0,r=r-o.top-0;else{var a=o.getBoundingClientRect(),s=a.top;n=n-a.left-o.clientLeft,r=r-s-o.clientTop}var u=t.mapService.containerToLngLat([n,r]);if("click"!==i)"touch"!==i?"click"!==i&&"dblclick"!==i&&t.emit(wi.Hover,{x:n,y:r,lngLat:u,type:i,target:e}):t.isDoubleTap(n,r,u);else{if(!$t&&"ontouchstart"in document.documentElement==!0)return;t.isDoubleTap(n,r,u)}})),t}return a()(r,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(wi.Hover)}},{key:"triggerHover",value:function(t){var e=t.x,n=t.y;this.emit(wi.Hover,{x:e,y:n})}},{key:"triggerSelect",value:function(t){this.emit(wi.Select,{featureId:t})}},{key:"triggerActive",value:function(t){this.emit(wi.Active,{featureId:t})}},{key:"handleMiniEvent",value:function(t){this.onHover({clientX:t.touches[0].pageX,clientY:t.touches[0].pageY,type:"touch"})}},{key:"addEventListenerOnMap",value:function(){var t=this.mapService.getMapContainer();if(t)if($t)te.document.addEventListener("touchstart",this.handleMiniEvent.bind(this));else{var e=new(Ti().Manager)(t);e.add(new(Ti().Tap)({event:"dblclick",taps:2})),e.add(new(Ti().Tap)({event:"click"})),e.add(new(Ti().Pan)({threshold:0,pointers:0})),e.add(new(Ti().Press)({})),e.on("dblclick click",this.onHammer),e.on("panstart panmove panend pancancel",this.onDrag),t.addEventListener("mousemove",this.onHover),t.addEventListener("mousedown",this.onHover,!0),t.addEventListener("mouseup",this.onHover),t.addEventListener("contextmenu",this.onHover),this.hammertime=e}}},{key:"removeEventListenerOnMap",value:function(){if($t)te.document.removeEventListener("touchstart",this.handleMiniEvent.bind(this));else{var t=this.mapService.getMapContainer();t&&(t.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),t.removeEventListener("mousedown",this.onHover),t.removeEventListener("mouseup",this.onHover),t.removeEventListener("contextmenu",this.onHover))}}},{key:"interactionEvent",value:function(t){var e,n,r=t.type;"touch"===t.pointerType?(n=Math.floor(t.pointers[0].clientY),e=Math.floor(t.pointers[0].clientX)):(n=Math.floor(t.srcEvent.y),e=Math.floor(t.srcEvent.x));var i=this.mapService.getMapContainer();if(i){var o=i.getBoundingClientRect(),a=o.top;e-=o.left,n-=a}return{x:e,y:n,lngLat:this.mapService.containerToLngLat([e,n]),type:r,target:t.srcEvent}}},{key:"isDoubleTap",value:function(t,e,n){var r=this,i=(new Date).getTime(),o="click";i-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-t)<10&&Math.abs(this.lastClickXY[1]-e)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),o="dblclick",this.emit(wi.Hover,{x:t,y:e,lngLat:n,type:o})):(this.lastClickTime=i,this.lastClickXY=[t,e],this.clickTimer=setTimeout((function(){o="click",r.emit(wi.Hover,{x:t,y:e,lngLat:n,type:o})}),400))}}]),r}(E()),_i=y()(yi.prototype,"mapService",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi=yi)),0);function Mi(t){if($t)return null;var e=t;if("string"==typeof t&&(e=document.getElementById(t)),e){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(Si++),n.classList.add("l7-scene"),e.appendChild(n),n}return null}var Ci,Ri,ki,Ii,Pi,Oi,Ni,Li,Di,Fi,Bi,Ui,ji,zi,Gi,Vi,Hi,Xi,Wi,Zi,Yi,qi,Ki,Qi,$i,Ji,to,eo,no=function(t){return t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t}({}),ro=(Ci=(0,b.b2)(),Ri=(0,b.f3)(T.IMapService),ki=(0,b.f3)(T.IRendererService),Ii=(0,b.f3)(T.IGlobalConfigService),Pi=(0,b.f3)(T.IInteractionService),Oi=(0,b.f3)(T.ILayerService),Ci((Li=function(){function t(){var e=this;n()(this,t),g()(this,"pickedTileLayers",[]),d()(this,"mapService",Di,this),d()(this,"rendererService",Fi,this),d()(this,"configService",Bi,this),d()(this,"interactionService",Ui,this),d()(this,"layerService",ji,this),g()(this,"width",0),g()(this,"height",0),g()(this,"alreadyInPicking",!1),g()(this,"pickBufferScale",1),g()(this,"pickFromPickingFBO",(function(t,n){var r=n.x,i=n.y,o=n.lngLat,a=n.type,s=n.target,u=!1,c=e.rendererService,l=c.readPixels,h=c.getContainer,p=e.getContainerSize(h()),d=p.width,v=p.height;d*=Ge,v*=Ge;var g=t.getLayerConfig(),m=g.enableHighlight,y=g.enableSelect,_=r*Ge,E=i*Ge;if(_>d-1*Ge||_<0||E>v-1*Ge||E<0)return!1;var b=l({x:Math.floor(_/e.pickBufferScale),y:Math.floor((v-(i+1)*Ge)/e.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO});if(e.pickedColors=b,0!==b[0]||0!==b[1]||0!==b[2]){var x=Pe(b),T=t.layerPickService.getFeatureById(x);x!==t.getCurrentPickId()&&"mousemove"===a&&(a="mouseenter");var w={x:r,y:i,type:a,lngLat:o,featureId:x,feature:T,target:s};T&&(u=!0,t.setCurrentPickId(x),e.triggerHoverOnLayer(t,w))}else{var A={x:r,y:i,lngLat:o,type:null!==t.getCurrentPickId()&&"mousemove"===a?"mouseout":"un"+a,featureId:null,target:s,feature:null};e.triggerHoverOnLayer(t,f()(f()({},A),{},{type:"unpick"})),e.triggerHoverOnLayer(t,A),t.setCurrentPickId(null)}if(m&&t.layerPickService.highlightPickedFeature(b),y&&"click"===a&&(null==b?void 0:b.toString())!==[0,0,0,0].toString()){var S=Pe(b);null===t.getCurrentSelectedId()||S!==t.getCurrentSelectedId()?(t.layerPickService.selectFeature(b),t.setCurrentSelectedId(S)):(t.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),t.setCurrentSelectedId(null))}return u}))}var e,r,i;return a()(t,[{key:"init",value:function(t){var e=this.rendererService,n=e.createTexture2D,r=e.createFramebuffer,i=e.getContainer,o=this.getContainerSize(i()),a=o.width,s=o.height;a*=Ge,s*=Ge,this.pickBufferScale=this.configService.getSceneConfig(t).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(a/this.pickBufferScale),height:Math.round(s/this.pickBufferScale),wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})}),this.interactionService.on(wi.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:(i=Je()(Qe()().mark((function t(e,n,r){var i,o,a,s=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=this.rendererService,o=i.useFramebuffer,a=i.clear,this.resizePickingFBO(),o(this.pickingFBO,(function(){a({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.hooks.beforePickingEncode.call(),e.renderModels({ispick:!0}),e.hooks.afterPickingEncode.call();var t=s.pickBox(e,n);r(t)}));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return i.apply(this,arguments)})},{key:"pickBox",value:function(t,e){var n=this,r=e.map((function(t){var e=t<0?0:t;return Math.floor(e*Ge/n.pickBufferScale)})),i=Fe()(r,4),o=i[0],a=i[1],s=i[2],u=i[3],c=this.rendererService,l=c.readPixels,h=c.getContainer,p=this.getContainerSize(h()),d=p.width,v=p.height;if(v*=Ge,o>((d*=Ge)-1)*Ge/this.pickBufferScale||s<0||a>(v-1)*Ge/this.pickBufferScale||u<0)return[];for(var g=Math.min(d/this.pickBufferScale,s)-o,m=Math.min(v/this.pickBufferScale,u)-a,y=l({x:o,y:Math.floor(v/this.pickBufferScale-(u+1)),width:g,height:m,data:new Uint8Array(g*m*4),framebuffer:this.pickingFBO}),_=[],E={},b=0;b<y.length/4;b+=1){var x=Pe(y.slice(4*b,4*b+4));if(-1!==x&&!E[x]){var T=t.layerPickService.getFeatureById(x);_.push(f()(f()({},T),{},{pickedFeatureIdx:x})),E[x]=!0}}return _}},{key:"handleCursor",value:function(t,e){var n=t.getLayerConfig(),r=n.cursor,i=void 0===r?"":r;if(n.cursorEnabled){var o="GAODE2.x"===this.mapService.version?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),a=null==o?void 0:o.style.getPropertyValue("cursor");"unmousemove"===e&&""!==a?null==o||o.style.setProperty("cursor",""):"mousemove"===e&&(null==o||o.style.setProperty("cursor",i))}}},{key:"destroy",value:function(){this.pickingFBO.destroy(),this.pickingFBO=null}},{key:"getContainerSize",value:function(t){return t.getContext?{width:t.width/Ge,height:t.height/Ge}:t.getBoundingClientRect()}},{key:"pickingAllLayer",value:(r=Je()(Qe()().mark((function t(e){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.layerService.needPick(e.type)&&this.isPickingAllLayer()){t.next=2;break}return t.abrupt("return");case 2:return this.alreadyInPicking=!0,t.next=5,this.pickingLayers(e);case 5:this.layerService.renderLayers(),this.alreadyInPicking=!1;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"isPickingAllLayer",value:function(){return!this.alreadyInPicking&&(!this.layerService.alreadyInRendering&&(!this.interactionService.indragging&&!!this.layerService.getShaderPickStat()))}},{key:"resizePickingFBO",value:function(){var t=this.rendererService.getContainer,e=this.getContainerSize(t()),n=e.width,r=e.height;n*=Ge,r*=Ge,this.width===n&&this.height===r||(this.pickingFBO.resize({width:Math.round(n/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=n,this.height=r)}},{key:"pickingLayers",value:(e=Je()(Qe()().mark((function t(e){var n,r,i,o=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.rendererService,r=n.useFramebuffer,i=n.clear,this.resizePickingFBO(),r(this.pickingFBO,(function(){o.layerService.getRenderList().filter((function(t){return t.needPick(e.type)})).reverse().some((function(t){i({framebuffer:o.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.layerPickService.pickRender(e);var n=o.pickFromPickingFBO(t,e);return o.layerService.pickedLayerId=n?+t.id:-1,n&&!t.getLayerConfig().enablePropagation}))}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"triggerHoverOnLayer",value:function(t,e){(function(t){var e,n=!0;if((null==t||null===(e=t.target)||void 0===e?void 0:e.target)instanceof HTMLElement)for(var r,i=null==t||null===(r=t.target)||void 0===r?void 0:r.target;i;){var o,a=Array.from(i.classList);if(a.includes("l7-marker")||a.includes("l7-popup")){n=!1;break}i=null===(o=i)||void 0===o?void 0:o.parentElement}return n})(e)&&(this.handleCursor(t,e.type),t.emit(e.type,e))}}]),t}(),Di=y()(Li.prototype,"mapService",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=y()(Li.prototype,"rendererService",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=y()(Li.prototype,"configService",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=y()(Li.prototype,"interactionService",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=y()(Li.prototype,"layerService",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=Li)),function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n()(this,t),g()(this,"startTime",0),g()(this,"oldTime",0),g()(this,"running",!1),g()(this,"elapsedTime",0),this.autoStart=e}return a()(t,[{key:"start",value:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}()),io=(zi=(0,b.b2)(),Gi=(0,b.f3)(T.IRendererService),Vi=(0,b.f3)(T.IMapService),Hi=(0,b.f3)(T.IDebugService),zi((Wi=function(t){u()(f,t);var e,r,i,o,s,c,h=l()(f);function f(){var t;n()(this,f);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t=h.call.apply(h,[this].concat(r)),g()(M()(t),"pickedLayerId",-1),g()(M()(t),"clock",new ro),g()(M()(t),"alreadyInRendering",!1),g()(M()(t),"layers",[]),g()(M()(t),"layerList",[]),g()(M()(t),"sceneInited",!1),g()(M()(t),"animateInstanceCount",0),g()(M()(t),"shaderPicking",!0),g()(M()(t),"enableRender",!0),d()(M()(t),"renderService",Zi,M()(t)),d()(M()(t),"mapService",Yi,M()(t)),d()(M()(t),"debugService",qi,M()(t)),g()(M()(t),"reRender",(0,Be.throttle)((function(){t.renderLayers()}),32)),g()(M()(t),"throttleRenderLayers",(0,Be.throttle)((function(){t.renderLayers()}),16)),t}return a()(f,[{key:"needPick",value:function(t){return this.layerList.some((function(e){return e.needPick(t)}))}},{key:"add",value:function(t){var e=this;this.layers.push(t),this.sceneInited&&t.init().then((function(){e.renderLayers()}))}},{key:"addMask",value:function(t){var e=this;this.sceneInited&&t.init().then((function(){e.renderLayers()}))}},{key:"initLayers",value:(c=Je()(Qe()().mark((function t(){var e=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sceneInited=!0,this.layers.forEach(function(){var t=Je()(Qe()().mark((function t(n){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.startInit){t.next=4;break}return t.next=3,n.init();case 3:e.updateLayerRenderList();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getSceneInited",value:function(){return this.sceneInited}},{key:"getRenderList",value:function(){return this.layerList}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(t){return this.layers.find((function(e){return e.id===t}))}},{key:"getLayerByName",value:function(t){return this.layers.find((function(e){return e.name===t}))}},{key:"remove",value:(s=Je()(Qe()().mark((function t(e,n){var r,i;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n?(r=n.layerChildren.indexOf(e))>-1&&n.layerChildren.splice(r,1):(i=this.layers.indexOf(e))>-1&&this.layers.splice(i,1),e.destroy(),this.reRender(),this.emit("layerChange",this.layers);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"removeAllLayers",value:(o=Je()(Qe()().mark((function t(){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.destroy(),this.reRender();case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setEnableRender",value:function(t){this.enableRender=t}},{key:"renderLayers",value:(i=Je()(Qe()().mark((function t(){var e,n,r,i,o,a;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.alreadyInRendering&&this.enableRender){t.next=2;break}return t.abrupt("return");case 2:this.updateLayerRenderList(),e=this.debugService.generateRenderUid(),this.debugService.renderStart(e),this.alreadyInRendering=!0,this.clear(),n=A()(this.layerList),t.prev=8,n.s();case 10:if((r=n.n()).done){t.next=23;break}if(i=r.value,o=i.getLayerConfig(),a=o.enableMask,i.masks.filter((function(t){return t.inited})).length>0&&a&&this.renderMask(i.masks),!i.getLayerConfig().enableMultiPassRenderer){t.next=19;break}return t.next=17,i.renderMultiPass();case 17:t.next=21;break;case 19:return t.next=21,i.render();case 21:t.next=10;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(8),n.e(t.t0);case 28:return t.prev=28,n.f(),t.finish(28);case 31:this.debugService.renderEnd(e),this.alreadyInRendering=!1;case 33:case"end":return t.stop()}}),t,this,[[8,25,28,31]])}))),function(){return i.apply(this,arguments)})},{key:"renderMask",value:function(t){var e=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});var n,r=t.length>1?Jr.MULTIPLE:Jr.SINGLE,i=A()(t);try{for(i.s();!(n=i.n()).done;){n.value.render({isStencil:!0,stencilType:r,stencilIndex:e++})}}catch(t){i.e(t)}finally{i.f()}}},{key:"beforeRenderData",value:(r=Je()(Qe()().mark((function t(e){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.hooks.beforeRenderData.promise();case 2:t.sent&&this.renderLayers();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"renderTileLayerMask",value:function(t){var e=0,n=t.getLayerConfig().enableMask,r=void 0===n||n,i=t.tileMask?1:0,o=t.masks.filter((function(t){return t.inited})),a=(i+=r?o.length:1)>1?Jr.MULTIPLE:Jr.SINGLE;if((t.tileMask||o.length&&r)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),o.length&&r){var s,u=A()(o);try{for(u.s();!(s=u.n()).done;){s.value.render({isStencil:!0,stencilType:a,stencilIndex:e++})}}catch(t){u.e(t)}finally{u.f()}}t.tileMask&&t.tileMask.render({isStencil:!0,stencilType:a,stencilIndex:e++,stencilOperation:ti.OR})}},{key:"renderTileLayer",value:(e=Je()(Qe()().mark((function t(e){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.renderTileLayerMask(e),!e.getLayerConfig().enableMultiPassRenderer){t.next=6;break}return t.next=4,e.renderMultiPass();case 4:t.next=8;break;case 6:return t.next=8,e.render();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"updateLayerRenderList",value:function(){var t=this;this.layerList=[],this.layers.filter((function(t){return t.inited})).filter((function(t){return t.isVisible()})).sort((function(t,e){return t.zIndex-e.zIndex})).forEach((function(e){t.layerList.push(e)}))}},{key:"destroy",value:function(){this.layers.forEach((function(t){t.destroy()})),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}},{key:"startAnimate",value:function(){0==this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0==--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"enableShaderPick",value:function(){this.shaderPicking=!0}},{key:"disableShaderPick",value:function(){this.shaderPicking=!1}},{key:"getShaderPickStat",value:function(){return this.shaderPicking}},{key:"clear",value:function(){var t=Ie(this.mapService.bgColor);this.renderService.clear({color:t,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=te.requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){te.cancelAnimationFrame(this.layerRenderID)}}]),f}(_.EventEmitter),Zi=y()(Wi.prototype,"renderService",[Gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=y()(Wi.prototype,"mapService",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=y()(Wi.prototype,"debugService",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi=Wi)),r(1728)),oo=r.n(io),ao=function(){function t(e){var r=this;n()(this,t),g()(this,"featureBufferLayout",[]),g()(this,"needRescale",!1),g()(this,"needRemapping",!1),g()(this,"needRegenerateVertices",!1),g()(this,"featureRange",{startIndex:0,endIndex:1/0}),g()(this,"defaultCallback",(function(t){var e;return 0===t.length?(null===(e=r.scale)||void 0===e?void 0:e.defaultValues)||[]:t.map((function(t,e){var n;return(null===(n=r.scale)||void 0===n?void 0:n.scalers[e].func)(t)}))})),this.setProps(e)}return a()(t,[{key:"setProps",value:function(t){Object.assign(this,t)}},{key:"mapping",value:function(t){var e;if(null!==(e=this.scale)&&void 0!==e&&e.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,Le()(t));if(!(0,Be.isNil)(r))return[r]}return this.defaultCallback(t)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),t}(),so=["buffer","update","name"],uo=["buffer","update","name"],co=(Ki={},g()(Ki,no.FLOAT,4),g()(Ki,no.UNSIGNED_BYTE,1),g()(Ki,no.UNSIGNED_SHORT,2),Ki),lo=(Qi=(0,b.b2)(),$i=(0,b.f3)(T.IRendererService),Qi((to=function(){function t(){n()(this,t),d()(this,"rendererService",eo,this),g()(this,"attributes",[]),g()(this,"featureLayout",{sizePerElement:0,elements:[]})}return a()(t,[{key:"registerStyleAttribute",value:function(t){var e=this.getLayerStyleAttribute(t.name||"");return e?e.setProps(t):(e=new ao(t),this.attributes.push(e)),e}},{key:"unRegisterStyleAttribute",value:function(t){var e=this.attributes.findIndex((function(e){return e.name===t}));e>-1&&this.attributes.splice(e,1)}},{key:"updateScaleAttribute",value:function(t){this.attributes.forEach((function(e){var n,r=e.name,i=null===(n=e.scale)||void 0===n?void 0:n.field;(t[r]||i&&t[i])&&(e.needRescale=!0,e.needRemapping=!0,e.needRegenerateVertices=!0)}))}},{key:"updateStyleAttribute",value:function(t,e,n){var r=this.getLayerStyleAttribute(t);r||(r=this.registerStyleAttribute(f()(f()({},e),{},{name:t})));var i=e.scale;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(t){return this.attributes.find((function(e){return e.name===t}))}},{key:"getLayerAttributeScale",value:function(t){var e,n=this.getLayerStyleAttribute(t),r=null==n||null===(e=n.scale)||void 0===e?void 0:e.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=this.attributes.find((function(e){return e.name===t}));if(o&&o.descriptor){var a=o.descriptor,s=a.update,u=a.buffer,c=a.size,l=void 0===c?0:c,h=co[u.type||no.FLOAT];if(s){var f=this.featureLayout,p=f.elements,d=f.sizePerElement,v=p.slice(n,r);if(!v.length)return;var g=v[0].offset,m=g*l*h,y=v.map((function(t,n){for(var r=t.featureIdx,i=t.vertices,o=t.normals,a=i.length/d,u=[],c=0;c<a;c++){var l=o?o.slice(3*c,3*c+3):[];u.push.apply(u,Le()(s(e[r],r,i.slice(c*d,c*d+d),n,l)))}return u})).reduce((function(t,e){return t.push.apply(t,Le()(e)),t}),[]);o.vertexAttribute.updateBuffer({data:y,offset:m}),null==i||i.emit("legend:".concat(t),{type:t,attr:o})}}}},{key:"createAttributesAndIndices",value:function(t,e,n){var r=this;this.featureLayout={sizePerElement:0,elements:[]},e&&(this.triangulation=e);var i=this.attributes.map((function(t){return t.resetDescriptor(),t.descriptor})),o=0,a=0,s=[],u=3;t.forEach((function(t,e){var c=r.triangulation(t,n),l=c.indices,h=c.vertices,f=c.normals,p=c.size,d=c.indexes,v=c.count;"number"==typeof v&&(a+=v),l.forEach((function(t){s.push(t+o)})),u=p;var g=h.length/p;r.featureLayout.sizePerElement=u,r.featureLayout.elements.push({featureIdx:e,vertices:h,normals:f,offset:o}),o+=g;for(var m=function(n){var r=(null==f?void 0:f.slice(3*n,3*n+3))||[],o=h.slice(n*p,n*p+p),a=0;d&&void 0!==d[n]&&(a=d[n]),i.forEach((function(i,s){var u;i&&i.update&&(u=i.buffer.data).push.apply(u,Le()(i.update(t,e,o,n,r,a)))}))},y=0;y<g;y++)m(y)}));var c=this.rendererService,l=c.createAttribute,h=c.createBuffer,p=c.createElements,d={};i.forEach((function(t,e){if(t){var n=t.buffer,i=(t.update,t.name,oo()(t,so)),o=l(f()({buffer:h(n)},i));d[t.name||""]=o,r.attributes[e].vertexAttribute=o}}));var v=p({data:s,type:no.UNSIGNED_INT,count:s.length});return this.attributesAndIndices={attributes:d,elements:v,count:a},this.attributesAndIndices}},{key:"createAttributes",value:function(t,e){var n=this;this.featureLayout={sizePerElement:0,elements:[]},e&&(this.triangulation=e);var r=this.attributes.map((function(t){return t.resetDescriptor(),t.descriptor})),i=0,o=[],a=3;t.forEach((function(t,e){var s=n.triangulation(t),u=s.indices,c=s.vertices,l=s.normals,h=s.size,f=s.indexes;u.forEach((function(t){o.push(t+i)})),a=h;var p=c.length/h;n.featureLayout.sizePerElement=a,n.featureLayout.elements.push({featureIdx:e,vertices:c,normals:l,offset:i}),i+=p;for(var d=function(n){var i=(null==l?void 0:l.slice(3*n,3*n+3))||[],o=c.slice(n*h,n*h+h),a=0;f&&void 0!==f[n]&&(a=f[n]),r.forEach((function(r,s){var u;r&&r.update&&(u=r.buffer.data).push.apply(u,Le()(r.update(t,e,o,n,i,a)))}))},v=0;v<p;v++)d(v)}));var s=this.rendererService,u=s.createAttribute,c=s.createBuffer,l={};return r.forEach((function(t,e){if(t){var r=t.buffer,i=(t.update,t.name,oo()(t,uo)),o=u(f()({buffer:c(r)},i));l[t.name||""]=o,n.attributes[e].vertexAttribute=o}})),{attributes:l}}},{key:"clearAllAttributes",value:function(){var t;this.attributes.forEach((function(t){t.vertexAttribute&&t.vertexAttribute.destroy()})),null===(t=this.attributesAndIndices)||void 0===t||t.elements.destroy(),this.attributes=[]}}]),t}(),eo=y()(to.prototype,"rendererService",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ji=to)),r(4828));function ho(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function fo(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function po(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function vo(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function go(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mo={exports:{}},yo={exports:{}},_o={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0},t.exports=e.default}(_o,_o.exports);var Eo={},bo={exports:{}},xo={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=e.pop();return t.call(this,e,r)}},t.exports=e.default}(xo,xo.exports);var To={};Object.defineProperty(To,"__esModule",{value:!0}),To.fallback=Co,To.wrap=Ro;var wo,Ao=To.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,So=To.hasSetImmediate="function"==typeof setImmediate&&setImmediate,Mo=To.hasNextTick="object"===(void 0===lo?"undefined":Tt()(lo))&&"function"==typeof lo.nextTick;function Co(t){setTimeout(t,0)}function Ro(t){return function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return t((function(){return e.apply(void 0,n)}))}}wo=Ao?queueMicrotask:So?setImmediate:Mo?lo.nextTick:Co,To.default=Ro(wo),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,i.isAsync)(t))return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=e.pop(),i=t.apply(this,e);return a(i,r)};return(0,n.default)((function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}if(r&&"function"==typeof r.then)return a(r,n);n(null,r)}))};var n=o(xo.exports),r=o(To),i=Eo;function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return t.then((function(t){s(e,null,t)}),(function(t){s(e,t&&t.message?t:new Error(t))}))}function s(t,e,n){try{t(e,n)}catch(t){(0,r.default)((function(t){throw t}),t)}}t.exports=e.default}(bo,bo.exports),Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.isAsyncIterable=Eo.isAsyncGenerator=Eo.isAsync=void 0;var ko,Io=(ko=bo.exports)&&ko.__esModule?ko:{default:ko};function Po(t){return"AsyncFunction"===t[Symbol.toStringTag]}Eo.default=function(t){if("function"!=typeof t)throw new Error("expected a function");return Po(t)?(0,Io.default)(t):t},Eo.isAsync=Po,Eo.isAsyncGenerator=function(t){return"AsyncGenerator"===t[Symbol.toStringTag]},Eo.isAsyncIterable=function(t){return"function"==typeof t[Symbol.asyncIterator]};var Oo={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){void 0===e&&(e=t.length);if(!e)throw new Error("arity is undefined");return function(){for(var n=this,r=[],i=arguments.length;i--;)r[i]=arguments[i];return"function"==typeof r[e-1]?t.apply(this,r):new Promise((function(i,o){r[e-1]=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(t)return o(t);i(e.length>1?e:e[0])},t.apply(n,r)}))}},t.exports=e.default}(Oo,Oo.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(_o.exports),r=o(Eo),i=o(Oo.exports);function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,i){var o=(0,n.default)(e)?[]:{};t(e,(function(t,e,n){(0,r.default)(t)((function(t){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];r.length<2&&(r=r[0]),o[e]=r,n(t)}))}),(function(t){return i(t,o)}))}),3),t.exports=e.default}(yo,yo.exports);var No={exports:{}},Lo={exports:{}},Do={exports:{}},Fo={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e},t.exports=e.default}(Fo,Fo.exports);var Bo={exports:{}},Uo={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()},t.exports=e.default}(Uo,Uo.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}(t);var e=(0,r.default)(t);return e?function(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}(e):function(t){var e=t?Object.keys(t):[],n=-1,r=e.length;return function i(){var o=e[++n];return"__proto__"===o?i():n<r?{value:t[o],key:o}:null}}(t)};var n=i(_o.exports),r=i(Uo.exports);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Bo,Bo.exports);var jo={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}},t.exports=e.default}(jo,jo.exports);var zo={exports:{}},Go={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default={},t.exports=e.default}(Go,Go.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i){var o=!1,a=!1,s=!1,u=0,c=0;function l(){u>=e||s||o||(s=!0,t.next().then((function(t){var e=t.value,n=t.done;if(!a&&!o){if(s=!1,n)return o=!0,void(u<=0&&i(null));u++,r(e,c,h),c++,l()}})).catch(f))}function h(t,e){if(u-=1,!a)return t?f(t):!1===t?(o=!0,void(a=!0)):e===n.default||o&&u<=0?(o=!0,i(null)):void l()}function f(t){a||(s=!1,o=!0,i(t))}l()};var n=function(t){return t&&t.__esModule?t:{default:t}}(Go.exports);t.exports=e.default}(zo,zo.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=u(Fo.exports),r=u(Bo.exports),i=u(jo.exports),o=Eo,a=u(zo.exports),s=u(Go.exports);function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return function(e,u,c){if(c=(0,n.default)(c),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return c(null);if((0,o.isAsyncGenerator)(e))return(0,a.default)(e,t,u,c);if((0,o.isAsyncIterable)(e))return(0,a.default)(e[Symbol.asyncIterator](),t,u,c);var l=(0,r.default)(e),h=!1,f=!1,p=0,d=!1;function v(t,e){if(!f)if(p-=1,t)h=!0,c(t);else if(!1===t)h=!0,f=!0;else{if(e===s.default||h&&p<=0)return h=!0,c(null);d||g()}}function g(){for(d=!0;p<t&&!h;){var e=l();if(null===e)return h=!0,void(p<=0&&c(null));p+=1,u(e.value,e.key,(0,i.default)(v))}d=!1}g()}},t.exports=e.default}(Do,Do.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(Do.exports),r=o(Eo),i=o(Oo.exports);function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((function(t,e,i,o){return(0,n.default)(e)(t,(0,r.default)(i),o)}),4),t.exports=e.default}(Lo,Lo.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=i(Lo.exports),r=i(Oo.exports);function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)((function(t,e,r){return(0,n.default)(t,1,e,r)}),3),t.exports=e.default}(No,No.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,n.default)(r.default,t,e)};var n=i(yo.exports),r=i(No.exports);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(mo,mo.exports);var Vo=go(mo.exports),Ho=(function(){function t(){this.args=[],this.tasks=[]}t.prototype.call=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return this.args=e,Vo(this.tasks)},t.prototype.tap=function(t,e){var n=this;this.tasks.push((function(r){e.apply(void 0,vo([],po(n.args),!1)),r(null,t)}))}}(),{exports:{}}),Xo={exports:{}};!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=c(_o.exports),r=c(Go.exports),i=c(Lo.exports),o=c(Fo.exports),a=c(jo.exports),s=c(Eo),u=c(Oo.exports);function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){n=(0,o.default)(n);var i=0,s=0,u=t.length,c=!1;function l(t,e){!1===t&&(c=!0),!0!==c&&(t?n(t):++s!==u&&e!==r.default||n(null))}for(0===u&&n(null);i<u;i++)e(t[i],i,(0,a.default)(l))}function h(t,e,n){return(0,i.default)(t,1/0,e,n)}e.default=(0,u.default)((function(t,e,r){return((0,n.default)(t)?l:h)(t,(0,s.default)(e),r)}),3),t.exports=e.default}(Xo,Xo.exports),function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return(0,r.default)(n.default,t,e)};var n=i(Xo.exports),r=i(yo.exports);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}(Ho,Ho.exports);var Wo=go(Ho.exports),Zo=(function(){function t(){this.tasks=[]}t.prototype.promise=function(){return Wo(this.tasks)},t.prototype.tapPromise=function(t,e){var n=this;this.tasks.push((function(r){return ho(n,void 0,void 0,(function(){return fo(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return n.sent(),r(null,t),[2]}}))}))}))}}(),{exports:{}});!function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=a(Fo.exports),r=a(jo.exports),i=a(Eo),o=a(Oo.exports);function a(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)((function(t,e){if(e=(0,n.default)(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var o=0;function a(e){(0,i.default)(t[o++]).apply(void 0,e.concat([(0,r.default)(s)]))}function s(n){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];if(!1!==n)return n||o===t.length?e.apply(void 0,[n].concat(r)):void a(r)}a([])})),t.exports=e.default}(Zo,Zo.exports);var Yo,qo,Ko,Qo,$o,Jo,ta,ea,na,ra,ia,oa,aa,sa,ua,ca,la,ha,fa,pa,da,va,ga,ma,ya,_a,Ea,ba,xa,Ta,wa,Aa,Sa,Ma,Ca,Ra=go(Zo.exports),ka=(function(){function t(){this.tasks=[]}t.prototype.call=function(){return Ra(this.tasks)},t.prototype.tap=function(t,e){0===this.tasks.length?this.tasks.push((function(t){var n=e();t(!!n&&null,n)})):this.tasks.push((function(n,r){r(!!e.apply(void 0,vo([],po(n),!1))&&null,t)}))}}(),function(){function t(){this.tasks=[]}t.prototype.call=function(){return Vo(this.tasks)},t.prototype.tap=function(t,e){this.tasks.push((function(n){n(e(),t)}))}}(),function(){function t(){this.args=[],this.tasks=[]}return t.prototype.promise=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return this.args=e,Vo(this.tasks)},t.prototype.tapPromise=function(t,e){var n=this;this.tasks.push((function(r){return ho(n,void 0,void 0,(function(){return fo(this,(function(n){switch(n.label){case 0:return[4,e.apply(void 0,vo([],po(this.args),!1))];case 1:return n.sent(),r(null,t),[2]}}))}))}))},t}()),Ia=(function(){function t(){this.args=[],this.tasks=[]}t.prototype.promise=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];return this.args=e,Vo(this.tasks)},t.prototype.tapPromise=function(t,e){var n=this;this.tasks.push((function(r){return ho(n,void 0,void 0,(function(){var n;return fo(this,(function(i){switch(i.label){case 0:return[4,e.apply(void 0,vo([],po(this.args),!1))];case 1:return n=i.sent(),r(n,t),[2]}}))}))}))}}(),function(){function t(){this.tasks=[]}t.prototype.promise=function(){return Ra(this.tasks)},t.prototype.tapPromise=function(t,e){0===this.tasks.length?this.tasks.push((function(t){e().then((function(e){t(null,e)}))})):this.tasks.push((function(t,n){e(t).then((function(t){n(null,t)}))}))}}(),r(2529)),Pa=r.n(Ia);Yo=(0,b.b2)(),qo=(0,b.f3)(T.SceneID),Ko=(0,b.f3)(T.IIconService),Qo=(0,b.f3)(T.IFontService),$o=(0,b.f3)(T.IControlService),Jo=(0,b.f3)(T.IGlobalConfigService),ta=(0,b.f3)(T.IMapService),ea=(0,b.f3)(T.ICoordinateSystemService),na=(0,b.f3)(T.IRendererService),ra=(0,b.f3)(T.ILayerService),ia=(0,b.f3)(T.IDebugService),oa=(0,b.f3)(T.ICameraService),aa=(0,b.f3)(T.IInteractionService),sa=(0,b.f3)(T.IPickingService),ua=(0,b.f3)(T.IShaderModuleService),ca=(0,b.f3)(T.IMarkerService),la=(0,b.f3)(T.IPopupService),Yo((fa=function(t){u()(o,t);var e,r,i=l()(o);function o(){var t;return n()(this,o),t=i.call(this),g()(M()(t),"destroyed",!1),g()(M()(t),"loaded",!1),d()(M()(t),"id",pa,M()(t)),d()(M()(t),"iconService",da,M()(t)),d()(M()(t),"fontService",va,M()(t)),d()(M()(t),"controlService",ga,M()(t)),d()(M()(t),"configService",ma,M()(t)),d()(M()(t),"map",ya,M()(t)),d()(M()(t),"coordinateSystemService",_a,M()(t)),d()(M()(t),"rendererService",Ea,M()(t)),d()(M()(t),"layerService",ba,M()(t)),d()(M()(t),"debugService",xa,M()(t)),d()(M()(t),"cameraService",Ta,M()(t)),d()(M()(t),"interactionService",wa,M()(t)),d()(M()(t),"pickingService",Aa,M()(t)),d()(M()(t),"shaderModuleService",Sa,M()(t)),d()(M()(t),"markerService",Ma,M()(t)),d()(M()(t),"popupService",Ca,M()(t)),g()(M()(t),"inited",!1),g()(M()(t),"rendering",!1),g()(M()(t),"handleWindowResized",(function(){t.emit("resize"),t.$container&&(t.initContainer(),function(){if("function"==typeof Event)te.dispatchEvent(new Event("resize"));else{var t=te.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,te,0),te.dispatchEvent(t)}}(),t.coordinateSystemService.needRefresh=!0,t.render())})),g()(M()(t),"handleMapCameraChanged",(function(e){t.cameraService.update(e),t.render()})),t.hooks={init:new ka},t}return a()(o,[{key:"init",value:function(t){var e=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",(function(){return e.render()})),this.fontService.init(),this.hooks.init.tapPromise("initMap",Je()(Qe()().mark((function t(){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.debugService.log("map.mapInitStart",{type:e.map.version}),t.next=3,new Promise((function(t){e.map.onCameraChanged((function(n){e.cameraService.init(),e.cameraService.update(n),t()})),e.map.init()}));case 3:e.map.onCameraChanged(e.handleMapCameraChanged),e.map.addMarkerContainer(),e.markerService.addMarkers(),e.markerService.addMarkerLayers(),e.popupService.initPopup(),e.interactionService.init(),e.interactionService.on(wi.Drag,e.addSceneEvent.bind(e));case 10:case"end":return t.stop()}}),t)})))),this.hooks.init.tapPromise("initRenderer",Je()(Qe()().mark((function n(){var r,i;return Qe()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.map.getOverlayContainer(),e.$container=r||Mi(e.configService.getSceneConfig(e.id).id||""),!e.$container){n.next=13;break}return e.canvas=Ue("canvas","",e.$container),e.setCanvas(),n.next=7,e.rendererService.init(e.canvas,e.configService.getSceneConfig(e.id),t.gl);case 7:e.registerContextLost(),e.initContainer(),Pa()(e.$container,e.handleWindowResized),te.matchMedia&&(null===(i=te.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))||void 0===i||i.addListener(e.handleWindowResized)),n.next=14;break;case 13:console.error("容器 id 不存在");case 14:e.pickingService.init(e.id);case 15:case"end":return n.stop()}}),n)})))),this.render()}},{key:"registerContextLost",value:function(){var t=this,e=this.rendererService.getCanvas();e&&e.addEventListener("webglcontextlost",(function(){return t.emit("webglcontextlost")}))}},{key:"initMiniScene",value:function(t){var e=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",(function(){return e.render()})),this.fontService.init(),this.hooks.init.tapPromise("initMap",Je()(Qe()().mark((function t(){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){e.map.onCameraChanged((function(n){e.cameraService.init(),e.cameraService.update(n),"GAODE2.x"!==e.map.version&&t()})),e.map.initMiniMap()}));case 2:e.map.onCameraChanged(e.handleMapCameraChanged),e.interactionService.init(),e.interactionService.on(wi.Drag,e.addSceneEvent.bind(e));case 5:case"end":return t.stop()}}),t)})))),this.hooks.init.tapPromise("initRenderer",Je()(Qe()().mark((function n(){var r;return Qe()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.canvas,e.$container=r||null,!e.$container){n.next=7;break}return n.next=5,e.rendererService.init(t.canvas,e.configService.getSceneConfig(e.id),void 0);case 5:n.next=8;break;case 7:console.error("容器 id 不存在");case 8:e.pickingService.init(e.id);case 9:case"end":return n.stop()}}),n)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(t){this.layerService.sceneService=this,this.layerService.add(t)}},{key:"addMask",value:function(t){this.layerService.sceneService=this,this.layerService.addMask(t)}},{key:"render",value:(r=Je()(Qe()().mark((function t(){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rendering&&!this.destroyed){t.next=2;break}return t.abrupt("return");case 2:if(this.rendering=!0,this.inited){t.next=16;break}return t.next=6,this.hooks.init.promise();case 6:return this.destroyed&&this.destroy(),t.next=9,this.layerService.initLayers();case 9:this.layerService.renderLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0,t.next=20;break;case 16:return t.next=18,this.layerService.initLayers();case 18:return t.next=20,this.layerService.renderLayers();case 20:this.rendering=!1;case 21:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"addFontFace",value:function(t,e){this.fontService.addFontFace(t,e)}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:(e=Je()(Qe()().mark((function t(e){var n,r,i;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null===(n=this.$container)||void 0===n?void 0:n.getElementsByTagName("canvas")[0],t.next=3,this.render();case 3:return i="jpg"===e?null==r?void 0:r.toDataURL("image/jpeg"):null==r?void 0:r.toDataURL("image/png"),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"getPointSizeRange",value:function(){return this.rendererService.getPointSizeRange()}},{key:"addMarkerContainer",value:function(){var t=this.$container.parentElement;null!==t&&(this.markerContainer=Ue("div","l7-marker-container",t))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var t,e,n=this;if(this.inited){var r;if((0,Ia.unbind)(this.$container,this.handleWindowResized),te.matchMedia)null===(r=te.matchMedia("screen and (min-resolution: 2dppx)"))||void 0===r||r.removeListener(this.handleWindowResized);this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout((function(){var t;null===(t=n.$container)||void 0===t||t.removeChild(n.canvas),n.canvas=null,n.rendererService.destroy()})),null===(t=this.$container)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.$container),this.emit("destroy")}else this.destroyed=!0}},{key:"initContainer",value:function(){var t,e,n=Ge,r=(null===(t=this.$container)||void 0===t?void 0:t.clientWidth)||400,i=(null===(e=this.$container)||void 0===e?void 0:e.clientHeight)||300,o=this.canvas;o&&(o.width=r*n,o.height=i*n),this.rendererService.viewport({x:0,y:0,width:n*r,height:n*i})}},{key:"setCanvas",value:function(){var t,e,n=Ge,r=(null===(t=this.$container)||void 0===t?void 0:t.clientWidth)||400,i=(null===(e=this.$container)||void 0===e?void 0:e.clientHeight)||300,o=this.canvas;o.width=r*n,o.height=i*n,o.style.width="100%",o.style.height="100%"}},{key:"addSceneEvent",value:function(t){this.emit(t.type,t)}}]),o}(_.EventEmitter),pa=y()(fa.prototype,"id",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=y()(fa.prototype,"iconService",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),va=y()(fa.prototype,"fontService",[Qo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ga=y()(fa.prototype,"controlService",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=y()(fa.prototype,"configService",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ya=y()(fa.prototype,"map",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a=y()(fa.prototype,"coordinateSystemService",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ea=y()(fa.prototype,"rendererService",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ba=y()(fa.prototype,"layerService",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xa=y()(fa.prototype,"debugService",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=y()(fa.prototype,"cameraService",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wa=y()(fa.prototype,"interactionService",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Aa=y()(fa.prototype,"pickingService",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sa=y()(fa.prototype,"shaderModuleService",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ma=y()(fa.prototype,"markerService",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ca=y()(fa.prototype,"popupService",[la],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=fa));var Oa,Na=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function La(t){var e={};return t=t.replace(Na,(function(t,n,r){var i=r.split(":"),o=i[0].trim(),a="";switch(i.length>1&&(a=i[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(t,e){return t.push(Number(e.trim())),t}),[]):new Array(function(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16}return e}(n)).fill(0)}return e[o]=a,"uniform ".concat(n," ").concat(o,";\n")})),{content:t,uniforms:e}}var Da,Fa,Ba,Ua,ja,za,Ga,Va,Ha,Xa,Wa,Za,Ya,qa,Ka,Qa,$a,Ja,ts,es,ns,rs,is,os,as,ss,us,cs,ls,hs,fs,ps,ds,vs,gs="#define PI 3.14159265359",ms=/precision\s+(high|low|medium)p\s+float/,ys=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,_s=/void\s+main\s*\([^)]*\)\s*\{\n?/,Es=((0,b.b2)()(Oa=function(){function t(){n()(this,t),g()(this,"moduleCache",{}),g()(this,"rawContentCache",{})}return a()(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:gs,fs:gs}),this.registerModule("decode",{vs:"#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",fs:""}),this.registerModule("projection",{vs:"#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0           // amap\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\n#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// uniform mat4 u_Mvp;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0\n    return vector;\n  }\n  return vector;\n}\n\nvec4 project_mvt_offset_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    return project_offset(vec4(0.0, 0.0, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n  return position;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // return vec4(\n    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), \n    //   project_scale(position.z), \n    //   position.w);\n\n     return vec4(\n      position.xy, \n      project_scale(position.z), \n      position.w);\n  }\n  return position;\n\n  // TODO: 瓦片坐标系 & 常规世界坐标系\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel_allmap(float pixel) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    return pixel * pow(2.0, u_Zoom);\n  }\n  return pixel * u_FocalDistance ;\n}\n\n// 适配纹理贴图的等像素大小\nfloat project_pixel_texture(float pixel) {\n  // mapbox zoom > 12\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    return pixel * pow(0.5, u_Zoom) * u_FocalDistance ;\n  }\n\n  // amap2 zoom > 12\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))* u_FocalDistance ;\n  }\n\n  // amap zoom > 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    return pixel * pow(0.5, u_Zoom)* u_FocalDistance ;\n  }\n  \n  // amap zoom < 12\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return pixel * pow(2.0, (20.0 - u_Zoom))* u_FocalDistance ;\n  }\n  return pixel * 2.0 *  u_FocalDistance;;\n}\n\n// 在不论什么底图下需要统一处理的时候使用\nfloat project_float_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // mapbox P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom))  * u_FocalDistance ;\n  }\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // amap P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // amap2 P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))* u_FocalDistance ;\n  }\n  return pixel * u_FocalDistance;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // amap P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom)) * u_FocalDistance ;\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // amap2 P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom)) * u_FocalDistance ;\n  }\n  return pixel * u_FocalDistance;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom)) * u_FocalDistance ;\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom)) * u_FocalDistance ;\n  }\n  return pixel * -1. * u_FocalDistance;\n}\nvec3 project_pixel(vec3 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom)) *  u_FocalDistance ;\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))  * u_FocalDistance ;\n  }\n  return pixel * -1. * u_FocalDistance;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}",fs:""}),this.registerModule("project",{vs:"\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) { // 经纬度 => 平面坐标\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) { // 平面坐标 => 经纬度\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}",fs:""}),this.registerModule("sdf_2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n"}),this.registerModule("lighting",{vs:"// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",fs:""}),this.registerModule("light",{vs:"#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",fs:""}),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec3 u_CurrentSelectedId : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform vec4 u_SelectColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\nuniform float u_shaderPick;\nuniform float u_EnableSelect: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define NORMAL 0.0\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\n// 判断当前点是否已经被 select 选中\nbool isVertexSelected(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_CurrentSelectedId.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_CurrentSelectedId.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_CurrentSelectedId.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  if(u_shaderPick < 0.5) {\n    return;\n  }\n  // compares only in highlight stage\n\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // if (u_EnableSelect == 1.0 && u_PickingStage == PICKING_HIGHLIGHT && isVertexSelected(pickingColor)) {\n  //   // 选中态\n  //   v_PickingResult.a = SELECT;\n  // } else if (u_PickingStage == PICKING_HIGHLIGHT && isVertexPicked(pickingColor)) {\n  //   // 高亮态\n  //   v_PickingResult.a = HIGHLIGHT;\n  // } else {\n  //   v_PickingResult.a = NORMAL;\n  // }\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform vec4 u_SelectColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_shaderPick;\n\nuniform float u_activeMix: 0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n#define HIGHLIGHT 1.0\n#define SELECT 2.0\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color, float weight) {\n  // float selected = v_PickingResult.a;\n  bool selected = bool(v_PickingResult.a);\n\n  // if (selected == SELECT) {\n  if (selected) {\n  //   // 点击选中状态\n  //   vec4 selectColor = u_SelectColor * COLOR_SCALE;\n  //   return selectColor;\n  // } else if (selected == HIGHLIGHT) {\n  //   // hover 高亮状态\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  // 过滤多余的 shader 计算\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题\n  } else {\n    return filterPickingColor(filterHighlightColor(color, 1.0));\n  }\n  \n}\n\nvec4 filterColorAlpha(vec4 color, float alpha) {\n  // 过滤多余的 shader 计算\n  // return color;\n  if(u_shaderPick < 0.5) {\n    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题\n  } else {\n    return filterPickingColor(filterHighlightColor(color, alpha));\n  }\n}\n\n"}),this.registerModule("commom_attr_vert",{vs:"#ifdef USE_ATTRIBUTE_OPACITY\n  attribute float a_Opacity;\n#endif\n\n#ifdef USE_ATTRIBUTE_OFFSETS\n  attribute vec2 a_Offsets;\n#endif\n\n#ifdef USE_ATTRIBUTE_STROKE\n  attribute vec4 a_Stroke;\n#endif",fs:""}),this.registerModule("opacity_attr_vert",{vs:"float opacity = u_opacity;\n\n#ifdef USE_ATTRIBUTE_OPACITY\n    opacity = a_Opacity;\n#endif",fs:""})}},{key:"registerModule",value:function(t,e){var n=e.vs,r=e.fs,i=e.uniforms,o=e.inject,a=La(n),s=a.content,u=a.uniforms,c=La(r),l=c.content,h=c.uniforms;this.rawContentCache[t]={fs:l,inject:o,uniforms:f()(f()(f()({},u),h),i),vs:s}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var e=this,n=this.rawContentCache[t].vs,r=this.rawContentCache[t].fs,i=this.rawContentCache[t].inject,o={};null!=i&&i["vs:#decl"]&&(n=(null==i?void 0:i["vs:#decl"])+n,o=La(null==i?void 0:i["vs:#decl"]).uniforms),null!=i&&i["vs:#main-start"]&&(n=n.replace(_s,(function(t){return t+(null==i?void 0:i["vs:#main-start"])})));var a=this.processModule(n,[],"vs"),s=a.content,u=a.includeList,c=this.processModule(r,[],"fs"),l=c.content,h=c.includeList,p="",d=(0,Be.uniq)(u.concat(h).concat(t)).reduce((function(t,n){return f()(f()({},t),e.rawContentCache[n].uniforms)}),f()({},o));return ms.test(l)||(p+="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"),p+=l,this.moduleCache[t]={fs:p.trim(),uniforms:d,vs:s.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,e,n){var r=this;return{content:t.replace(ys,(function(t,i){var o=i.split(" ")[0].replace(/"/g,"");if(e.indexOf(o)>-1)return"";var a=r.rawContentCache[o][n];return e.push(o),r.processModule(a,e,n).content})),includeList:e}}},{key:"injectDefines",value:function(t){return Object.keys(t).reduce((function(e,n){return e+"#define ".concat(n.toUpperCase()," ").concat(t[n],";\n")}),"\n")}}]),t}()),r(6409)),bs=r.n(Es),xs=r(3624),Ts=r.n(xs),ws=function(t){return t.Normal="normal",t.PostProcessing="post-processing",t}({}),As=(0,b.b2)()(Da=function(){function t(){n()(this,t)}return a()(t,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return ws.Normal}},{key:"init",value:function(t,e){this.config=e,this.rendererService=t.getContainer().get(T.IRendererService),this.cameraService=t.getContainer().get(T.ICameraService),this.mapService=t.getContainer().get(T.IMapService),this.interactionService=t.getContainer().get(T.IInteractionService),this.layerService=t.getContainer().get(T.ILayerService),this.shaderModuleService=t.getContainer().get(T.IShaderModuleService)}},{key:"render",value:function(t){}}]),t}())||Da,Ss=((0,b.b2)()(Fa=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(t,e){bs()(Ts()(r.prototype),"init",this).call(this,t,e)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),r}(As)),Ba=(0,b.b2)(),Ua=(0,b.f3)(T.IPostProcessor),Ba((za=function(){function t(){n()(this,t),g()(this,"passes",[]),d()(this,"postProcessor",Ga,this),g()(this,"width",0),g()(this,"height",0)}var e;return a()(t,[{key:"setLayer",value:function(t){this.layer=t}},{key:"setRenderFlag",value:function(t){this.renderFlag=t}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:(e=Je()(Qe()().mark((function t(){var e,n,r;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=A()(this.passes),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.render(this.layer);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:return t.next=19,this.postProcessor.render(this.layer);case 19:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))),function(){return e.apply(this,arguments)})},{key:"resize",value:function(t,e){this.width===t&&this.height===e||(this.postProcessor.resize(t,e),this.width=t,this.height=e)}},{key:"add",value:function(t,e){t.getType()===ws.PostProcessing?this.postProcessor.add(t,this.layer,e):(t.init(this.layer,e),this.passes.push(t))}},{key:"insert",value:function(t,e,n){t.init(this.layer,e),this.passes.splice(n,0,t)}},{key:"destroy",value:function(){this.passes.length=0}}]),t}(),Ga=y()(za.prototype,"postProcessor",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja=za)),(0,b.b2)()(Va=function(t){u()(r,t);var e=l()(r);function r(){var t;n()(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),g()(M()(t),"width",0),g()(M()(t),"height",0),g()(M()(t),"alreadyInRendering",!1),g()(M()(t),"pickFromPickingFBO",(function(e){var n=e.x,r=e.y,i=e.lngLat,o=e.type;if(t.layer.isVisible()&&t.layer.needPick(o)){var a,s=t.rendererService,u=s.getViewportSize,c=s.readPixels,l=s.useFramebuffer,h=u(),p=h.width,d=h.height,v=t.layer.getLayerConfig(),g=v.enableHighlight,m=v.enableSelect,y=n*Ge,_=r*Ge;if(!(y>p||y<0||_>d||_<0))l(t.pickingFBO,(function(){var e;if(0!==(a=c({x:Math.round(y),y:Math.round(d-(r+1)*Ge),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]||0!==a[1]||0!==a[2]){var s=Pe(a),u=t.layer.getSource().getFeatureById(s),l={x:n,y:r,type:o,lngLat:i,featureId:s,feature:u};u&&(t.layer.setCurrentPickId(s),t.triggerHoverOnLayer(l))}else{var h={x:n,y:r,lngLat:i,type:null===t.layer.getCurrentPickId()?"un"+o:"mouseout",featureId:null,feature:null};t.triggerHoverOnLayer(f()(f()({},h),{},{type:"unpick"})),t.triggerHoverOnLayer(h),t.layer.setCurrentPickId(null)}g&&t.highlightPickedFeature(a),m&&"click"===o&&(null===(e=a)||void 0===e?void 0:e.toString())!==[0,0,0,0].toString()&&t.selectFeature(a)}))}})),t}return a()(r,[{key:"getType",value:function(){return ws.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(t,e){bs()(Ts()(r.prototype),"init",this).call(this,t,e),this.layer=t;var n=this.rendererService,i=n.createTexture2D,o=n.createFramebuffer,a=(0,n.getViewportSize)(),s=a.width,u=a.height;this.pickingFBO=o({color:i({width:s,height:u,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})}),this.interactionService.on(wi.Hover,this.pickFromPickingFBO),this.interactionService.on(wi.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(wi.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(t){var e=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,i=n.useFramebuffer,o=n.clear,a=r(),s=a.width,u=a.height;this.alreadyInRendering=!0,this.width===s&&this.height===u||(this.pickingFBO.resize({width:s,height:u}),this.width=s,this.height=u),i(this.pickingFBO,(function(){o({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=e.layer.multiPassRenderer.getRenderFlag();e.layer.multiPassRenderer.setRenderFlag(!1),t.hooks.beforePickingEncode.call(),t.render(),t.hooks.afterPickingEncode.call(),e.layer.multiPassRenderer.setRenderFlag(n),e.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(t){this.layer.emit(t.type,t)}},{key:"highlightPickedFeature",value:function(t){var e=Fe()(t,3),n=e[0],r=e[1],i=e[2];this.layer.hooks.beforeHighlight.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(t){var e=Fe()(t,3),n=e[0],r=e[1],i=e[2];this.layer.hooks.beforeSelect.call([n,r,i]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(t){var e=Oe(t.featureId);this.selectFeature(new Uint8Array(e))}},{key:"highlightFeatureHandle",value:function(t){var e=Oe(t.featureId);this.highlightPickedFeature(new Uint8Array(e))}}]),r}(As)),Ha=(0,b.b2)(),Xa=(0,b.f3)(T.IShaderModuleService),Ha((Za=function(){function t(){n()(this,t),d()(this,"shaderModuleService",Ya,this),g()(this,"quad","attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}"),g()(this,"enabled",!0),g()(this,"renderToScreen",!1),g()(this,"optionsToUpdate",{})}return a()(t,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}},{key:"getType",value:function(){return ws.PostProcessing}},{key:"init",value:function(t,e){this.config=e,this.rendererService=t.getContainer().get(T.IRendererService),this.shaderModuleService=t.getContainer().get(T.IShaderModuleService);var n=this.rendererService,r=n.createAttribute,i=n.createBuffer,o=n.createModel,a=this.setupShaders(),s=a.vs,u=a.fs,c=a.uniforms;this.model=o({vs:s,fs:u,attributes:{a_Position:r({buffer:i({data:[-4,-4,4,-4,0,4],type:no.FLOAT}),size:2})},uniforms:f()(f()({u_Texture:null},c),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(t,e){var n=this,r=t.multiPassRenderer.getPostProcessor(),i=this.rendererService,o=i.useFramebuffer,a=i.getViewportSize,s=i.clear,u=a(),c=u.width,l=u.height;o(this.renderToScreen?null:r.getWriteFBO(),(function(){s({framebuffer:r.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});var t=f()({u_BloomFinal:0,u_Texture:r.getReadFBO(),u_ViewportSize:[c,l]},n.convertOptionsToUniforms(n.optionsToUpdate));e&&(t.u_BloomFinal=1,t.u_Texture2=e),n.model.draw({uniforms:t})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(t){this.enabled=t}},{key:"setRenderToScreen",value:function(t){this.renderToScreen=t}},{key:"updateOptions",value:function(t){this.optionsToUpdate=f()(f()({},this.optionsToUpdate),t)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(t){var e={};return Object.keys(t).forEach((function(n){(0,Be.isNil)(t[n])||(e["u_".concat((0,Be.upperFirst)((0,Be.camelCase)(n)))]=t[n])})),e}}]),t}(),Ya=y()(Za.prototype,"shaderModuleService",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wa=Za))||Wa),Ms=((0,b.b2)()(qa=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform float u_BloomFinal: 0.0;\nuniform sampler2D u_Texture;\nuniform sampler2D u_Texture2;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_radius: 5.0;\nuniform float u_intensity: 0.3;\nuniform float u_baseRadio: 0.5;\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nfloat luminance(vec4 color) {\n  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;\n}\n\nvoid main() {\n  // vec4 baseColor = texture2D(u_Texture, v_UV);\n\n  float r = sqrt(u_radius);\n\n  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));\n  // c1 *= luminance(c1);\n  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));\n  // c2 *= luminance(c2);\n  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));\n  // c3 *= luminance(c3);\n  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));\n  // c4 *= luminance(c4);\n  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;\n\n  // float lum = luminance(inbloomColor);\n  // inbloomColor.rgb *= lum;\n\n  if(u_BloomFinal > 0.0) {\n    vec4 baseColor = texture2D(u_Texture2, v_UV);\n    float baselum = luminance(baseColor);\n    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);\n    if(baselum <= 0.2) {\n      gl_FragColor = inbloomColor * u_intensity;\n    }\n  } else {\n    gl_FragColor = inbloomColor;\n  }\n}"});var t=this.shaderModuleService.getModule("blur-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:f()(f()({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(t){var e={};return(0,Be.isNil)(t.bloomRadius)||(e.u_radius=t.bloomRadius),(0,Be.isNil)(t.bloomIntensity)||(e.u_intensity=t.bloomIntensity),(0,Be.isNil)(t.bloomBaseRadio)||(e.u_baseRadio=t.bloomBaseRadio),e}}]),r}(Ss)),(0,b.b2)()(Ka=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});var t=this.shaderModuleService.getModule("blur-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:f()(f()({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(t){var e={};return(0,Be.isNil)(t.blurRadius)||(e.u_BlurDir=[t.blurRadius,0]),e}}]),r}(Ss)),(0,b.b2)()(Qa=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});var t=this.shaderModuleService.getModule("blur-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:f()(f()({},r),{},{u_ViewportSize:[o,a]})}}},{key:"convertOptionsToUniforms",value:function(t){var e={};return(0,Be.isNil)(t.blurRadius)||(e.u_BlurDir=[0,t.blurRadius]),e}}]),r}(Ss)),(0,b.b2)()($a=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:'varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}'});var t=this.shaderModuleService.getModule("colorhalftone-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:f()(f()({},r),{},{u_ViewportSize:[o,a]})}}}]),r}(Ss)),(0,b.b2)()(Ja=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}"}),this.shaderModuleService.getModule("copy-pass")}}]),r}(Ss)),(0,b.b2)()(ts=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});var t=this.shaderModuleService.getModule("hexagonalpixelate-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:f()(f()({},r),{},{u_ViewportSize:[o,a]})}}}]),r}(Ss)),(0,b.b2)()(es=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});var t=this.shaderModuleService.getModule("ink-pass"),e=t.vs,n=t.fs,r=t.uniforms,i=this.rendererService.getViewportSize(),o=i.width,a=i.height;return{vs:e,fs:n,uniforms:f()(f()({},r),{},{u_ViewportSize:[o,a]})}}}]),r}(Ss)),(0,b.b2)()(ns=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}"}),this.shaderModuleService.getModule("noise-pass")}}]),r}(Ss)),(0,b.b2)()(rs=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}"}),this.shaderModuleService.getModule("sepia-pass")}}]),r}(Ss)),is=(0,b.b2)(),os=(0,b.f3)(T.IRendererService),as=(0,b.zY)(),is((us=function(){function t(){n()(this,t),d()(this,"rendererService",cs,this),g()(this,"passes",[])}var e,r;return a()(t,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"getCurrentFBOTex",value:function(){var t=this.rendererService,e=t.getViewportSize,n=t.createTexture2D,r=e();return n({x:0,y:0,width:r.width,height:r.height,copy:!0})}},{key:"getReadFBOTex",value:function(){var t=this,e=this.rendererService.useFramebuffer;return new Promise((function(n){e(t.readFBO,Je()(Qe()().mark((function e(){return Qe()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t.getCurrentFBOTex());case 1:case"end":return e.stop()}}),e)}))))}))}},{key:"renderBloomPass",value:(r=Je()(Qe()().mark((function t(e,n){var r,i;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getReadFBOTex();case 2:r=t.sent,i=0;case 4:if(!(i<4)){t.next=11;break}return t.next=7,n.render(e,r);case 7:this.swap(),i++,t.next=4;break;case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"render",value:(e=Je()(Qe()().mark((function t(e){var n,r;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<this.passes.length)){t.next=15;break}if((r=this.passes[n]).setRenderToScreen(this.isLastEnabledPass(n)),"bloom"!==r.getName()){t.next=9;break}return t.next=7,this.renderBloomPass(e,r);case 7:t.next=12;break;case 9:return t.next=11,r.render(e);case 11:n!==this.passes.length-1&&this.swap();case 12:n++,t.next=1;break;case 15:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"resize",value:function(t,e){this.readFBO.resize({width:t,height:e}),this.writeFBO.resize({width:t,height:e})}},{key:"add",value:function(t,e,n){t.init(e,n),this.passes.push(t)}},{key:"insert",value:function(t,e,n,r){t.init(n,r),this.passes.splice(e,0,t)}},{key:"getPostProcessingPassByName",value:function(t){return this.passes.find((function(e){return e.getName()===t}))}},{key:"init",value:function(){var t=this.rendererService,e=t.createFramebuffer,n=t.createTexture2D;this.readFBO=e({color:n({width:1,height:1,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})}),this.writeFBO=e({color:n({width:1,height:1,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})})}},{key:"isLastEnabledPass",value:function(t){for(var e=t+1;e<this.passes.length;e++)if(this.passes[e].isEnabled())return!1;return!0}},{key:"swap",value:function(){var t=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=t}}]),t}(),cs=y()(us.prototype,"rendererService",[os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y()(us.prototype,"init",[as],Object.getOwnPropertyDescriptor(us.prototype,"init"),us.prototype),ss=us)),(0,b.b2)()(ls=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getType",value:function(){return ws.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(t,e){bs()(Ts()(r.prototype),"init",this).call(this,t,e)}},{key:"render",value:function(t){var e=this.rendererService,n=e.useFramebuffer,r=e.clear,i=t.multiPassRenderer.getPostProcessor().getReadFBO();n(i,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:i}),t.multiPassRenderer.setRenderFlag(!1),t.models.forEach((function(e){e.draw({uniforms:t.layerModel.getUninforms()})})),t.multiPassRenderer.setRenderFlag(!0)}))}}]),r}(As)),"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}");function Cs(t,e){for(var n=0,r=1/e,i=t;i>0;)n+=r*(i%e),i=Math.floor(i/e),r/=e;return n}var Rs=1,ks=(hs=(0,b.b2)(),fs=(0,b.f3)(T.IShaderModuleService),hs((ds=function(t){u()(r,t);var e=l()(r);function r(){var t;n()(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),d()(M()(t),"shaderModuleService",vs,M()(t)),g()(M()(t),"haltonSequence",[]),g()(M()(t),"accumulatingId",0),g()(M()(t),"frame",0),g()(M()(t),"timer",void 0),t}return a()(r,[{key:"getType",value:function(){return ws.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(t,e){bs()(Ts()(r.prototype),"init",this).call(this,t,e);var n=this.rendererService,i=n.createFramebuffer,o=n.createTexture2D;this.sampleRenderTarget=i({color:o({width:1,height:1,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})}),this.prevRenderTarget=i({color:o({width:1,height:1,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})}),this.outputRenderTarget=i({color:o({width:1,height:1,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})}),this.copyRenderTarget=i({color:o({width:1,height:1,wrapS:no.CLAMP_TO_EDGE,wrapT:no.CLAMP_TO_EDGE})});for(var a=0;a<30;a++)this.haltonSequence.push([Cs(a,2),Cs(a,3)]);this.blendModel=this.createTriangleModel("blend-pass","uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n"),this.outputModel=this.createTriangleModel("copy-pass",Ms,{blend:{enable:!0,func:{srcRGB:no.ONE,dstRGB:no.ONE_MINUS_SRC_ALPHA,srcAlpha:no.ONE,dstAlpha:no.ONE_MINUS_SRC_ALPHA},equation:{rgb:no.FUNC_ADD,alpha:no.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",Ms)}},{key:"render",value:function(t){var e=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,u=a.height;this.sampleRenderTarget.resize({width:s,height:u}),this.prevRenderTarget.resize({width:s,height:u}),this.outputRenderTarget.resize({width:s,height:u}),this.copyRenderTarget.resize({width:s,height:u}),this.resetFrame(),this.stopAccumulating();var c=t.multiPassRenderer.getPostProcessor().getReadFBO();o(c,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:c}),t.multiPassRenderer.setRenderFlag(!1),t.render(),t.multiPassRenderer.setRenderFlag(!0)}));var l=function n(r){e.accumulatingId&&r===e.accumulatingId&&(e.isFinished()||(e.doRender(t),te.requestAnimationFrame((function(){n(r)}))))};this.accumulatingId=Rs++,this.timer=te.setTimeout((function(){l(e.accumulatingId)}),50)}},{key:"doRender",value:function(t){var e=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,o=n.useFramebuffer,a=i(),s=a.width,u=a.height,c=t.getLayerConfig().jitterScale,l=void 0===c?1:c,h=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*h[0]-1)/s*l,(2*h[1]-1)/u*l),t.multiPassRenderer.setRenderFlag(!1),t.hooks.beforeRender.call(),o(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:e.sampleRenderTarget}),t.render()})),t.hooks.afterRender.call(),t.multiPassRenderer.setRenderFlag(!0);var f=t.getLayerConfig();o(this.outputRenderTarget,(function(){e.blendModel.draw({uniforms:{u_opacity:f.opacity||1,u_MixRatio:0===e.frame?1:.9,u_Diffuse1:e.sampleRenderTarget,u_Diffuse2:0===e.frame?t.multiPassRenderer.getPostProcessor().getReadFBO():e.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(o(this.copyRenderTarget,(function(){e.outputModel.draw({uniforms:{u_Texture:e.outputRenderTarget}})})),o(t.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){e.copyModel.draw({uniforms:{u_Texture:e.copyRenderTarget}})})),t.multiPassRenderer.getPostProcessor().render(t));var p=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=p,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,te.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(t,e,n){this.shaderModuleService.registerModule(t,{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:e});var r=this.shaderModuleService.getModule(t),i=r.vs,o=r.fs,a=r.uniforms,s=this.rendererService,u=s.createAttribute,c=s.createBuffer;return(0,s.createModel)(f()({vs:i,fs:o,attributes:{a_Position:u({buffer:c({data:[-4,-4,4,-4,0,4],type:no.FLOAT}),size:2})},uniforms:f()({},a),depth:{enable:!1},count:3},n))}}]),r}(As),vs=y()(ds.prototype,"shaderModuleService",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ps=ds)),new b.W2);ks.bind(T.IGlobalConfigService).to(ii).inSingletonScope(),(0,b.GW)((0,b.b2)(),_.EventEmitter),ks.bind(T.IEventEmitter).to(_.EventEmitter);var Is=(0,x.Z)(ks,!1);var Ps,Os,Ns,Ls,Ds,Fs=["mapload","mapchange","mapAfterFrameChange"],Bs=(Ls=T.IGlobalConfigService,Ds=Is.lazyInject(Ls),Ps=function(t,e,n){Ds.call(this,t,e),n&&(n.initializer=function(){return t[e]})},Os=function(){function t(e){n()(this,t),d()(this,"configService",Ns,this),this.config=e}return a()(t,[{key:"setContainer",value:function(t,e,n,r){t.bind(T.MapConfig).toConstantValue(f()(f()({},this.config),{},{id:e,canvas:n,hasBaseMap:r})),t.bind(T.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),t}(),Ns=y()(Os.prototype,"configService",[Ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os),Us=r(6291),js=r.n(Us);function zs(){var t=new Wn(3);return Wn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Gs(t){var e=new Wn(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Vs(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Hs(t,e,n){var r=new Wn(3);return r[0]=t,r[1]=e,r[2]=n,r}function Xs(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ws(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Zs(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ys(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function qs(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Ks(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Qs(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function $s(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function Js(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function tu(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function eu(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function nu(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function ru(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function iu(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function ou(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function au(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function su(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function uu(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function cu(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function lu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function hu(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function fu(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function pu(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t}function du(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*c+n[0]*l+r[0]*h+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*h+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*h+i[2]*f,t}function vu(t,e){e=e||1;var n=2*Zn()*Math.PI,r=2*Zn()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function gu(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function mu(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function yu(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],l=i*c-o*u,h=o*s-r*c,f=r*u-i*s,p=i*f-o*h,d=o*l-r*f,v=r*h-i*l,g=2*a;return l*=g,h*=g,f*=g,p*=2,d*=2,v*=2,t[0]=s+l+p,t[1]=u+h+d,t[2]=c+f+v,t}function _u(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Eu(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function bu(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function xu(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&lu(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function Tu(t){return t[0]=0,t[1]=0,t[2]=0,t}function wu(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Au(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Su(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=Xn*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=Xn*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=Xn*Math.max(1,Math.abs(i),Math.abs(s))}var Mu=Ys,Cu=qs,Ru=Ks,ku=iu,Iu=ou,Pu=Vs,Ou=au,Nu=function(){var t=zs();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),Lu=r(7282),Du=r.n(Lu),Fu=function(t){return t["GAODE1.x"]="GAODE1.x",t["GAODE2.x"]="GAODE2.x",t.MAPBOX="MAPBOX",t.DEFUALT="DEFUALTMAP",t.SIMPLE="SIMPLE",t.GLOBEL="GLOBEL",t}({}),Bu=function(){function t(e){n()(this,t),g()(this,"size",1e4),this.size=e||1e4}return a()(t,[{key:"setSize",value:function(t){this.size=t}},{key:"getSize",value:function(){return[this.size,this.size]}},{key:"mercatorXfromLng",value:function(t){return(180+t)/360*this.size}},{key:"mercatorYfromLat",value:function(t){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360)*this.size}},{key:"lngFromMercatorX",value:function(t){return t/this.size*360-180}},{key:"latFromMercatorY",value:function(t){var e=180-360*(1-t/this.size);return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}},{key:"project",value:function(t){return[this.mercatorXfromLng(t[0]),this.mercatorYfromLat(t[1])]}},{key:"unproject",value:function(t){return[this.lngFromMercatorX(t[0]),this.latFromMercatorY(t[1])]}}]),t}();function Uu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={top:0,right:0,bottom:0,left:0};if("number"==typeof t)return{top:t,right:t,bottom:t,left:t};if(Array.isArray(t)){if(4===t.length)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(2===t.length)return{top:t[0],right:t[1],bottom:t[0],left:t[1]}}return f()(f()({},e),t)}function ju(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function Gu(t){var e=function(t,e){if("object"!==zu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zu(e)?e:String(e)}function Vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gu(r.key),r)}}function Hu(t,e,n){return e&&Vu(t.prototype,e),n&&Vu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wu(t,e){if(e&&("object"===zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xu(t)}function Zu(t){return Zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(t)}function Yu(t,e){return Yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yu(t,e)}function qu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ku(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return qu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(t,e){var n,r,i,o=oi([],e,t);return n=o,r=o,i=1/o[3],n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=r[3]*i,o}function $u(t,e){if(!t)throw new Error(e||"viewport-mercator-project: assertion failed.")}var Ju=Math.PI,tc=Ju/4,ec=Ju/180,nc=180/Ju,rc=4003e4;function ic(t){return Math.pow(2,t)}function oc(t,e){var n=Ku(t,2),r=n[0],i=n[1];$u(Number.isFinite(r)&&Number.isFinite(e)),$u(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var o=i*ec;return[(e*=512)*(r*ec+Ju)/(2*Ju),e*(Ju-Math.log(Math.tan(tc+.5*o)))/(2*Ju)]}function ac(t,e){var n=Ku(t,2),r=n[0],i=n[1],o=r/(e*=512)*(2*Ju)-Ju,a=2*(Math.atan(Math.exp(Ju-i/e*(2*Ju)))-tc);return[o*nc,a*nc]}function sc(t){var e=t.latitude,n=t.longitude,r=t.zoom,i=t.scale,o=t.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:ic(r),$u(Number.isFinite(e)&&Number.isFinite(n)&&Number.isFinite(i));var s={},u=512*i,c=Math.cos(e*ec),l=u/360,h=l/c,f=u/rc/c;if(s.pixelsPerMeter=[f,-f,f],s.metersPerPixel=[1/f,-1/f,1/f],s.pixelsPerDegree=[l,-h,f],s.degreesPerPixel=[1/l,-1/h,1/f],a){var p=ec*Math.tan(e*ec)/c,d=l*p/2,v=u/rc*p,g=v/h*f;s.pixelsPerDegree2=[0,-d,v],s.pixelsPerMeter2=[g,0,g]}return s}function uc(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,u=void 0!==s&&s,c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return Br(c,c,[0,0,-i]),Ur(c,c,[1,1,1/e]),jr(c,c,-n*ec),Gr(c,c,r*ec),u&&Ur(c,c,[1,-1,1]),a&&Br(c,c,su([],a)),c}function cc(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,c=t.farZMultiplier,l=void 0===c?1:c,h=a*ec,f=Math.atan(.5/i),p=Math.sin(f)*i/Math.sin(Math.PI/2-h-f),d=Math.cos(Math.PI/2-h)*p+i;return{fov:2*Math.atan(n/2/i),aspect:e/n,focalDistance:i,near:u,far:d*l}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier}),o=i.fov,a=i.aspect,s=i.near,u=i.far;return Vr([],o,a,s,u)}function lc(t,e){var n=Ku(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return $u(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),Qu(e,[r,i,a,1])}function hc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Ku(t,3),i=r[0],o=r[1],a=r[2];if($u(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=Qu(e,[i,o,a,1]);return s}var u=Qu(e,[i,o,0,1]),c=Qu(e,[i,o,1,1]),l=u[2],h=c[2],f=l===h?0:((n||0)-l)/(h-l);return er([],u,c,f)}var fc=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],pc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.viewMatrix,o=void 0===i?fc:i,a=e.projectionMatrix,s=void 0===a?fc:a;ju(this,t),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Fr(u,u,this.projectionMatrix),Fr(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Ur(c,c,[this.width/2,-this.height/2,1]),Br(c,c,[1,-1,0]),Fr(c,c,this.viewProjectionMatrix);var l=Dr([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=l,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Hu(t,[{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&Xr(e.projectionMatrix,this.projectionMatrix)&&Xr(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=lc(i,this.pixelProjectionMatrix),a=Ku(o,2),s=a[0],u=a[1],c=r?u:this.height-u;return 2===t.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=Ku(t,3),a=o[0],s=o[1],u=o[2],c=r?s:this.height-s,l=i&&i*this.pixelsPerMeter,h=hc([a,c,u],this.pixelUnprojectionMatrix,l),f=this.unprojectPosition(h),p=Ku(f,3),d=p[0],v=p[1],g=p[2];return Number.isFinite(u)?[d,v,g]:Number.isFinite(i)?[d,v,i]:[d,v]}},{key:"projectPosition",value:function(t){var e=Ku(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(t){var e=Ku(this.unprojectFlat(t),2);return[e[0],e[1],(t[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}},{key:"unprojectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}}]),t}();function dc(t){var e=t.width,n=t.height,r=t.bounds,i=t.minExtent,o=void 0===i?0:i,a=t.maxZoom,s=void 0===a?24:a,u=t.padding,c=void 0===u?0:u,l=t.offset,h=void 0===l?[0,0]:l,f=Ku(r,2),p=Ku(f[0],2),d=p[0],v=p[1],g=Ku(f[1],2),m=g[0],y=g[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else $u(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var _=new Sc({width:e,height:n,longitude:0,latitude:0,zoom:0}),E=_.project([d,y]),b=_.project([m,v]),x=[Math.max(Math.abs(b[0]-E[0]),o),Math.max(Math.abs(b[1]-E[1]),o)],T=[e-c.left-c.right-2*Math.abs(h[0]),n-c.top-c.bottom-2*Math.abs(h[1])];$u(T[0]>0&&T[1]>0);var w=T[0]/x[0],A=T[1]/x[1],S=(c.right-c.left)/2/w,M=(c.bottom-c.top)/2/A,C=[(b[0]+E[0])/2+S,(b[1]+E[1])/2+M],R=_.unproject(C),k=_.zoom+Math.log2(Math.abs(Math.min(w,A)));return{longitude:R[0],latitude:R[1],zoom:Math.min(k,s)}}var vc,gc,mc,yc,_c,Ec,bc,xc,Tc,wc,Ac,Sc=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,i=n.height,o=n.latitude,a=void 0===o?0:o,s=n.longitude,u=void 0===s?0:s,c=n.zoom,l=void 0===c?0:c,h=n.pitch,f=void 0===h?0:h,p=n.bearing,d=void 0===p?0:p,v=n.altitude,g=void 0===v?1.5:v,m=n.nearZMultiplier,y=n.farZMultiplier;ju(this,e),r=r||1,i=i||1;var _=ic(l);g=Math.max(.75,g);var E=oc([u,a],_);E[2]=0;var b=cc({width:r,height:i,pitch:f,bearing:d,altitude:g,nearZMultiplier:m||1/i,farZMultiplier:y||1.01}),x=uc({height:i,center:E,pitch:f,bearing:d,altitude:g,flipY:!0});return(t=Wu(this,Zu(e).call(this,{width:r,height:i,viewMatrix:x,projectionMatrix:b}))).latitude=a,t.longitude=u,t.zoom=l,t.pitch=f,t.bearing=d,t.altitude=g,t.scale=_,t.center=E,t.pixelsPerMeter=sc(Xu(Xu(t))).pixelsPerMeter[2],Object.freeze(Xu(Xu(t))),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yu(t,e)}(e,t),Hu(e,[{key:"projectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return oc(t,e)}},{key:"unprojectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return ac(t,e)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e,n,r=t.lngLat,i=hc(t.pos,this.pixelUnprojectionMatrix),o=Qn([],oc(r,this.scale),((e=[])[0]=-(n=i)[0],e[1]=-n[1],e));return ac(Qn([],this.center,o),this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=dc(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:u})}}]),e}(pc),Mc=function(){function t(){n()(this,t)}return a()(t,[{key:"syncWithMapCamera",value:function(t){var e=t.center,n=t.zoom,r=t.pitch,i=t.bearing,o=t.viewportHeight,a=t.viewportWidth,s=this.viewport?{width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing}:{};this.viewport=new Sc(f()(f()({},s),{},{width:a,height:o,longitude:e&&e[0],latitude:e&&e[1],zoom:n,pitch:r,bearing:i}))}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t,e){return this.viewport.projectFlat(t,e)}}]),t}(),Cc={normal:"amap://styles/normal",light:"amap://styles/c422f5c0cfced5be9fe3a83f05f28a68?isPublic=true",dark:"amap://styles/c9f1d10cae34f8ab05e425462c5a58d7?isPublic=true",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true",fresh:"amap://styles/fresh",grey:"amap://styles/grey",graffiti:"amap://styles/graffiti",macaron:"amap://styles/macaron",darkblue:"amap://styles/darkblue",wine:"amap://styles/wine"},Rc=["id","style","minZoom","maxZoom","token","mapInstance","plugin"];!function(t,e){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".amap-logo{\n display: none !important;\n}\n");var kc={"GAODE1.x":{contextmenu:"rightclick"},"GAODE2.x":{contextmenu:"rightclick",camerachange:"viewchange"}},Ic=0;window.forceWebGL=!0;var Pc="15cd8a57710d40c9b7c0e3cc120f1200",Oc=!1,Nc=[],Lc=(vc=(0,b.b2)(),gc=(0,b.f3)(T.IGlobalConfigService),mc=(0,b.f3)(T.MapConfig),yc=(0,b.f3)(T.ICoordinateSystemService),_c=(0,b.f3)(T.IEventEmitter),vc((bc=function(){function t(){var e=this;n()(this,t),g()(this,"version",Fu["GAODE1.x"]),g()(this,"simpleMapCoord",new Bu),g()(this,"bgColor","rgba(0, 0, 0, 0)"),d()(this,"configService",xc,this),d()(this,"config",Tc,this),d()(this,"coordinateSystemService",wc,this),d()(this,"eventEmitter",Ac,this),g()(this,"handleCameraChanged",(function(t){var n=t.camera,r=n.fov,i=n.near,o=n.far,a=n.height,s=n.pitch,u=n.rotation,c=n.aspect,l=n.position,h=e.getCenter(),f=h.lng,p=h.lat;if(e.emit("mapchange"),e.cameraChangedCallback){e.viewport.syncWithMapCamera({aspect:c,bearing:360-u,far:o,fov:r,cameraHeight:a,near:i,pitch:s,zoom:e.map.getZoom()-1,center:[f,p],offsetOrigin:[l.x,l.y]});var d=e.config.offsetZoom,v=void 0===d?12:d;e.viewport.getZoom()>v?e.coordinateSystemService.setCoordinateSystem(Ei.P20_OFFSET):e.coordinateSystemService.setCoordinateSystem(Ei.P20),e.cameraChangedCallback(e.viewport)}}))}var e;return a()(t,[{key:"setBgColor",value:function(t){this.bgColor=t}},{key:"addMarkerContainer",value:function(){var t=this.map.getContainer();if(null!==t){var e=t.getElementsByClassName("amap-maps")[0];this.markerContainer=Ue("div","l7-marker-container",e)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(t,e){-1!==Fs.indexOf(t)?this.eventEmitter.on(t,e):this.map.on(kc[this.version][t]||t,e)}},{key:"off",value:function(t,e){-1!==Fs.indexOf(t)?this.eventEmitter.off(t,e):this.map.off(kc[this.version][t]||t,e)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var t;return null===(t=this.map.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var t=this.map.getSize();return[t.getWidth(),t.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(t){return this.map.setZoom(t+1)}},{key:"getCenter",value:function(t){if(null!=t&&t.padding){var e=this.getCenter(),n=Uu(t.padding),r=this.lngLatToPixel([e.lng,e.lat]),i=[(n.right-n.left)/2,(n.bottom-n.top)/2];return this.pixelToLngLat([r.x-i[0],r.y-i[1]])}var o=this.map.getCenter();return{lng:o.getLng(),lat:o.getLat()}}},{key:"setCenter",value:function(t,e){if(null!=e&&e.padding){var n=Uu(e.padding),r=this.lngLatToPixel(t),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],o=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([o.lng,o.lat])}else this.map.setCenter(t)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var t=this.map.getBounds().toBounds(),e=t.getNorthEast(),n=t.getSouthWest(),r=this.getCenter(),i=r.lng>e.getLng()||r.lng<n.getLng()?180-e.getLng():e.getLng();return[[r.lng<n.getLng()?n.getLng()-180:n.getLng(),n.getLat()],[i,e.getLat()]]}},{key:"getMinZoom",value:function(){return this.map.get("zooms")[0]-1}},{key:"getMaxZoom",value:function(){return this.map.get("zooms")[1]-1}},{key:"setRotation",value:function(t){return this.map.setRotation(t)}},{key:"setPitch",value:function(t){return this.map.setPitch(t)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(t){this.map.panTo(t)}},{key:"panBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.map.panBy(t,e)}},{key:"fitBounds",value:function(t){this.map.setBounds(new AMap.Bounds([t[0][0],t[0][1],t[1][0],t[1][1]]))}},{key:"setZoomAndCenter",value:function(t,e){this.map.setZoomAndCenter(t+1,e)}},{key:"setMapStyle",value:function(t){this.map.setMapStyle(this.getMapStyleValue(t))}},{key:"setMapStatus",value:function(t){this.map.setStatus(t)}},{key:"getMapStyleConfig",value:function(){return Cc}},{key:"getMapStyleValue",value:function(t){return this.getMapStyleConfig()[t]||t}},{key:"getMapStyle",value:function(){return this.map.getMapStyle()}},{key:"pixelToLngLat",value:function(t){var e=this.map.pixelToLngLat(new AMap.Pixel(t[0],t[1]));return{lng:e.getLng(),lat:e.getLat()}}},{key:"lngLatToPixel",value:function(t){var e=this.map.lnglatToPixel(new AMap.LngLat(t[0],t[1]));return{x:e.getX(),y:e.getY()}}},{key:"containerToLngLat",value:function(t){var e=new AMap.Pixel(t[0],t[1]),n=this.map.containerToLngLat(e);return{lng:null==n?void 0:n.getLng(),lat:null==n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(t){var e=new AMap.LngLat(t[0],t[1]),n=this.map.lngLatToContainer(e);return{x:n.getX(),y:n.getY()}}},{key:"lngLatToCoord",value:function(t){var e=this.map.lngLatToGeodeticCoord(t);return[e.x,-e.y]}},{key:"lngLatToMercator",value:function(t,e){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.viewport.projectFlat(t),o=Nr();return Br(o,o,Hs(i[0],i[1],e)),Ur(o,o,Hs(r[0],r[1],r[2])),jr(o,o,n[0]),zr(o,o,n[1]),Gr(o,o,n[2]),o}},{key:"init",value:(e=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,p,d,v,g=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.config,n=e.id,r=e.style,i=void 0===r?"light":r,o=e.minZoom,a=void 0===o?0:o,s=e.maxZoom,u=void 0===s?18:s,c=e.token,l=void 0===c?Pc:c,h=e.mapInstance,p=e.plugin,d=void 0===p?[]:p,v=oo()(e,Rc),t.next=3,new Promise((function(t){var e=function(){if(h)g.map=h,g.$mapContainer=g.map.getContainer(),setTimeout((function(){g.map.on("camerachange",g.handleCameraChanged),t()}),30);else{g.$mapContainer=g.creatMapContainer(n);var e=f()({mapStyle:g.getMapStyleValue(i),zooms:[a,u],viewMode:"3D"},v);e.zoom&&(e.zoom+=1);var r=new AMap.Map(g.$mapContainer,e);r.on("camerachange",g.handleCameraChanged),r.on("camerachange",(function(){setTimeout((function(){return g.handleAfterMapChange()}))})),g.map=r,setTimeout((function(){t()}),10)}};Oc||h?Oc&&window.AMap||h?e():Nc.push(e):(l===Pc&&console.warn("%c".concat(g.configService.getSceneWarninfo("MapToken"),"!"),"color: #873bf4;font-weigh:900;font-size: 16px;"),Oc=!0,d.push("Map3D"),Du().load({key:l,version:"1.4.15",plugins:d}).then((function(){e(),Nc.length&&(Nc.forEach((function(t){return t()})),Nc=[])})).catch((function(t){throw new Error(t)})))}));case 3:this.viewport=new Mc;case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"meterToCoord",value:function(t,e){var n=AMap.GeometryUtil.distance(js()(AMap.LngLat,Le()(t)),js()(AMap.LngLat,Le()(e))),r=this.lngLatToCoord(t),i=Fe()(r,2),o=i[0],a=i[1],s=this.lngLatToCoord(e),u=Fe()(s,2),c=u[0],l=u[1];return Math.sqrt(Math.pow(o-c,2)+Math.pow(a-l,2))/n}},{key:"updateView",value:function(t){}},{key:"getOverlayContainer",value:function(){}},{key:"exportMap",value:function(t){var e,n=null===(e=this.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-layer")[0];return"jpg"===t?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png")}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).emit.apply(e,[t].concat(r))}},{key:"once",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).once.apply(e,[t].concat(r))}},{key:"destroy",value:function(){var t,e;null===(t=this.$mapContainer)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.$mapContainer),delete window.initAMap;var n=document.getElementById("amap-script");n&&document.head.removeChild(n),this.map.destroy()}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"handleAfterMapChange",value:function(){this.emit("mapAfterFrameChange")}},{key:"creatMapContainer",value:function(t){var e=t;"string"==typeof t&&(e=document.getElementById(t));var n=document.createElement("div");return n.style.cssText+="\n       position: absolute;\n       top: 0;\n       height: 100%;\n       width: 100%;\n     ",n.id="l7_amap_div"+Ic++,e.appendChild(n),n}}]),t}(),xc=y()(bc.prototype,"configService",[gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tc=y()(bc.prototype,"config",[mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=y()(bc.prototype,"coordinateSystemService",[yc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ac=y()(bc.prototype,"eventEmitter",[_c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ec=bc))||Ec);if(!window)throw Error("AMap JSAPI can only be used in Browser.");var Dc=function(t){return t.notload="notload",t.loading="loading",t.loaded="loaded",t.failed="failed",t}(Dc||{}),Fc={key:"",AMap:{version:"2.0",plugins:[]}},Bc={AMap:Dc.notload},Uc=[],jc=function(t){if("function"==typeof t){if(Bc.AMap===Dc.loaded)return void t(window.AMap);Uc.push(t)}},zc=function(){var t=Je()(Qe()().mark((function t(e){return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){if(Bc.AMap===Dc.failed)n("");else if(Bc.AMap===Dc.notload){var r=e.key,i=e.version,o=e.plugins;if(!r)return void n("请填写key");window.AMap&&"lbs.amap.com"!==location.host&&n("禁止多种API加载方式混用"),Fc.key=r,Fc.AMap.version=i||Fc.AMap.version,Fc.AMap.plugins=o||Fc.AMap.plugins,Bc.AMap=Dc.loading;var a=document.body||document.head;window._onAPILoaded=function(e){e?(Bc.AMap=Dc.failed,n(e)):(Bc.AMap=Dc.loaded,t(null))};var s=document.createElement("script");s.type="text/javascript",s.async=!1,s.src="https://webapi.amap.com/maps?callback=_onAPILoaded&v="+Fc.AMap.version+"&key="+r+"&plugin="+Fc.AMap.plugins.join(","),s.onerror=function(t){Bc.AMap=Dc.failed,n(t)},a.appendChild(s)}else if(Bc.AMap===Dc.loaded){if(e.key&&e.key!==Fc.key)return void n("多个不一致的 key");if(e.version&&e.version!==Fc.AMap.version)return void n("不允许多个版本 JSAPI 混用");var u=[];e.plugins&&e.plugins.forEach((function(t){-1===Fc.AMap.plugins.indexOf(t)&&u.push(t)})),u.length&&window.AMap.plugin(u,(function(){t(window.AMap)}))}else{if(e.key&&e.key!==Fc.key)return void n("多个不一致的 key");if(e.version&&e.version!==Fc.AMap.version)return void n("不允许多个版本 JSAPI 混用");var c=[];e.plugins&&e.plugins.forEach((function(t){-1===Fc.AMap.plugins.indexOf(t)&&c.push(t)})),jc((function(){c.length&&window.AMap.plugin(c,(function(){t(window.AMap)}))}))}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var Gc,Vc={load:zc,reset:function(){delete window.AMap,Fc={key:"",AMap:{version:"1.4.15",plugins:[]}},Bc={AMap:Dc.notload},{AMap:[]}}},Hc=Math.PI/180,Xc=function(){function t(){n()(this,t),g()(this,"projectionMatrix",Nr()),g()(this,"viewMatrix",Nr()),g()(this,"viewProjectionMatrix",Nr()),g()(this,"ViewProjectionMatrixUncentered",Nr()),g()(this,"viewUncenteredMatrix",Nr())}return a()(t,[{key:"syncWithMapCamera",value:function(t){var e=t.zoom,n=void 0===e?1:e,r=t.pitch,i=void 0===r?0:r,o=t.bearing,a=void 0===o?0:o,s=t.center,u=void 0===s?[0,0]:s,c=t.offsetOrigin,l=void 0===c?[0,0]:c,h=t.cameraHeight,f=void 0===h?1:h,p=t.aspect,d=void 0===p?1:p,v=t.near,g=void 0===v?.1:v,m=t.far,y=void 0===m?1e3:m,_=t.fov,E=void 0===_?0:_;this.zoom=n,this.center=u;var b=i*Hc,x=(360-a)*Hc;Vr(this.projectionMatrix,E,d,g,y);var T=Hs(f*Math.sin(b)*Math.sin(x),-f*Math.sin(b)*Math.cos(x),f*Math.cos(b)),w=Hs(-Math.cos(b)*Math.sin(x),Math.cos(b)*Math.cos(x),Math.sin(b));Hr(this.viewMatrix,T,Hs(0,0,0),w),this.viewUncenteredMatrix=Lr(this.viewMatrix),Br(this.viewMatrix,this.viewMatrix,Hs(-l[0],l[1],0)),Fr(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),Fr(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var t=Fe()(this.center,2);return[t[0],t[1]]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t){var e=85.0511287798,n=Math.max(Math.min(e,t[1]),-e),r=256<<20,i=Math.PI/180,o=t[0]*i,a=n*i;a=Math.log(Math.tan(Math.PI/4+a/2));return[o=r*(.5/Math.PI*o+.5)-215440491,a=-(r*(-.5/Math.PI*a+(i=.5))-106744817)]}}]),t}(),Wc=["id","style","minZoom","maxZoom","token","mapInstance","plugin"];window.forceWebGL=!0;var Zc,Yc="15cd8a57710d40c9b7c0e3cc120f1200",qc=!1,Kc=[],Qc=(0,b.b2)()(Gc=function(t){u()(i,t);var e,r=l()(i);function i(){var t;n()(this,i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=r.call.apply(r,[this].concat(o)),g()(M()(t),"version",Fu["GAODE1.x"]),g()(M()(t),"handleCameraChanged",(function(e){var n=e.camera,r=n.fov,i=n.near,o=n.far,a=n.height,s=n.pitch,u=n.rotation,c=n.aspect,l=n.position,h=t.getCenter(),f=h.lng,p=h.lat;if(t.emit("mapchange"),t.cameraChangedCallback){t.viewport.syncWithMapCamera({aspect:c,bearing:360-u,far:o,fov:r,cameraHeight:a,near:i,pitch:s,zoom:t.map.getZoom()-1,center:[f,p],offsetOrigin:[l.x,l.y]});var d=t.config.offsetZoom,v=void 0===d?12:d;t.viewport.getZoom()>v?t.coordinateSystemService.setCoordinateSystem(Ei.P20_OFFSET):t.coordinateSystemService.setCoordinateSystem(Ei.P20),t.cameraChangedCallback(t.viewport)}})),t}return a()(i,[{key:"getModelMatrix",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.viewport.projectFlat(t),o=Nr();return Br(o,o,Hs(i[0],i[1],e)),Ur(o,o,Hs(r[0],r[1],r[2])),jr(o,o,n[0]),zr(o,o,n[1]),Gr(o,o,n[2]),o}},{key:"init",value:(e=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,p,d,v,g=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.config,n=e.id,r=e.style,i=void 0===r?"light":r,o=e.minZoom,a=void 0===o?0:o,s=e.maxZoom,u=void 0===s?18:s,c=e.token,l=void 0===c?Yc:c,h=e.mapInstance,p=e.plugin,d=void 0===p?[]:p,v=oo()(e,Wc),t.next=3,new Promise((function(t){var e=function(){if(h)g.map=h,g.$mapContainer=g.map.getContainer(),setTimeout((function(){g.map.on("camerachange",g.handleCameraChanged),t()}),30);else{g.$mapContainer=g.creatMapContainer(n);var e=f()({mapStyle:g.getMapStyleValue(i),zooms:[a,u],viewMode:"3D"},v);e.zoom&&(e.zoom+=1);var r=new AMap.Map(g.$mapContainer,e);r.on("camerachange",g.handleCameraChanged),r.on("camerachange",(function(){setTimeout((function(){return g.handleAfterMapChange()}))})),g.map=r,setTimeout((function(){t()}),10)}};qc||h?qc&&window.AMap||h?e():Kc.push(e):(l===Yc&&console.warn(g.configService.getSceneWarninfo("MapToken")),qc=!0,d.push("Map3D"),Vc.load({key:l,version:"1.4.15",plugins:d}).then((function(t){e(),Kc.length&&(Kc.forEach((function(t){return t()})),Kc=[])})).catch((function(t){throw new Error(t)})))}));case 3:this.viewport=new Xc;case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"meterToCoord",value:function(t,e){var n=AMap.GeometryUtil.distance(js()(AMap.LngLat,Le()(t)),js()(AMap.LngLat,Le()(e))),r=this.lngLatToCoord(t),i=Fe()(r,2),o=i[0],a=i[1],s=this.lngLatToCoord(e),u=Fe()(s,2),c=u[0],l=u[1];return Math.sqrt(Math.pow(o-c,2)+Math.pow(a-l,2))/n}},{key:"updateView",value:function(t){}},{key:"getOverlayContainer",value:function(){}},{key:"exportMap",value:function(t){var e,n=null===(e=this.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-layer")[0];return"jpg"===t?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png")}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}}]),i}(Lc))||Gc,$c=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getServiceConstructor",value:function(){return Qc}}]),r}(Bs),Jc=function(){function e(){n()(this,e),g()(this,"projectionMatrix",Nr()),g()(this,"viewMatrix",Nr()),g()(this,"viewProjectionMatrix",Nr()),g()(this,"ViewProjectionMatrixUncentered",Nr()),g()(this,"viewUncenteredMatrix",Nr())}return a()(e,[{key:"syncWithMapCamera",value:function(e){var n=e.zoom,r=void 0===n?1:n,i=e.center,o=void 0===i?[0,0]:i,a=e.offsetOrigin,s=void 0===a?[0,0]:a,u=e.cameraPosition,c=void 0===u?[0,0,0]:u,l=e.up,h=void 0===l?[0,1,0]:l,f=e.lookAt,p=void 0===f?[0,0,0]:f,d=e.aspect,v=void 0===d?1:d,g=e.near,m=void 0===g?.1:g,y=e.far,_=void 0===y?1e3:y,E=e.fov,b=void 0===E?45:E;this.zoom=r,this.center=o,Vr(this.projectionMatrix,b/180*Math.PI,v,m,_);var x=Hs.apply(t,Le()(c)),T=Hs.apply(t,Le()(p)),w=Hs.apply(t,Le()(h));Hr(this.viewMatrix,x,T,w),this.viewUncenteredMatrix=Lr(this.viewMatrix),Br(this.viewMatrix,this.viewMatrix,Hs(-s[0],s[1],0)),Fr(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),Fr(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 1048576}},{key:"getCenter",value:function(){var t=Fe()(this.center,2);return[t[0],t[1]]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1.2}},{key:"projectFlat",value:function(t){var e=85.0511287798,n=Math.max(Math.min(e,t[1]),-e),r=256<<20,i=Math.PI/180,o=t[0]*i,a=n*i;a=Math.log(Math.tan(Math.PI/4+a/2));return[o=r*(.5/Math.PI*o+.5)-215440491,a=-(r*(-.5/Math.PI*a+(i=.5))-106744817)]}}]),e}(),tl=["id","style","minZoom","maxZoom","token","mapInstance","plugin","version"];!function(t,e){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".amap-logo{\n display: none !important;\n}\n");var el=[108.92361,34.54083];window.forceWebGL=!0;var nl,rl="ff533602d57df6f8ab3b0fea226ae52f",il=(0,b.b2)()(Zc=function(t){u()(i,t);var e,r=l()(i);function i(){var t;n()(this,i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=r.call.apply(r,[this].concat(o)),g()(M()(t),"version",Fu["GAODE2.x"]),g()(M()(t),"handleViewChanged",(function(e){var n=t.map.customCoords.getCameraParams(),r=n.fov,i=n.near,o=n.far,a=n.aspect,s=n.position,u=n.lookAt,c=n.up;t.emit("mapchange");var l=t.map.customCoords.getCenter();t.cameraChangedCallback&&(t.viewport.syncWithMapCamera({aspect:a,far:o,fov:r,cameraPosition:s,lookAt:u,up:c,near:i,zoom:t.map.getZoom()-1,center:l,offsetOrigin:[s[0],s[1]]}),t.coordinateSystemService.setCoordinateSystem(Ei.P20_2),t.cameraChangedCallback(t.viewport))})),t}return a()(i,[{key:"setCustomCoordCenter",value:function(t){this.sceneCenter=t,this.sceneCenterMercator=Ye.apply(void 0,Le()(t))}},{key:"getCustomCoordCenter",value:function(){return this.sceneCenterMercator}},{key:"lngLatToCoordByLayer",value:function(t,e){var n=e||this.sceneCenterMercator,r=this._sub(Ye(t[0],t[1]),n);return t[2]&&r.push(t[2]),r}},{key:"coordToAMap2RelativeCoordinates",value:function(t,e){var n=this,r=Ye(e[0],e[1]);return"number"==typeof t[0]?this.lngLatToCoordByLayer(t,r):t.map((function(t){return Array.isArray(t)&&"number"==typeof t[0]?n.lngLatToCoordByLayer(t,r):t.map((function(t){return n.lngLatToCoordByLayer(t,r)}))}))}},{key:"setCoordCenter",value:function(t){this.map.customCoords.setCenter(t||el),this.setCustomCoordCenter(t||el)}},{key:"lngLatToCoord",value:function(t){return this.sceneCenter||(this.map.customCoords.setCenter(t),this.setCustomCoordCenter(t)),this._sub(Ye(t[0],t[1]),this.sceneCenterMercator)}},{key:"lngLatToCoords",value:function(t){var e=this;return t.map((function(t){return"number"==typeof t[0]?e.lngLatToCoord(t):t.map((function(t){return e.lngLatToCoord(t)}))}))}},{key:"addMarkerContainer",value:function(){if(this.map){var t=this.map.getContainer();if(null!==t){var e=t.getElementsByClassName("amap-maps")[0];e.style.zIndex="auto",this.markerContainer=Ue("div","l7-marker-container2",e)}}}},{key:"updateView",value:function(t){}},{key:"getOverlayContainer",value:function(){}},{key:"getType",value:function(){return"amap2"}},{key:"getBounds",value:function(){var t=this.map.getBounds(),e=t.getNorthEast(),n=t.getSouthWest(),r=this.getCenter(),i=r.lng>e.getLng()||r.lng<n.getLng()?180-e.getLng():e.getLng();return[[r.lng<n.getLng()?n.getLng()-180:n.getLng(),n.getLat()],[i,e.getLat()]]}},{key:"getMinZoom",value:function(){return this.map.getZooms()[0]-1}},{key:"getMaxZoom",value:function(){return this.map.getZooms()[1]-1}},{key:"lngLatToContainer",value:function(t){var e=this.map.lngLatToContainer(t);return{x:e.getX(),y:e.getY()}}},{key:"lngLatToPixel",value:function(t){var e=this.map.lngLatToPixel(new AMap.LngLat(t[0],t[1]));return{x:e.getX(),y:e.getY()}}},{key:"getModelMatrix",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.map.customCoords.lngLatToCoord(t),o=Nr();return Br(o,o,Hs(i[0],i[1],e)),Ur(o,o,Hs(r[0],r[1],r[2])),jr(o,o,n[0]),zr(o,o,n[1]),Gr(o,o,n[2]),o}},{key:"init",value:(e=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,p,d,v,g,m,y,_,E,b;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.config,n=e.id,r=e.style,i=void 0===r?"light":r,o=e.minZoom,a=void 0===o?0:o,s=e.maxZoom,u=void 0===s?18:s,c=e.token,l=void 0===c?rl:c,h=e.mapInstance,p=e.plugin,d=void 0===p?[]:p,e.version,v=oo()(e,tl),this.viewport=new Jc,window.AMap||h){t.next=6;break}return d.push("Map3D"),t.next=6,Du().load({key:l,version:"2.0",plugins:d});case 6:h?(this.map=h,this.$mapContainer=this.map.getContainer(),m=this.map.getCenter(),null===(g=this.map.customCoords)||void 0===g||g.setCenter([m.lng,m.lat]),this.setCustomCoordCenter([m.lng,m.lat]),this.map.on("viewchange",this.handleViewChanged)):(this.$mapContainer=this.creatMapContainer(n),(_=f()({mapStyle:this.getMapStyleValue(i),zooms:[a,u],viewMode:"3D"},v)).zoom&&(_.zoom+=1),l===rl&&console.warn("%c".concat(this.configService.getSceneWarninfo("MapToken"),"!"),"color: #873bf4;font-weigh:900;font-size: 16px;"),E=new AMap.Map(this.$mapContainer,_),this.map=E,b=E.getCenter(),null===(y=this.map.customCoords)||void 0===y||y.setCenter([b.lng,b.lat]),this.setCustomCoordCenter([b.lng,b.lat]),E.on("viewchange",this.handleViewChanged)),this.initViewPort();case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"initViewPort",value:function(){var t,e=null===(t=this.map.customCoords)||void 0===t?void 0:t.getCameraParams(),n=e.fov,r=e.near,i=e.far,o=e.aspect,a=e.position,s=e.lookAt,u=e.up;this.emit("mapchange");var c=this.map.customCoords.getCenter(),l=this.map.getZoom();this.cameraChangedCallback&&(this.viewport.syncWithMapCamera({aspect:o,far:i,fov:n,cameraPosition:a,lookAt:s,near:r,up:u,zoom:l-1,center:c,offsetOrigin:[a[0],a[1]]}),this.coordinateSystemService.setCoordinateSystem(Ei.P20_2),this.cameraChangedCallback(this.viewport))}},{key:"_sub",value:function(t,e){var n=[0,0];return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}}]),i}(Lc))||Zc,ol=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getServiceConstructor",value:function(){return il}}]),r}(Bs),al=r(8421),sl=r.n(al);function ul(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function cl(t,e,n){return Math.min(n,Math.max(e,t))}function ll(t,e,n){return t*(1-n)+e*n}function hl(t,e,n,r){var i=new(sl())(t,e,n,r);return function(t){return i.solve(t)}}var fl=hl(.25,.1,.25,1);function pl(){return!($t||!te.matchMedia)&&(null==nl&&(nl=te.matchMedia("(prefers-reduced-motion: reduce)")),nl.matches)}function dl(t,e){var n,r={},i=A()(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o in t&&(r[o]=t[o])}}catch(t){i.e(t)}finally{i.f()}return r}var vl=$t?Date.now.bind(Date):te.performance&&te.performance.now?te.performance.now.bind(te.performance):Date.now.bind(Date),gl=te.requestAnimationFrame||te.mozRequestAnimationFrame||te.webkitRequestAnimationFrame||te.msRequestAnimationFrame,ml=te.cancelAnimationFrame||te.mozCancelAnimationFrame||te.webkitCancelAnimationFrame||te.msCancelAnimationFrame;function yl(t){var e=gl(t);return{cancel:function(){return ml(e)}}}var _l=6371008.8,El=function(){function t(e,r){if(n()(this,t),isNaN(e)||isNaN(r))throw new Error("Invalid LngLat object: (".concat(e,", ").concat(r,")"));if(this.lng=+e,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return a()(t,[{key:"wrap",value:function(){return new t(ul(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return _l*Math.acos(Math.min(i,1))}}],[{key:"convert",value:function(e){if(e instanceof t)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new t(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"===Tt()(e)&&null!==e){var n="lng"in e?e.lng:e.lon;return new t(Number(n),Number(e.lat))}throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),t}(),bl=function(){function t(e,r){n()(this,t),e&&(r?this.setSouthWest(e).setNorthEast(r):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}return a()(t,[{key:"setNorthEast",value:function(t){return this.ne=t instanceof El?new El(t.lng,t.lat):El.convert(t),this}},{key:"setSouthWest",value:function(t){return this.sw=t instanceof El?new El(t.lng,t.lat):El.convert(t),this}},{key:"extend",value:function(e){var n,r,i=this.sw,o=this.ne;if(e instanceof El)n=e,r=e;else{if(!(e instanceof t)){if(Array.isArray(e)){if(4===e.length||e.every(Array.isArray)){var a=e;return this.extend(t.convert(a))}var s=e;return this.extend(El.convert(s))}return this}if(n=e.sw,r=e.ne,!n||!r)return this}return i||o?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this.sw=new El(n.lng,n.lat),this.ne=new El(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new El((this.sw.lng+this.ne.lng)/2,(this.sw.lat+this.ne.lat)/2)}},{key:"getSouthWest",value:function(){return this.sw}},{key:"getNorthEast",value:function(){return this.ne}},{key:"getNorthWest",value:function(){return new El(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new El(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this.sw.lng}},{key:"getSouth",value:function(){return this.sw.lat}},{key:"getEast",value:function(){return this.ne.lng}},{key:"getNorth",value:function(){return this.ne.lat}},{key:"toArray",value:function(){return[this.sw.toArray(),this.ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this.sw.toString(),", ").concat(this.ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this.sw&&this.ne)}},{key:"contains",value:function(t){var e=El.convert(t),n=e.lng,r=e.lat,i=this.sw.lat<=r&&r<=this.ne.lat,o=this.sw.lng<=n&&n<=this.ne.lng;return this.sw.lng>this.ne.lng&&(o=this.sw.lng>=n&&n>=this.ne.lng),i&&o}}],[{key:"convert",value:function(e){return e instanceof t?e:new t(e)}}]),t}(),xl=function(){function t(e,r){n()(this,t),this.x=e,this.y=r}return a()(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"_add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"add",value:function(t){return this.clone()._add(t)}},{key:"_sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"sub",value:function(t){return this.clone()._sub(t)}},{key:"_multByPoint",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multByPoint",value:function(t){return this.clone()._multByPoint(t)}},{key:"_divByPoint",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divByPoint",value:function(t){return this.clone()._divByPoint(t)}},{key:"_mult",value:function(t){return this.x*=t,this.y*=t,this}},{key:"mult",value:function(t){return this.clone()._mult(t)}},{key:"_div",value:function(t){return this.x/=t,this.y/=t,this}},{key:"div",value:function(t){return this.clone()._div(t)}},{key:"_rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this}},{key:"rotate",value:function(t){return this.clone()._rotate(t)}},{key:"_rotateAround",value:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this}},{key:"roateAround",value:function(t,e){return this.clone()._rotateAround(t,e)}},{key:"_matMult",value:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this}},{key:"matMult",value:function(t){return this.clone()._matMult(t)}},{key:"_unit",value:function(){return this.div(this.mag()),this}},{key:"unit",value:function(){return this.clone()._unit()}},{key:"_perp",value:function(){var t=this.y;return this.y=this.x,this.x=-t,this}},{key:"perp",value:function(){return this.clone()._perp()}},{key:"_round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"round",value:function(){return this.clone()._round()}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"dist",value:function(t){return Math.sqrt(this.distSqr(t))}},{key:"distSqr",value:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"angleTo",value:function(t){return Math.atan2(this.y-t.y,this.x-t.x)}},{key:"angleWith",value:function(t){return this.angleWithSep(t.x,t.y)}},{key:"angleWithSep",value:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)}}],[{key:"convert",value:function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}}]),t}();var Tl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n()(this,t),isNaN(e)||e<0||isNaN(r)||r<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=r,this.left=i,this.right=o}return a()(t,[{key:"interpolate",value:function(t,e,n){return null!=e.top&&null!=t.top&&(this.top=ll(t.top,e.top,n)),null!=e.bottom&&null!=t.bottom&&(this.bottom=ll(t.bottom,e.bottom,n)),null!=e.left&&null!=t.left&&(this.left=ll(t.left,e.left,n)),null!=e.right&&null!=t.right&&(this.right=ll(t.right,e.right,n)),this}},{key:"getCenter",value:function(t,e){var n=cl((this.left+t-this.right)/2,0,t),r=cl((this.top+e-this.bottom)/2,0,e);return new xl(n,r)}},{key:"equals",value:function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}(),wl=2*Math.PI*_l;function Al(t){return wl*Math.cos(t*Math.PI/180)}function Sl(t){return(180+t)/360}function Ml(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Cl(t,e){return t/Al(e)}function Rl(t){var e=180-360*t;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}var kl=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n()(this,t),this.x=+e,this.y=+r,this.z=+i}return a()(t,[{key:"toLngLat",value:function(){return new El(360*this.x-180,Rl(this.y))}},{key:"toAltitude",value:function(){return t=this.z,e=this.y,t*Al(Rl(e));var t,e}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/wl*(t=Rl(this.y),1/Math.cos(t*Math.PI/180));var t}}],[{key:"fromLngLat",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=El.convert(e);return new t(Sl(r.lng),Ml(r.lat),Cl(n,r.lat))}}]),t}(),Il=function(){function t(e,r,i,o,a){n()(this,t),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=e||0,this._maxZoom=r||22,this._minPitch=null==i?0:i,this._maxPitch=null==o?60:o,this.setMaxBounds(),this.width=0,this.height=0,this._center=new El(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this.unmodified=!0,this.edgeInsets=new Tl,this.posMatrixCache={},this.alignedPosMatrixCache={}}return a()(t,[{key:"minZoom",get:function(){return this._minZoom},set:function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))}},{key:"minPitch",get:function(){return this._minPitch},set:function(t){this._minPitch!==t&&(this._minPitch=t,this._pitch=Math.max(this._pitch,t))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(t){this._maxPitch!==t&&(this._maxPitch=t,this._pitch=Math.min(this._pitch,t))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new xl(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(t){var e,n=-ul(t,-180,180)*Math.PI/180;this.angle!==n&&(this.unmodified=!1,this.angle=n,this.calcMatrices(),this.rotationMatrix=(e=new Wn(4),Wn!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e),function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var e=cl(t,this._minPitch,this._maxPitch)/180*Math.PI;this._pitch!==e&&(this.unmodified=!1,this._pitch=e,this.calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this.unmodified=!1,this._fov=t/180*Math.PI,this.calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(t){var e=Math.min(Math.max(t,this._minZoom),this._maxZoom);this._zoom!==e&&(this.unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this.constrain(),this.calcMatrices())}},{key:"center",get:function(){return this._center},set:function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this.unmodified=!1,this._center=t,this.constrain(),this.calcMatrices())}},{key:"padding",get:function(){return this.edgeInsets.toJSON()},set:function(t){this.edgeInsets.equals(t)||(this.unmodified=!1,this.edgeInsets.interpolate(this.edgeInsets,t,1),this.calcMatrices())}},{key:"centerPoint",get:function(){return this.edgeInsets.getCenter(this.width,this.height)}},{key:"point",get:function(){return this.project(this.center)}},{key:"clone",value:function(){var e=new t(this._minZoom,this._maxZoom,this._minPitch,this._maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e.center=this._center,e.zoom=this.zoom,e.angle=this.angle,e.fov=this._fov,e.pitch=this._pitch,e.unmodified=this.unmodified,e.edgeInsets=this.edgeInsets.clone(),e.calcMatrices(),e}},{key:"isPaddingEqual",value:function(t){return this.edgeInsets.equals(t)}},{key:"interpolatePadding",value:function(t,e,n){this.unmodified=!1,this.edgeInsets.interpolate(t,e,n),this.constrain(),this.calcMatrices()}},{key:"coveringZoomLevel",value:function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)}},{key:"resize",value:function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this.constrain(),this.calcMatrices()}},{key:"zoomScale",value:function(t){return Math.pow(2,t)}},{key:"scaleZoom",value:function(t){return Math.log(t)/Math.LN2}},{key:"project",value:function(t){var e=cl(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new xl(Sl(t.lng)*this.worldSize,Ml(e)*this.worldSize)}},{key:"unproject",value:function(t){return new kl(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}},{key:"setLocationAtPoint",value:function(t,e){var n=this.pointCoordinate(e),r=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),o=new kl(i.x-(n.x-r.x),i.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"pointCoordinate",value:function(t){var e=new Float64Array([t.x,t.y,0,1]),n=new Float64Array([t.x,t.y,1,1]);oi(e,e,this.pixelMatrixInverse),oi(n,n,this.pixelMatrixInverse);var r=e[3],i=n[3],o=e[0]/r,a=n[0]/i,s=e[1]/r,u=n[1]/i,c=e[2]/r,l=n[2]/i,h=c===l?0:(0-c)/(l-c);return new kl(ll(o,a,h)/this.worldSize,ll(s,u,h)/this.worldSize)}},{key:"getBounds",value:function(){return(new bl).extend(this.pointLocation(new xl(0,0))).extend(this.pointLocation(new xl(this.width,0))).extend(this.pointLocation(new xl(this.width,this.height))).extend(this.pointLocation(new xl(0,this.height)))}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new bl([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"setMaxBounds",value:function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this.constrain()):(this.lngRange=void 0,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new xl(0,0)),e=new Float32Array([t.x*this.worldSize,t.y*this.worldSize,0,1]);return oi(e,e,this.pixelMatrix)[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var t=this._pitch,e=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new xl(0,e))}},{key:"getCameraQueryGeometry",value:function(t){var e=this.getCameraPoint();if(1===t.length)return[t[0],e];var n,r=e.x,i=e.y,o=e.x,a=e.y,s=A()(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}}catch(t){s.e(t)}finally{s.f()}return[new xl(r,i),new xl(o,i),new xl(o,a),new xl(r,a),new xl(r,i)]}},{key:"coordinatePoint",value:function(t){var e,n,r,i,o,a=(e=t.x*this.worldSize,n=t.y*this.worldSize,r=0,i=1,(o=new Wn(4))[0]=e,o[1]=n,o[2]=r,o[3]=i,o);return oi(a,a,this.pixelMatrix),new xl(a[0]/a[3],a[1]/a[3])}},{key:"locationPoint",value:function(t){return this.coordinatePoint(this.locationCoordinate(t))}},{key:"pointLocation",value:function(t){return this.coordinateLocation(this.pointCoordinate(t))}},{key:"locationCoordinate",value:function(t){return kl.fromLngLat(t)}},{key:"coordinateLocation",value:function(t){return t.toLngLat()}},{key:"getProjectionMatrix",value:function(){return this.projMatrix}},{key:"constrain",value:function(){if(this.center&&this.width&&this.height&&!this.constraining){this.constraining=!0;var t,e,n,r,i=-90,o=90,a=-180,s=180,u=this.size,c=this.unmodified;if(this.latRange){var l=this.latRange;i=Ml(l[1])*this.worldSize,t=(o=Ml(l[0])*this.worldSize)-i<u.y?u.y/(o-i):0}if(this.lngRange){var h=this.lngRange;a=Sl(h[0])*this.worldSize,e=(s=Sl(h[1])*this.worldSize)-a<u.x?u.x/(s-a):0}var f=this.point,p=Math.max(e||0,t||0);if(p)return this.center=this.unproject(new xl(e?(s+a)/2:f.x,t?(o+i)/2:f.y)),$t?this.zoom=Math.max(this.zoom,Math.max(-1,this.minZoom)):this.zoom+=this.scaleZoom(p),this.unmodified=c,void(this.constraining=!1);if(this.latRange){var d=f.y,v=u.y/2;d-v<i&&(r=i+v),d+v>o&&(r=o-v)}if(this.lngRange){var g=f.x,m=u.x/2;g-m<a&&(n=a+m),g+m>s&&(n=s-m)}void 0===n&&void 0===r||(this.center=this.unproject(new xl(void 0!==n?n:f.x,void 0!==r?r:f.y))),this.unmodified=c,this.constraining=!1}}},{key:"calcMatrices",value:function(){if(this.height){var t=this._fov/2,e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(t)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(cl(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),c=this.height/50,l=new Float64Array(16);Vr(l,this._fov,this.width/this.height,c,u),l[8]=2*-e.x/this.width,l[9]=2*e.y/this.height,Ur(l,l,[1,-1,1]),Br(l,l,[0,0,-this.cameraToCenterDistance]),jr(l,l,this._pitch),Gr(l,l,this.angle),Br(l,l,[-a,-s,0]),this.mercatorMatrix=Ur([],l,[this.worldSize,this.worldSize,this.worldSize]),Ur(l,l,[1,1,Cl(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l,this.invProjMatrix=Dr([],this.projMatrix);var h=this.width%2/2,f=this.height%2/2,p=Math.cos(this.angle),d=Math.sin(this.angle),v=a-Math.round(a)+p*h+d*f,g=s-Math.round(s)+p*f+d*h,m=new Float64Array(l);if(Br(m,m,[v>.5?v-1:v,g>.5?g-1:g,0]),this.alignedProjMatrix=m,Ur(l=Nr(),l,[this.width/2,-this.height/2,1]),Br(l,l,[1,-1,0]),this.labelPlaneMatrix=l,Ur(l=Nr(),l,[1,-1,1]),Br(l,l,[-1,-1,0]),Ur(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=Fr(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=Dr(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this.posMatrixCache={},this.alignedPosMatrixCache={}}}}]),t}(),Pl=r(870),Ol=r.n(Pl),Nl=a()((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n()(this,t),Ol()(this,r),this.type=e})),Ll=function(t){u()(r,t);var e=l()(r);function r(t){var i;n()(this,r),i=e.call(this),g()(M()(i),"renderFrameCallback",(function(){var t=Math.min((vl()-i.easeStart)/i.easeOptions.duration,1);i.onEaseFrame(i.easeOptions.easing(t)),t<1?i.easeFrameId=i.requestRenderFrame(i.renderFrameCallback):i.stop()})),i.options=t;var o=t.minZoom,a=t.maxZoom,s=t.minPitch,u=t.maxPitch,c=t.renderWorldCopies;return i.moving=!1,i.zooming=!1,i.bearingSnap=t.bearingSnap,i.pitchEnabled=t.pitchEnabled,i.rotateEnabled=t.rotateEnabled,i.transform=new Il(o,a,s,u,c),i}return a()(r,[{key:"requestRenderFrame",value:function(t){return 0}},{key:"cancelRenderFrame",value:function(t){}},{key:"getCenter",value:function(){var t=this.transform.center,e=t.lng,n=t.lat;return new El(e,n)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setCenter",value:function(t,e){return this.jumpTo({center:t},e)}},{key:"setPitch",value:function(t,e){return this.jumpTo({pitch:t},e),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"panTo",value:function(t,e,n){return this.easeTo((0,Be.merge)({center:t},e),n)}},{key:"panBy",value:function(t,e,n){return t=xl.convert(t).mult(-1),this.panTo(this.transform.center,function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)void 0!==a[s]&&(t[s]=a[s])}return t}({offset:t},e||{}),n)}},{key:"zoomOut",value:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this}},{key:"setBearing",value:function(t,e){return this.jumpTo({bearing:t},e),this}},{key:"setZoom",value:function(t,e){return this.jumpTo({zoom:t},e),this}},{key:"zoomIn",value:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this}},{key:"zoomTo",value:function(t,e,n){return this.easeTo((0,Be.merge)({zoom:t},e),n)}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(t,e){return this.jumpTo({padding:t},e),this}},{key:"rotateTo",value:function(t,e,n){return this.easeTo((0,Be.merge)({bearing:t},e),n)}},{key:"resetNorth",value:function(t,e){return this.rotateTo(0,(0,Be.merge)({duration:1e3},t),e),this}},{key:"resetNorthPitch",value:function(t,e){return this.easeTo((0,Be.merge)({bearing:0,pitch:0,duration:1e3},t),e),this}},{key:"fitBounds",value:function(t,e,n){return this.fitInternal(this.cameraForBounds(t,e),e,n)}},{key:"cameraForBounds",value:function(t,e){return t=bl.convert(t),this.cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,e)}},{key:"snapToNorth",value:function(t,e){return Math.abs(this.getBearing())<this.bearingSnap?this.resetNorth(t,e):this}},{key:"jumpTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;this.stop();var n=this.transform,r=!1,i=!1,o=!1;return void 0!==t.zoom&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=El.convert(t.center)),void 0!==t.bearing&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),void 0!==t.pitch&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),void 0===t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.emit("movestart",new Nl("movestart",e)),this.emit("move",new Nl("move",e)),r&&(this.emit("zoomstart",new Nl("zoomstart",e)),this.emit("zoom",new Nl("zoom",e)),this.emit("zoomend",new Nl("zoomend",e))),i&&(this.emit("rotatestart",new Nl("rotatestart",e)),this.emit("rotate",new Nl("rotate",e)),this.emit("rotateend",new Nl("rotateend",e))),o&&(this.emit("pitchstart",new Nl("pitchstart",e)),this.emit("pitch",new Nl("pitch",e)),this.emit("pitchend",new Nl("pitchend",e))),this.emit("moveend",new Nl("moveend",e))}},{key:"easeTo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;(!1===(e=(0,Be.merge)({offset:[0,0],duration:500,easing:fl},e)).animate||!e.essential&&pl())&&(e.duration=0);var r=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),u=e.zoom?+e.zoom:i,c=e.bearing?this.normalizeBearing(e.bearing,o):o,l=e.pitch?+e.pitch:a,h=e.padding?e.padding:r.padding,f=xl.convert(e.offset),p=r.centerPoint.add(f),d=r.pointLocation(p),v=El.convert(e.center||d);this.normalizeCenter(v);var g,m,y=r.project(d),_=r.project(v).sub(y),E=r.zoomScale(u-i);e.around&&(g=El.convert(e.around),m=r.locationPoint(g));var b={moving:this.moving,zooming:this.zooming,rotating:this.rotating,pitching:this.pitching};return this.zooming=this.zooming||u!==i,this.rotating=this.rotating||o!==c,this.pitching=this.pitching||l!==a,this.padding=!r.isPaddingEqual(h),this.easeId=e.easeId,this.prepareEase(n,e.noMoveStart,b),clearTimeout(this.easeEndTimeoutID),this.ease((function(e){if(t.zooming&&(r.zoom=ll(i,u,e)),t.rotating&&t.rotateEnabled&&(r.bearing=ll(o,c,e)),t.pitching&&t.pitchEnabled&&(r.pitch=ll(a,l,e)),t.padding&&(r.interpolatePadding(s,h,e),p=r.centerPoint.add(f)),g)r.setLocationAtPoint(g,m);else{var d=r.zoomScale(r.zoom-i),v=u>i?Math.min(2,E):Math.max(.5,E),b=Math.pow(v,1-e),x=r.unproject(y.add(_.mult(e*b)).mult(d));r.setLocationAtPoint(r.renderWorldCopies?x.wrap():x,p)}t.fireMoveEvents(n)}),(function(e){t.afterEase(n,e)}),e),this}},{key:"flyTo",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!e.essential&&pl()){var r=dl(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),e=(0,Be.merge)({offset:[0,0],speed:1.2,curve:1.42,easing:fl},e);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),c=e.zoom?cl(+e.zoom,i.minZoom,i.maxZoom):o,l=e.bearing?this.normalizeBearing(e.bearing,a):a,h=e.pitch?+e.pitch:s,f="padding"in e?e.padding:i.padding,p=i.zoomScale(c-o),d=xl.convert(e.offset),v=i.centerPoint.add(d),g=i.pointLocation(v),m=El.convert(e.center||g);this.normalizeCenter(m);var y=i.project(g),_=i.project(m).sub(y),E=e.curve,b=Math.max(i.width,i.height),x=b/p,T=_.mag();if("minZoom"in e){var w=cl(Math.min(e.minZoom,o,c),i.minZoom,i.maxZoom),A=b/i.zoomScale(w-o);E=Math.sqrt(A/T*2)}var S=E*E;function M(t){var e=(x*x-b*b+(t?-1:1)*S*S*T*T)/(2*(t?x:b)*S*T);return Math.log(Math.sqrt(e*e+1)-e)}function C(t){return(Math.exp(t)-Math.exp(-t))/2}function R(t){return(Math.exp(t)+Math.exp(-t))/2}function k(t){return C(t)/R(t)}var I=M(0),P=function(t){return R(I)/R(I+E*t)},O=function(t){return b*((R(I)*k(I+E*t)-C(I))/S)/T},N=(M(1)-I)/E;if(Math.abs(T)<1e-6||!isFinite(N)){if(Math.abs(b-x)<1e-6)return this.easeTo(e,n);var L=x<b?-1:1;N=Math.abs(Math.log(x/b))/E,O=function(){return 0},P=function(t){return Math.exp(L*E*t)}}if("duration"in e)e.duration=+e.duration;else{var D="screenSpeed"in e?+e.screenSpeed/E:+e.speed;e.duration=1e3*N/D}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this.zooming=!0,this.rotating=a!==l,this.pitching=h!==s,this.padding=!i.isPaddingEqual(f),this.prepareEase(n,!1),this.ease((function(e){var r=e*N,p=1/P(r);i.zoom=1===e?c:o+i.scaleZoom(p),t.rotating&&(i.bearing=ll(a,l,e)),t.pitching&&(i.pitch=ll(s,h,e)),t.padding&&(i.interpolatePadding(u,f,e),v=i.centerPoint.add(d));var g=1===e?m:i.unproject(y.add(_.mult(O(r))).mult(p));i.setLocationAtPoint(i.renderWorldCopies?g.wrap():g,v),t.fireMoveEvents(n)}),(function(){return t.afterEase(n)}),e),this}},{key:"fitScreenCoordinates",value:function(t,e,n,r,i){return this.fitInternal(this.cameraForBoxAndBearing(this.transform.pointLocation(xl.convert(t)),this.transform.pointLocation(xl.convert(e)),n,r),r,i)}},{key:"stop",value:function(t,e){if(this.easeFrameId&&(this.cancelRenderFrame(this.easeFrameId),delete this.easeFrameId,delete this.onEaseFrame),this.onEaseEnd){var n=this.onEaseEnd;delete this.onEaseEnd,n.call(this,e)}return this}},{key:"normalizeBearing",value:function(t,e){t=ul(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t}},{key:"normalizeCenter",value:function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}}},{key:"fireMoveEvents",value:function(t){this.emit("move",new Nl("move",t)),this.zooming&&this.emit("zoom",new Nl("zoom",t)),this.rotating&&this.emit("rotate",new Nl("rotate",t)),this.pitching&&this.emit("rotate",new Nl("pitch",t))}},{key:"prepareEase",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.moving=!0,e||n.moving||this.emit("movestart",new Nl("movestart",t)),this.zooming&&!n.zooming&&this.emit("zoomstart",new Nl("zoomstart",t)),this.rotating&&!n.rotating&&this.emit("rotatestart",new Nl("rotatestart",t)),this.pitching&&!n.pitching&&this.emit("pitchstart",new Nl("pitchstart",t))}},{key:"afterEase",value:function(t,e){if(!this.easeId||!e||this.easeId!==e){delete this.easeId;var n=this.zooming,r=this.rotating,i=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.padding=!1,n&&this.emit("zoomend",new Nl("zoomend",t)),r&&this.emit("rotateend",new Nl("rotateend",t)),i&&this.emit("pitchend",new Nl("pitchend",t)),this.emit("moveend",new Nl("moveend",t))}}},{key:"ease",value:function(t,e,n){!1===n.animate||0===n.duration?(t(1),e()):(this.easeStart=vl(),this.easeOptions=n,this.onEaseFrame=t,this.onEaseEnd=e,this.easeFrameId=this.requestRenderFrame(this.renderFrameCallback))}},{key:"cameraForBoxAndBearing",value:function(t,e,n,r){var i={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=(0,Be.merge)({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var o=r.padding;r.padding={top:o,bottom:o,right:o,left:o}}r.padding=(0,Be.merge)(i,r.padding);var a=this.transform,s=a.padding,u=a.project(El.convert(t)),c=a.project(El.convert(e)),l=u.rotate(-n*Math.PI/180),h=c.rotate(-n*Math.PI/180),f=new xl(Math.max(l.x,h.x),Math.max(l.y,h.y)),p=new xl(Math.min(l.x,h.x),Math.min(l.y,h.y)),d=f.sub(p),v=(a.width-(s.left+s.right+r.padding.left+r.padding.right))/d.x,g=(a.height-(s.top+s.bottom+r.padding.top+r.padding.bottom))/d.y;if(!(g<0||v<0)){var m=Math.min(a.scaleZoom(a.scale*Math.min(v,g)),r.maxZoom),y=xl.convert(r.offset),_=(r.padding.left-r.padding.right)/2,E=(r.padding.top-r.padding.bottom)/2,b=new xl(y.x+_,y.y+E).mult(a.scale/a.zoomScale(m));return{center:a.unproject(u.add(c).div(2).sub(b)),zoom:m,bearing:n}}}},{key:"fitInternal",value:function(t,e,n){return t?(delete(e=(0,Be.merge)(t,e)).padding,e.linear?this.easeTo(e,n):this.flyTo(e,n)):this}}]),r}(_.EventEmitter),Dl={},Fl=Dl;Dl.create=function(t,e,n){var r=te.document.createElement(t);return void 0!==e&&(r.className=e),n&&n.appendChild(r),r},Dl.createNS=function(t,e){return te.document.createElementNS(t,e)};var Bl=te.document&&te.document.documentElement.style;function Ul(t){if(!Bl)return t[0];var e,n=A()(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r in Bl)return r}}catch(t){n.e(t)}finally{n.f()}return t[0]}var jl,zl=Ul(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);Dl.disableDrag=function(){Bl&&zl&&(jl=Bl[zl],Bl[zl]="none")},Dl.enableDrag=function(){Bl&&zl&&(Bl[zl]=jl)};var Gl=Ul(["transform","WebkitTransform"]);Dl.setTransform=function(t,e){t.style[Gl]=e};var Vl=!1;try{var Hl=Object.defineProperty({},"passive",{get:function(){Vl=!0}});te.addEventListener("test",Hl,Hl),te.removeEventListener("test",Hl,Hl)}catch(t){Vl=!1}Dl.addEventListener=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&Vl?t.addEventListener(e,n,r):t.addEventListener(e,n,r.capture)},Dl.removeEventListener=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&Vl?t.removeEventListener(e,n,r):t.removeEventListener(e,n,r.capture)};var Xl=function t(e){e.preventDefault(),e.stopPropagation(),te.removeEventListener("click",t,!0)};Dl.suppressClick=function(){$t||(te.addEventListener("click",Xl,!0),setTimeout((function(){te.removeEventListener("click",Xl,!0)}),0))},Dl.mousePos=function(t,e){if($t)return new xl(e.clientX-t.left-0,e.clientY-t.top-0);var n=t.getBoundingClientRect();return new xl(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},Dl.touchPos=function(t,e){if($t){var n,r=[],i=A()(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(new xl(o.clientX-t.left,o.clientY-t.top))}}catch(t){i.e(t)}finally{i.f()}return r}var a,s=t.getBoundingClientRect(),u=[],c=A()(e);try{for(c.s();!(a=c.n()).done;){var l=a.value;u.push(new xl(l.clientX-s.left-t.clientLeft,l.clientY-s.top-t.clientTop))}}catch(t){c.e(t)}finally{c.f()}return u},Dl.mouseButton=function(t){return $t&&void 0!==te.InstallTrigger&&2===t.button&&t.ctrlKey&&te.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},Dl.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var Wl=function(t){u()(r,t);var e=l()(r);function r(t,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n()(this,r);var u=Fl.mousePos(i.getCanvasContainer(),o),c=i.unproject(u);return(a=e.call(this,t,Ol()({point:u,lngLat:c,originalEvent:o},s))).defaultPrevented=!1,a.target=i,a}return a()(r,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),r}(Nl),Zl=function(t){u()(r,t);var e=l()(r);function r(t,i,o){var a;n()(this,r);var s="touchend"===t?o.changedTouches:o.touches,u=Fl.touchPos(i.getCanvasContainer(),s),c=u.map((function(t){return i.unproject(t)})),l=u.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new xl(0,0)),h=i.unproject(l);return(a=e.call(this,t,{points:u,point:l,lngLats:c,lngLat:h,originalEvent:o})).defaultPrevented=!1,a}return a()(r,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),r}(Nl),Yl=function(t){u()(r,t);var e=l()(r);function r(t,i,o){var a;return n()(this,r),(a=e.call(this,t,{originalEvent:o})).defaultPrevented=!1,a}return a()(r,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),r}(Nl),ql=function(){function t(e){n()(this,t),this.map=e}return a()(t,[{key:"reset",value:function(){this.delayContextMenu=!1,delete this.contextMenuEvent}},{key:"mousemove",value:function(t){this.map.emit(t.type,new Wl(t.type,this.map,t))}},{key:"mousedown",value:function(){this.delayContextMenu=!0}},{key:"mouseup",value:function(){this.delayContextMenu=!1,this.contextMenuEvent&&(this.map.emit("contextmenu",new Wl("contextmenu",this.map,this.contextMenuEvent)),delete this.contextMenuEvent)}},{key:"contextmenu",value:function(t){this.delayContextMenu?this.contextMenuEvent=t:this.map.emit(t.type,new Wl(t.type,this.map,t)),this.map.listeners("contextmenu")&&t.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!0}},{key:"disable",value:function(){return!1}}]),t}(),Kl=function(){function t(e,r){n()(this,t),this.map=e,this.el=e.getCanvasContainer(),this.container=e.getContainer(),this.clickTolerance=r.clickTolerance||1}return a()(t,[{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active}},{key:"enable",value:function(){this.isEnabled()||(this.enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"mousedown",value:function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(Fl.disableDrag(),this.startPos=this.lastPos=e,this.active=!0)}},{key:"mousemoveWindow",value:function(t,e){if(this.active){var n=e;if(!(this.lastPos.equals(n)||!this.box&&n.dist(this.startPos)<this.clickTolerance)){var r=this.startPos;this.lastPos=n,this.box||(this.box=Fl.create("div","l7-boxzoom",this.container),this.container.classList.add("l7-crosshair"),this.fireEvent("boxzoomstart",t));var i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(r.y,n.y),s=Math.max(r.y,n.y);Fl.setTransform(this.box,"translate(".concat(i,"px,").concat(a,"px)")),this.box&&(this.box.style.width="".concat(o-i,"px"),this.box.style.height="".concat(s-a,"px"))}}}},{key:"mouseupWindow",value:function(t,e){var n=this;if(this.active&&0===t.button){var r=this.startPos,i=e;if(this.reset(),Fl.suppressClick(),r.x!==i.x||r.y!==i.y)return this.map.emit("boxzoomend",new Nl("boxzoomend",{originalEvent:t})),{cameraAnimation:function(t){return t.fitScreenCoordinates(r,i,n.map.getBearing(),{linear:!0})}};this.fireEvent("boxzoomcancel",t)}}},{key:"keydown",value:function(t){this.active&&27===t.keyCode&&(this.reset(),this.fireEvent("boxzoomcancel",t))}},{key:"reset",value:function(){this.active=!1,this.container.classList.remove("l7-crosshair"),this.box&&(Fl.remove(this.box),this.box=null),Fl.enableDrag(),delete this.startPos,delete this.lastPos}},{key:"fireEvent",value:function(t,e){return this.map.emit(t,new Nl(t,{originalEvent:e}))}}]),t}(),Ql=Kl,$l=function(){function t(){n()(this,t),this.reset()}return a()(t,[{key:"reset",value:function(){this.active=!1}},{key:"dblclick",value:function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),t}(),Jl=function(t){u()(r,t);var e=l()(r);function r(){var t;n()(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),g()(M()(t),"type","renderFrame"),t}return a()(r)}(Nl),th={linearity:.3,easing:hl(0,0,.3,1)},eh=Ol()({deceleration:2500,maxSpeed:1400},th),nh=Ol()({deceleration:20,maxSpeed:1400},th),rh=Ol()({deceleration:1e3,maxSpeed:360},th),ih=Ol()({deceleration:1e3,maxSpeed:90},th),oh=function(){function t(e){n()(this,t),this.map=e,this.clear()}return a()(t,[{key:"clear",value:function(){this.inertiaBuffer=[]}},{key:"record",value:function(t){this.drainInertiaBuffer(),this.inertiaBuffer.push({time:vl(),settings:t})}},{key:"drainInertiaBuffer",value:function(){for(var t=this.inertiaBuffer,e=vl();t.length>0&&e-t[0].time>160;)t.shift()}},{key:"onMoveEnd",value:function(t){if(this.drainInertiaBuffer(),!(this.inertiaBuffer.length<2)){var e,n={zoom:0,bearing:0,pitch:0,pan:new xl(0,0),pinchAround:void 0,around:void 0},r=A()(this.inertiaBuffer);try{for(r.s();!(e=r.n()).done;){var i=e.value.settings;n.zoom+=i.zoomDelta||0,n.bearing+=i.bearingDelta||0,n.pitch+=i.pitchDelta||0,i.panDelta&&n.pan._add(i.panDelta),i.around&&(n.around=i.around),i.pinchAround&&(n.pinchAround=i.pinchAround)}}catch(t){r.e(t)}finally{r.f()}var o=this.inertiaBuffer[this.inertiaBuffer.length-1].time-this.inertiaBuffer[0].time,a={};if(n.pan.mag()){var s=sh(n.pan.mag(),o,Ol()({},eh,t||{}));a.offset=n.pan.mult(s.amount/n.pan.mag()),a.center=this.map.transform.center,ah(a,s)}if(n.zoom){var u=sh(n.zoom,o,nh);a.zoom=this.map.transform.zoom+u.amount,ah(a,u)}if(n.bearing){var c=sh(n.bearing,o,rh);a.bearing=this.map.transform.bearing+cl(c.amount,-179,179),ah(a,c)}if(n.pitch){var l=sh(n.pitch,o,ih);a.pitch=this.map.transform.pitch+l.amount,ah(a,l)}if(a.zoom||a.bearing){var h=void 0===n.pinchAround?n.around:n.pinchAround;a.around=h?this.map.unproject(h):this.map.getCenter()}return this.clear(),Ol()(a,{noMoveStart:!0})}}}]),t}();function ah(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function sh(t,e,n){var r=n.maxSpeed,i=n.linearity,o=n.deceleration,a=cl(t*i/(e/1e3),-r,r),s=Math.abs(a)/(o*i);return{easing:n.easing,duration:1e3*s,amount:a*(s/2)}}var uh={panStep:100,bearingStep:15,pitchStep:10};function ch(t){return t*(2-t)}var lh,hh=function(){function t(){n()(this,t);var e=uh;this.panStep=e.panStep,this.bearingStep=e.bearingStep,this.pitchStep=e.pitchStep}return a()(t,[{key:"reset",value:function(){this.active=!1}},{key:"keydown",value:function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ch,zoom:n?Math.round(u)+n*(t.shiftKey?2:1):u,bearing:s.getBearing()+r*e.bearingStep,pitch:s.getPitch()+i*e.pitchStep,offset:[-o*e.panStep,-a*e.panStep],center:s.getCenter()},{originalEvent:t})}}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),t}(),fh=function(){function t(e,r){n()(this,t),this.map=e,this.clickTolerance=r.clickTolerance}return a()(t,[{key:"reset",value:function(){delete this.mousedownPos}},{key:"wheel",value:function(t){return this.firePreventable(new Yl(t.type,this.map,t))}},{key:"mousedown",value:function(t,e){return this.mousedownPos=e,this.firePreventable(new Wl(t.type,this.map,t))}},{key:"mouseup",value:function(t){this.map.emit(t.type,new Wl(t.type,this.map,t))}},{key:"click",value:function(t,e){this.mousedownPos&&this.mousedownPos.dist(e)>=this.clickTolerance||this.map.emit(t.type,new Wl(t.type,this.map,t))}},{key:"dblclick",value:function(t){return this.firePreventable(new Wl(t.type,this.map,t))}},{key:"mouseover",value:function(t){this.map.emit(t.type,new Wl(t.type,this.map,t))}},{key:"mouseout",value:function(t){this.map.emit(t.type,new Wl(t.type,this.map,t))}},{key:"touchstart",value:function(t){return this.firePreventable(new Zl(t.type,this.map,t))}},{key:"touchmove",value:function(t){this.map.emit(t.type,new Zl(t.type,this.map,t))}},{key:"touchend",value:function(t){this.map.emit(t.type,new Zl(t.type,this.map,t))}},{key:"touchcancel",value:function(t){this.map.emit(t.type,new Zl(t.type,this.map,t))}},{key:"firePreventable",value:function(t){if(this.map.emit(t.type,t),t.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!1}},{key:"disable",value:function(){return!1}}]),t}(),ph=(lh={},g()(lh,0,1),g()(lh,2,2),lh);var dh=function(){function t(e){n()(this,t),this.reset(),this.clickTolerance=e.clickTolerance||1}return a()(t,[{key:"reset",value:function(){this.active=!1,this.moved=!1,delete this.lastPoint,delete this.eventButton}},{key:"mousedown",value:function(t,e){if(!this.lastPoint){var n=Fl.mouseButton(t);this.correctButton(t,n)&&(this.lastPoint=e,this.eventButton=n)}}},{key:"mousemoveWindow",value:function(t,e){var n=this.lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=ph[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this.eventButton))this.reset();else if(this.moved||!(e.dist(n)<this.clickTolerance))return this.moved=!0,this.lastPoint=e,this.move(n,e)}},{key:"mouseupWindow",value:function(t){this.lastPoint&&(Fl.mouseButton(t)===this.eventButton&&(this.moved&&Fl.suppressClick(),this.reset()))}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"correctButton",value:function(t,e){return!1}},{key:"move",value:function(t,e){}}]),t}(),vh=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"mousedown",value:function(t,e){bs()(Ts()(r.prototype),"mousedown",this).call(this,t,e),this.lastPoint&&(this.active=!0)}},{key:"move",value:function(t,e){return{around:e,panDelta:e.sub(t)}}},{key:"correctButton",value:function(t,e){return 0===e&&!t.ctrlKey}}]),r}(dh),gh=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"correctButton",value:function(t,e){return 0===e&&t.ctrlKey||2===e}},{key:"move",value:function(t,e){var n=-.5*(e.y-t.y);if(n)return this.active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(t){t.preventDefault()}}]),r}(dh),mh=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"contextmenu",value:function(t){t.preventDefault()}},{key:"correctButton",value:function(t,e){return 0===e&&t.ctrlKey||2===e}},{key:"move",value:function(t,e){var n=.8*(e.x-t.x);if(n)return this.active=!0,{bearingDelta:n}}}]),r}(dh),yh=4.000244140625,_h=function(){function t(e,r){var i=this;n()(this,t),g()(this,"onScrollFrame",(function(){if(i.frameId&&(i.frameId=null,i.isActive())){var t=i.map.transform;if(0!==i.delta){var e="wheel"===i.type&&Math.abs(i.delta)>yh?i.wheelZoomRate:i.defaultZoomRate,n=2/(1+Math.exp(-Math.abs(i.delta*e)));i.delta<0&&0!==n&&(n=1/n);var r="number"==typeof i.targetZoom?t.zoomScale(i.targetZoom):t.scale;i.targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===i.type&&(i.startZoom=t.zoom,i.easing=i.smoothOutEasing(200)),i.delta=0}var o,a="number"==typeof i.targetZoom?i.targetZoom:t.zoom,s=i.startZoom,u=i.easing,c=!1;if("wheel"===i.type&&s&&u){var l=Math.min((vl()-i.lastWheelEventTime)/200,1);o=ll(s,a,u(l)),l<1?i.frameId||(i.frameId=!0):c=!0}else o=a,c=!0;return i.active=!0,c&&(i.active=!1,i.finishTimeout=setTimeout((function(){i.zooming=!1,i.handler.triggerRenderFrame(),delete i.targetZoom,delete i.finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:o-t.zoom,around:i.aroundPoint,originalEvent:i.lastWheelEvent}}})),this.map=e,this.el=e.getCanvasContainer(),this.handler=r,this.delta=0,this.defaultZoomRate=.01,this.wheelZoomRate=.0022222222222222222}return a()(t,[{key:"setZoomRate",value:function(t){this.defaultZoomRate=t}},{key:"setWheelZoomRate",value:function(t){this.wheelZoomRate=t}},{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active||void 0!==this.finishTimeout}},{key:"isZooming",value:function(){return!!this.zooming}},{key:"enable",value:function(t){this.isEnabled()||(this.enabled=!0,this.aroundCenter=t&&"center"===t.around)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"wheel",value:function(t){if(this.isEnabled()){var e=t.deltaMode===window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=vl(),r=n-(this.lastWheelEventTime||0);this.lastWheelEventTime=n,0!==e&&e%yh==0?this.type="wheel":0!==e&&Math.abs(e)<4?this.type="trackpad":r>400?(this.type=null,this.lastValue=e,this.timeout=setTimeout(this.onTimeout,40,t)):this.type||(this.type=Math.abs(r*e)<200?"trackpad":"wheel",this.timeout&&(clearTimeout(this.timeout),this.timeout=null,e+=this.lastValue)),t.shiftKey&&e&&(e/=4),this.type&&(this.lastWheelEvent=t,this.delta-=e,this.active||this.start(t)),t.preventDefault()}}},{key:"renderFrame",value:function(){return this.onScrollFrame()}},{key:"reset",value:function(){this.active=!1}},{key:"onTimeout",value:function(t){this.type="wheel",this.delta-=this.lastValue,!this.active&&this.start&&this.start(t)}},{key:"start",value:function(t){if(this.delta){this.frameId&&(this.frameId=null),this.active=!0,this.isZooming()||(this.zooming=!0),this.finishTimeout&&(clearTimeout(this.finishTimeout),delete this.finishTimeout);var e=Fl.mousePos(this.el,t);this.around=El.convert(this.aroundCenter?this.map.getCenter():this.map.unproject(e)),this.aroundPoint=this.map.transform.locationPoint(this.around),this.frameId||(this.frameId=!0,this.handler.triggerRenderFrame())}}},{key:"smoothOutEasing",value:function(t){var e=fl;if(this.prevEase){var n=this.prevEase,r=(vl()-n.start)/n.duration,i=n.easing(r+.01)-n.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01;e=hl(o,Math.sqrt(.0729-o*o),.25,1)}return this.prevEase={start:vl(),duration:t,easing:e},e}}]),t}(),Eh=_h,bh=function(){function t(e,r){n()(this,t),this.clickZoom=e,this.tapZoom=r}return a()(t,[{key:"enable",value:function(){this.clickZoom.enable(),this.tapZoom.enable()}},{key:"disable",value:function(){this.clickZoom.disable(),this.tapZoom.disable()}},{key:"isEnabled",value:function(){return this.clickZoom.isEnabled()&&this.tapZoom.isEnabled()}},{key:"isActive",value:function(){return this.clickZoom.isActive()||this.tapZoom.isActive()}}]),t}(),xh=function(){function t(e,r,i){n()(this,t),this.el=e,this.mousePan=r,this.touchPan=i}return a()(t,[{key:"enable",value:function(t){this.inertiaOptions=t||{},this.mousePan.enable(),this.touchPan.enable(),$t||this.el.classList.add("l7-touch-drag-pan")}},{key:"disable",value:function(){this.mousePan.disable(),this.touchPan.disable(),$t||this.el.classList.remove("l7-touch-drag-pan")}},{key:"isEnabled",value:function(){return this.mousePan.isEnabled()&&this.touchPan.isEnabled()}},{key:"isActive",value:function(){return this.mousePan.isActive()||this.touchPan.isActive()}}]),t}(),Th=function(){function t(e,r,i){n()(this,t),this.pitchWithRotate=e.pitchWithRotate,this.mouseRotate=r,this.mousePitch=i}return a()(t,[{key:"enable",value:function(){this.mouseRotate.enable(),this.pitchWithRotate&&this.mousePitch.enable()}},{key:"disable",value:function(){this.mouseRotate.disable(),this.mousePitch.disable()}},{key:"isEnabled",value:function(){return this.mouseRotate.isEnabled()&&(!this.pitchWithRotate||this.mousePitch.isEnabled())}},{key:"isActive",value:function(){return this.mouseRotate.isActive()||this.mousePitch.isActive()}}]),t}(),wh=function(){function t(e,r,i,o){n()(this,t),this.el=e,this.touchZoom=r,this.touchRotate=i,this.tapDragZoom=o,this.rotationDisabled=!1,this.enabled=!0}return a()(t,[{key:"enable",value:function(t){this.touchZoom.enable(t),this.rotationDisabled||this.touchRotate.enable(t),this.tapDragZoom.enable(),$t||this.el.classList.add("l7-touch-zoom-rotate")}},{key:"disable",value:function(){this.touchZoom.disable(),this.touchRotate.disable(),this.tapDragZoom.disable(),$t||this.el.classList.remove("l7-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this.touchZoom.isEnabled()&&(this.rotationDisabled||this.touchRotate.isEnabled())&&this.tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this.touchZoom.isActive()||this.touchRotate.isActive()||this.tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this.rotationDisabled=!0,this.touchRotate.disable()}},{key:"enableRotation",value:function(){this.rotationDisabled=!1,this.touchZoom.isEnabled()&&this.touchRotate.enable()}}]),t}();function Ah(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}var Sh=function(){function t(e){n()(this,t),this.reset(),this.numTouches=e.numTouches}return a()(t,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(t,e,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){var e,n=new xl(0,0),r=A()(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n._add(i)}}catch(t){r.e(t)}finally{r.f()}return n.div(t.length)}(e),this.touches=Ah(n,e)))}},{key:"touchmove",value:function(t,e,n){if(!this.aborted&&this.centroid){var r=Ah(n,e);for(var i in this.touches)if(this.touches[i]){var o=this.touches[i],a=r[i];(!a||a.dist(o)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),t}(),Mh=function(){function t(e){n()(this,t),this.singleTap=new Sh(e),this.numTaps=e.numTaps,this.reset()}return a()(t,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(t,e,n){this.singleTap.touchstart(t,e,n)}},{key:"touchmove",value:function(t,e,n){this.singleTap.touchmove(t,e,n)}},{key:"touchend",value:function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),t}(),Ch=function(){function t(){n()(this,t),this.tap=new Mh({numTouches:1,numTaps:1}),this.reset()}return a()(t,[{key:"reset",value:function(){this.active=!1,delete this.swipePoint,delete this.swipeTouch,delete this.tapTime,this.tap.reset()}},{key:"touchstart",value:function(t,e,n){this.swipePoint||(this.tapTime&&t.timeStamp-this.tapTime>500&&this.reset(),this.tapTime?n.length>0&&(this.swipePoint=e[0],this.swipeTouch=n[0].identifier):this.tap.touchstart(t,e,n))}},{key:"touchmove",value:function(t,e,n){if(this.tapTime){if(this.swipePoint){if(n[0].identifier!==this.swipeTouch)return;var r=e[0],i=r.y-this.swipePoint.y;return this.swipePoint=r,t.preventDefault(),this.active=!0,{zoomDelta:i/128}}}else this.tap.touchmove(t,e,n)}},{key:"touchend",value:function(t,e,n){this.tapTime?this.swipePoint&&0===n.length&&this.reset():this.tap.touchend(t,e,n)&&(this.tapTime=t.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),t}(),Rh=function(){function t(){n()(this,t),this.zoomIn=new Mh({numTouches:1,numTaps:2}),this.zoomOut=new Mh({numTouches:2,numTaps:1}),this.reset()}return a()(t,[{key:"reset",value:function(){this.active=!1,this.zoomIn.reset(),this.zoomOut.reset()}},{key:"touchstart",value:function(t,e,n){this.zoomIn.touchstart(t,e,n),this.zoomOut.touchstart(t,e,n)}},{key:"touchmove",value:function(t,e,n){this.zoomIn.touchmove(t,e,n),this.zoomOut.touchmove(t,e,n)}},{key:"touchend",value:function(t,e,n){var r=this,i=this.zoomIn.touchend(t,e,n),o=this.zoomOut.touchend(t,e,n);return i?(this.active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this.active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),t}(),kh=function(){function t(e){n()(this,t),this.minTouches=1,this.clickTolerance=e.clickTolerance||1,this.reset()}return a()(t,[{key:"reset",value:function(){this.active=!1,this.touches={},this.sum=new xl(0,0)}},{key:"touchstart",value:function(t,e,n){return this.calculateTransform(t,e,n)}},{key:"touchmove",value:function(t,e,n){if(this.active)return t.preventDefault(),this.calculateTransform(t,e,n)}},{key:"touchend",value:function(t,e,n){this.calculateTransform(t,e,n),this.active&&n.length<this.minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"calculateTransform",value:function(t,e,n){n.length>0&&(this.active=!0);var r=Ah(n,e),i=new xl(0,0),o=new xl(0,0),a=0;for(var s in r)if(r[s]){var u=r[s],c=this.touches[s];c&&(i._add(u),o._add(u.sub(c)),a++,r[s]=u)}if(this.touches=r,!(a<this.minTouches)&&o.mag()){var l=o.div(a);if(this.sum._add(l),!(this.sum.mag()<this.clickTolerance))return{around:i.div(a),panDelta:l}}}}]),t}(),Ih=function(){function t(){n()(this,t),this.reset()}return a()(t,[{key:"reset",value:function(){this.active=!1,delete this.firstTwoTouches}},{key:"start",value:function(t){}},{key:"move",value:function(t,e,n){}},{key:"touchstart",value:function(t,e,n){this.firstTwoTouches||n.length<2||(this.firstTwoTouches=[n[0].identifier,n[1].identifier],this.start([e[0],e[1]]))}},{key:"touchmove",value:function(t,e,n){if(this.firstTwoTouches){t.preventDefault();var r=Fe()(this.firstTwoTouches,2),i=r[0],o=r[1],a=Ph(n,e,i),s=Ph(n,e,o);if(a&&s){var u=this.aroundCenter?null:a.add(s).div(2);return this.move([a,s],u,t)}}}},{key:"touchend",value:function(t,e,n){if(this.firstTwoTouches){var r=Fe()(this.firstTwoTouches,2),i=r[0],o=r[1],a=Ph(n,e,i),s=Ph(n,e,o);a&&s||(this.active&&Fl.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(t){this.enabled=!0,this.aroundCenter=!!t&&"center"===t.around}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),t}();function Ph(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function Oh(t){return Math.abs(t.y)>Math.abs(t.x)}var Nh=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"reset",value:function(){bs()(Ts()(r.prototype),"reset",this).call(this),this.valid=void 0,delete this.firstMove,delete this.lastPoints}},{key:"start",value:function(t){this.lastPoints=t,Oh(t[0].sub(t[1]))&&(this.valid=!1)}},{key:"move",value:function(t,e,n){var r=t[0].sub(this.lastPoints[0]),i=t[1].sub(this.lastPoints[1]);if(this.valid=this.gestureBeginsVertically(r,i,n.timeStamp),this.valid){this.lastPoints=t,this.active=!0;return{pitchDelta:-.5*((r.y+i.y)/2)}}}},{key:"gestureBeginsVertically",value:function(t,e,n){if(void 0!==this.valid)return this.valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this.firstMove&&(this.firstMove=n),n-this.firstMove<100&&void 0;var o=t.y>0==e.y>0;return Oh(t)&&Oh(e)&&o}}}]),r}(Ih);function Lh(t,e){return 180*t.angleWith(e)/Math.PI}var Dh=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"reset",value:function(){bs()(Ts()(r.prototype),"reset",this).call(this),delete this.minDiameter,delete this.startVector,delete this.vector}},{key:"start",value:function(t){this.startVector=this.vector=t[0].sub(t[1]),this.minDiameter=t[0].dist(t[1])}},{key:"move",value:function(t,e){var n=this.vector;if(this.vector=t[0].sub(t[1]),this.active||!this.isBelowThreshold(this.vector))return this.active=!0,{bearingDelta:Lh(this.vector,n),pinchAround:e}}},{key:"isBelowThreshold",value:function(t){this.minDiameter=Math.min(this.minDiameter,t.mag());var e=25/(Math.PI*this.minDiameter)*360,n=Lh(t,this.startVector);return Math.abs(n)<e}}]),r}(Ih);function Fh(t,e){return Math.log(t/e)/Math.LN2}var Bh=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"reset",value:function(){bs()(Ts()(r.prototype),"reset",this).call(this),delete this.distance,delete this.startDistance}},{key:"start",value:function(t){this.startDistance=this.distance=t[0].dist(t[1])}},{key:"move",value:function(t,e){var n=this.distance;if(this.distance=t[0].dist(t[1]),this.active||!(Math.abs(Fh(this.distance,this.startDistance))<.1))return this.active=!0,{zoomDelta:Fh(this.distance,n),pinchAround:e}}}]),r}(Ih),Uh=function(t){return t.zoom||t.drag||t.pitch||t.rotate};function jh(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var zh=function(){function t(e,r){var i=this;n()(this,t),g()(this,"handleWindowEvent",(function(t){i.handleEvent(t,"".concat(t.type,"Window"))})),g()(this,"handleEvent",(function(t,e){if("blur"!==t.type){i.updatingCamera=!0;var n,r="renderFrame"===t.type?void 0:t,o={needsRenderFrame:!1},a={},s={},u=t.touches?i.getMapTouches(t.touches):void 0,c=u?Fl.touchPos(i.el,u):Fl.mousePos(i.el,t),l=A()(i.handlers);try{for(l.s();!(n=l.n()).done;){var h=n.value,f=h.handlerName,p=h.handler,d=h.allowed;if(p.isEnabled()){var v=void 0;if(i.blockedByActive(s,d,f))p.reset();else{var g=e||t.type;p&&p[g]&&(v=p[g](t,c,u),i.mergeIHandlerResult(o,a,v,f,r),v&&v.needsRenderFrame&&i.triggerRenderFrame())}(v||p.isActive())&&(s[f]=p)}}}catch(t){l.e(t)}finally{l.f()}var m={};for(var y in i.previousActiveHandlers)s[y]||(m[y]=r);i.previousActiveHandlers=s,(Object.keys(m).length||jh(o))&&(i.changes.push([o,a,m]),i.triggerRenderFrame()),(Object.keys(s).length||jh(o))&&i.map.stop(!0),i.updatingCamera=!1;var _=o.cameraAnimation;_&&(i.inertia.clear(),i.fireEvents({},{}),i.changes=[],_(i.map))}else i.stop()})),this.map=e,this.el=this.map.getCanvasContainer(),this.handlers=[],this.handlersById={},this.changes=[],this.inertia=new oh(e),this.bearingSnap=r.bearingSnap,this.rotateEnabled=r.rotateEnabled,this.pitchEnabled=r.pitchEnabled,this.previousActiveHandlers={},this.eventsInProgress={},this.addDefaultHandlers(r);var o=this.el;if(this.listeners=[],$t)te.document.addEventListener("touchstart",(function(t){i.handleEvent(t)}),{}),te.document.addEventListener("touchmove",(function(t){i.handleEvent(t)}),{}),te.document.addEventListener("touchend",(function(t){i.handleEvent(t)}),{}),te.document.addEventListener("touchcancel",(function(t){i.handleEvent(t)}),{});else{this.listeners=[[o,"touchstart",{passive:!1}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[window.document,"mousemove",{capture:!0}],[window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[window,"blur",void 0]];var a,s=A()(this.listeners);try{for(s.s();!(a=s.n()).done;){var u=Fe()(a.value,3),c=u[0],l=u[1],h=u[2];Fl.addEventListener(c,l,c===window.document?this.handleWindowEvent:this.handleEvent,h)}}catch(t){s.e(t)}finally{s.f()}}}return a()(t,[{key:"destroy",value:function(){var t,e=A()(this.listeners);try{for(e.s();!(t=e.n()).done;){var n=Fe()(t.value,3),r=n[0],i=n[1],o=n[2];Fl.removeEventListener(r,i,r===window.document?this.handleWindowEvent:this.handleEvent,o)}}catch(t){e.e(t)}finally{e.f()}}},{key:"stop",value:function(){if(!this.updatingCamera){var t,e=A()(this.handlers);try{for(e.s();!(t=e.n()).done;){t.value.handler.reset()}}catch(t){e.e(t)}finally{e.f()}this.inertia.clear(),this.fireEvents({},{}),this.changes=[]}}},{key:"isActive",value:function(){var t,e=A()(this.handlers);try{for(e.s();!(t=e.n()).done;){if(t.value.handler.isActive())return!0}}catch(t){e.e(t)}finally{e.f()}return!1}},{key:"isZooming",value:function(){return!!this.eventsInProgress.zoom||this.map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this.eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(Uh(this.eventsInProgress))||this.isZooming()}},{key:"mergeIHandlerResult",value:function(t,e,n,r,i){if(n){(0,Be.merge)(t,n);var o={handlerName:r,originalEvent:n.originalEvent||i};void 0!==n.zoomDelta&&(e.zoom=o),void 0!==n.panDelta&&(e.drag=o),void 0!==n.pitchDelta&&(e.pitch=o),void 0!==n.bearingDelta&&(e.rotate=o)}}},{key:"triggerRenderFrame",value:function(){var t=this;void 0===this.frameId&&(this.frameId=this.map.requestRenderFrame((function(e){delete t.frameId,t.handleEvent(new Jl("renderFrame",{timeStamp:e})),t.applyChanges()})))}},{key:"addDefaultHandlers",value:function(t){var e=this.map,n=e.getCanvasContainer();this.add("mapEvent",new fh(e,t));var r=e.boxZoom=new Ql(e,t);this.add("boxZoom",r);var i=new Rh,o=new $l;e.doubleClickZoom=new bh(o,i),this.add("tapZoom",i),this.add("clickZoom",o);var a=new Ch;this.add("tapDragZoom",a);var s=e.touchPitch=new Nh;this.add("touchPitch",s);var u=new gh(t),c=new mh(t);e.dragRotate=new Th(t,u,c),this.add("mouseRotate",u,["mousePitch"]),this.add("mousePitch",c,["mouseRotate"]);var l=new vh(t),h=new kh(t);e.dragPan=new xh(n,l,h),this.add("mousePan",l),this.add("touchPan",h,["touchZoom","touchRotate"]);var f=new Dh,p=new Bh;e.touchZoomRotate=new wh(n,p,f,a),this.add("touchRotate",f,["touchPan","touchZoom"]),this.add("touchZoom",p,["touchPan","touchRotate"]);var d=e.scrollZoom=new Eh(e,this);this.add("scrollZoom",d,["mousePan"]);var v=e.keyboard=new hh;this.add("keyboard",v),this.add("blockableMapEvent",new ql(e));for(var g=0,m=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<m.length;g++){var y=m[g];t.interactive&&t[y]&&e[y].enable(t[y])}}},{key:"add",value:function(t,e,n){this.handlers.push({handlerName:t,handler:e,allowed:n}),this.handlersById[t]=e}},{key:"blockedByActive",value:function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1}},{key:"getMapTouches",value:function(t){var e,n=[],r=A()(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.target;($t||this.el.contains(o))&&n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"applyChanges",value:function(){var t,e={},n={},r={},i=A()(this.changes);try{for(i.s();!(t=i.n()).done;){var o=Fe()(t.value,3),a=o[0],s=o[1],u=o[2];a.panDelta&&(e.panDelta=(e.panDelta||new xl(0,0))._add(a.panDelta)),a.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+a.zoomDelta),a.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+a.bearingDelta),a.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+a.pitchDelta),void 0!==a.around&&(e.around=a.around),void 0!==a.pinchAround&&(e.pinchAround=a.pinchAround),a.noInertia&&(e.noInertia=a.noInertia),(0,Be.merge)(n,s),(0,Be.merge)(r,u)}}catch(t){i.e(t)}finally{i.f()}this.updateMapTransform(e,n,r),this.changes=[]}},{key:"updateMapTransform",value:function(t,e,n){var r=this.map,i=r.transform;if(!jh(t))return this.fireEvents(e,n);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,u=t.pitchDelta,c=t.pinchAround,l=t.around;void 0!==c&&(l=c),r.stop(!0),l=l||r.transform.centerPoint;var h=i.pointLocation(o?l.sub(o):l);s&&this.rotateEnabled&&(i.bearing+=s),u&&this.pitchEnabled&&(i.pitch+=u),a&&(i.zoom+=a),i.setLocationAtPoint(h,l),this.map.update(),t.noInertia||this.inertia.record(t),this.fireEvents(e,n)}},{key:"fireEvents",value:function(t,e){var n=this,r=Uh(this.eventsInProgress),i=Uh(t),o={};for(var a in t)if(t[a]){var s=t[a].originalEvent;this.eventsInProgress[a]||(o["".concat(a,"start")]=s),this.eventsInProgress[a]=t[a]}for(var u in!r&&i&&this.fireEvent("movestart",i.originalEvent),o)o[u]&&this.fireEvent(u,o[u]);for(var c in t.rotate&&(this.bearingChanged=!0),i&&this.fireEvent("move",i.originalEvent),t)if(t[c]){var l=t[c].originalEvent;this.fireEvent(c,l)}var h,f={};for(var p in this.eventsInProgress)if(this.eventsInProgress[p]){var d=this.eventsInProgress[p],v=d.handlerName,g=d.originalEvent;this.handlersById[v].isActive()||(delete this.eventsInProgress[p],h=e[v]||g,f["".concat(p,"end")]=h)}for(var m in f)f[m]&&this.fireEvent(m,f[m]);var y=Uh(this.eventsInProgress);if((r||i)&&!y){this.updatingCamera=!0;var _=this.inertia.onMoveEnd(this.map.dragPan.inertiaOptions),E=function(t){return 0!==t&&-n.bearingSnap<t&&t<n.bearingSnap};_?(E(_.bearing||this.map.getBearing())&&(_.bearing=0),this.map.easeTo(_,{originalEvent:h})):(this.map.emit("moveend",new Nl("moveend",{originalEvent:h})),E(this.map.getBearing())&&this.map.resetNorth()),this.bearingChanged=!1,this.updatingCamera=!1}}},{key:"fireEvent",value:function(t,e){this.map.emit(t,new Nl(t,e?{originalEvent:e}:{}))}}]),t}(),Gh=zh,Vh=null,Hh=[],Xh=(te.performance,function(t){var e=t;if(null!=Vh){var n=e-Vh;Hh.push(n)}Vh=e}),Wh=function(){function t(){n()(this,t),this.queue=[],this.id=0,this.cleared=!1,this.currentlyRunning=!1}return a()(t,[{key:"add",value:function(t){var e=++this.id;return this.queue.push({callback:t,id:e,cancelled:!1}),e}},{key:"remove",value:function(t){var e,n=this.currentlyRunning,r=n?this.queue.concat(n):this.queue,i=A()(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(o.id===t)return void(o.cancelled=!0)}}catch(t){i.e(t)}finally{i.f()}}},{key:"run",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.currentlyRunning=this.queue;this.queue=[];var n,r=A()(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(t),this.cleared))break}}catch(t){r.e(t)}finally{r.f()}this.cleared=!1,this.currentlyRunning=!1}},{key:"clear",value:function(){this.currentlyRunning&&(this.cleared=!0),this.queue=[]}}]),t}(),Zh=Wh;!function(t,e){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".l7-map {\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  overflow: hidden;\n  position: relative;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.l7-canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.l7-map:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.l7-canary {\n  background-color: salmon;\n}\n\n.l7-canvas-container.l7-interactive,\n.l7-ctrl-group button.l7-ctrl-compass {\n  cursor: -webkit-grab;\n  cursor: grab;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.l7-canvas-container.l7-interactive.l7-track-pointer {\n  cursor: pointer;\n}\n\n.l7-canvas-container.l7-interactive:active,\n.l7-ctrl-group button.l7-ctrl-compass:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate,\n.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {\n  -ms-touch-action: pan-x pan-y;\n      touch-action: pan-x pan-y;\n}\n\n.l7-canvas-container.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: pinch-zoom;\n      touch-action: pinch-zoom;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.l7-ctrl-top-left,\n.l7-ctrl-top-right,\n.l7-ctrl-bottom-left,\n.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.l7-ctrl-top-left     { top: 0; left: 0; }\n.l7-ctrl-top-right    { top: 0; right: 0; }\n.l7-ctrl-bottom-left  { bottom: 0; left: 0; }\n.l7-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.l7-ctrl {\n  clear: both;\n  pointer-events: auto;\n\n  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }\n.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }\n.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }\n.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }\n\n\n.l7-crosshair,\n.l7-crosshair .l7-interactive,\n.l7-crosshair .l7-interactive:active {\n    cursor: crosshair;\n}\n\n.l7-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n    z-index: 10;\n}\n");var Yh={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0,pitchEnabled:!0,rotateEnabled:!0},qh=function(t){u()(r,t);var e=l()(r);function r(t){var i;return n()(this,r),i=e.call(this,(0,Be.merge)({},Yh,t)),g()(M()(i),"renderTaskQueue",new Zh),g()(M()(i),"trackResize",!0),g()(M()(i),"onWindowOnline",(function(){i.update()})),g()(M()(i),"onWindowResize",(function(t){i.trackResize&&i.resize({originalEvent:t}).update()})),i.initContainer(),i.resize(),i.handlers=new Gh(M()(i),i.options),"undefined"!=typeof window&&(window.addEventListener("online",i.onWindowOnline,!1),window.addEventListener("resize",i.onWindowResize,!1),window.addEventListener("orientationchange",i.onWindowResize,!1)),i}return a()(r,[{key:"resize",value:function(t){var e=this.containerDimensions(),n=e[0],r=e[1];this.transform.resize(n,r);var i=!this.moving;return i&&(this.stop(),this.emit("movestart",new Event("movestart",t)),this.emit("move",new Event("move",t))),this.emit("resize",new Event("resize",t)),i&&this.emit("moveend",new Event("moveend",t)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(t){return this.transform.locationPoint(El.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation(xl.convert(t))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(t){this.transform.setMaxBounds(bl.convert(t))}},{key:"setStyle",value:function(t){}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between ".concat(-2," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to ".concat(0));if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between ".concat(0," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to ".concat(60));if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(t){this.transform.renderWorldCopies=!!t}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(t){return this.update(),this.renderTaskQueue.add(t)}},{key:"cancelRenderFrame",value:function(t){return this.renderTaskQueue.remove(t)}},{key:"triggerRepaint",value:function(){var t=this;this.frame||(this.frame=yl((function(e){Xh(e),t.frame=null,t.update(e)})))}},{key:"update",value:function(t){var e=this;this.frame||(this.frame=yl((function(n){Xh(n),e.frame=null,e.renderTaskQueue.run(t)})))}},{key:"initContainer",value:function(){if("string"==typeof this.options.container){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else{if(!(this.options.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this.container=this.options.container}var t=this.container;t.classList.add("l7-map");var e=this.canvasContainer=Ue("div","l7-canvas-container",t);this.options.interactive&&e.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var t=0,e=0;return this.container&&(t=this.container.clientWidth||400,e=this.container.clientHeight||300),[t,e]}},{key:"resizeCanvas",value:function(t,e){var n=Ge||1;this.canvas.width=n*t,this.canvas.height=n*e,this.canvas.style.width="".concat(t,"px"),this.canvas.style.height="".concat(e,"px")}}]),r}(Ll),Kh=function(){function t(e){var r=this;n()(this,t),g()(this,"onHashChange",(function(){var t=r.getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(+t)}))){var e=r.map.dragRotate.isEnabled()&&r.map.touchZoomRotate.isEnabled()?+(t[3]||0):r.map.getBearing();return r.map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1})),g()(this,"getCurrentHash",(function(){var t,e=window.location.hash.replace("#","");return r.hashName?(e.split("&").map((function(t){return t.split("=")})).forEach((function(e){e[0]===r.hashName&&(t=e)})),(t&&t[1]||"").split("/")):e.split("/")})),g()(this,"updateHashUnthrottled",(function(){var t=r.getHashString();try{window.history.replaceState(window.history.state,"",t)}catch(t){}})),this.hashName=e&&encodeURIComponent(e),this.updateHash=(0,Be.throttle)(this.updateHashUnthrottled,300)}return a()(t,[{key:"addTo",value:function(t){return this.map=t,te.addEventListener("hashchange",this.onHashChange,!1),this.map.on("moveend",this.updateHash),this}},{key:"remove",value:function(){return te.removeEventListener("hashchange",this.onHashChange,!1),this.map.off("moveend",this.updateHash),delete this.map,this}},{key:"getHashString",value:function(t){var e=this.map.getCenter(),n=Math.round(100*this.map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this.map.getBearing(),u=this.map.getPitch(),c="";if(c+=t?"/".concat(o,"/").concat(a,"/").concat(n):"".concat(n,"/").concat(a,"/").concat(o),(s||u)&&(c+="/".concat(Math.round(10*s)/10)),u&&(c+="/".concat(Math.round(u))),this.hashName){var l=this.hashName,h=!1,f=window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===l?(h=!0,"".concat(e,"=").concat(c)):t})).filter((function(t){return t}));return h||f.push("".concat(l,"=").concat(c)),"#".concat(f.join("&"))}return"#".concat(c)}}]),t}(),Qh=Kh;!function(t,e){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".l7-map {\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  overflow: hidden;\n  position: relative;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.l7-canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.l7-map:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.l7-canary {\n  background-color: salmon;\n}\n\n.l7-canvas-container.l7-interactive,\n.l7-ctrl-group button.l7-ctrl-compass {\n  cursor: -webkit-grab;\n  cursor: grab;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.l7-canvas-container.l7-interactive.l7-track-pointer {\n  cursor: pointer;\n}\n\n.l7-canvas-container.l7-interactive:active,\n.l7-ctrl-group button.l7-ctrl-compass:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate,\n.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {\n  -ms-touch-action: pan-x pan-y;\n      touch-action: pan-x pan-y;\n}\n\n.l7-canvas-container.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: pinch-zoom;\n      touch-action: pinch-zoom;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.l7-ctrl-top-left,\n.l7-ctrl-top-right,\n.l7-ctrl-bottom-left,\n.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.l7-ctrl-top-left     { top: 0; left: 0; }\n.l7-ctrl-top-right    { top: 0; right: 0; }\n.l7-ctrl-bottom-left  { bottom: 0; left: 0; }\n.l7-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.l7-ctrl {\n  clear: both;\n  pointer-events: auto;\n\n  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }\n.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }\n.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }\n.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }\n\n\n.l7-crosshair,\n.l7-crosshair .l7-interactive,\n.l7-crosshair .l7-interactive:active {\n    cursor: crosshair;\n}\n\n.l7-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n    z-index: 10;\n}\n");var $h,Jh,tf,ef,nf,rf,of,af,sf,uf,cf,lf,hf,ff,pf={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0,pitchEnabled:!0,rotateEnabled:!0},df=function(t){u()(r,t);var e=l()(r);function r(t){var i;if(n()(this,r),i=e.call(this,(0,Be.merge)({},pf,t)),g()(M()(i),"renderTaskQueue",new Zh),g()(M()(i),"trackResize",!0),g()(M()(i),"onWindowOnline",(function(){i.update()})),g()(M()(i),"onWindowResize",(function(t){i.trackResize&&i.resize({originalEvent:t}).update()})),$t?i.initMiniContainer():i.initContainer(),i.resize(),i.handlers=new Gh(M()(i),i.options),"undefined"!=typeof window&&(window.addEventListener("online",i.onWindowOnline,!1),window.addEventListener("resize",i.onWindowResize,!1),window.addEventListener("orientationchange",i.onWindowResize,!1)),!$t){var o="string"==typeof t.hash&&t.hash||void 0;t.hash&&(i.hash=new Qh(o).addTo(M()(i)))}return i.hash&&i.hash.onHashChange()||(i.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(i.resize(),i.fitBounds(t.bounds,(0,Be.merge)({},t.fitBoundsOptions,{duration:0})))),i}return a()(r,[{key:"resize",value:function(t){var e=this.containerDimensions(),n=Fe()(e,2),r=n[0],i=n[1];if(this.transform.resize(r,i),$t)return this;var o=!this.moving;return o&&(this.stop(),this.emit("movestart",new te.Event("movestart",t)),this.emit("move",new te.Event("move",t))),this.emit("resize",new te.Event("resize",t)),o&&this.emit("moveend",new te.Event("moveend",t)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(t){return this.transform.locationPoint(El.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation(xl.convert(t))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(t){this.transform.setMaxBounds(bl.convert(t))}},{key:"setStyle",value:function(t){}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between ".concat(-2," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to ".concat(0));if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between ".concat(0," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to ".concat(60));if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(t){this.transform.renderWorldCopies=!!t}},{key:"remove",value:function(){this.container.removeChild(this.canvasContainer),this.canvasContainer=null,this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(t){return this.update(),this.renderTaskQueue.add(t)}},{key:"cancelRenderFrame",value:function(t){return this.renderTaskQueue.remove(t)}},{key:"triggerRepaint",value:function(){var t=this;this.frame||(this.frame=yl((function(e){Xh(e),t.frame=null,t.update(e)})))}},{key:"update",value:function(t){var e=this;this.frame||(this.frame=yl((function(n){Xh(n),e.frame=null,e.renderTaskQueue.run(t)})))}},{key:"initContainer",value:function(){if("string"==typeof this.options.container){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else{if(!(this.options.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this.container=this.options.container}var t=this.container;t.classList.add("l7-map");var e=this.canvasContainer=Ue("div","l7-canvas-container",t);this.options.interactive&&e.classList.add("l7-interactive")}},{key:"initMiniContainer",value:function(){this.container=this.options.canvas,this.canvasContainer=this.container}},{key:"containerDimensions",value:function(){var t=0,e=0;return this.container&&($t?(t=this.container.width/te.devicePixelRatio,e=this.container.height/te.devicePixelRatio):(t=0===(t=this.container.clientWidth)?400:t,e=0===(e=this.container.clientHeight)?300:e)),[t,e]}}]),r}(Ll),vf={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},gf={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},mf=($h=(0,b.b2)(),Jh=(0,b.f3)(T.MapConfig),tf=(0,b.f3)(T.IGlobalConfigService),ef=(0,b.f3)(T.ICoordinateSystemService),nf=(0,b.f3)(T.IEventEmitter),$h((of=function(){function t(){var e=this;n()(this,t),g()(this,"version",Fu.DEFUALT),g()(this,"simpleMapCoord",new Bu),g()(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),d()(this,"config",af,this),d()(this,"configService",sf,this),d()(this,"coordinateSystemService",uf,this),d()(this,"eventEmitter",cf,this),g()(this,"handleCameraChanged",(function(t){var n=e.map.getCenter(),r=n.lat,i=n.lng;e.emit("mapchange"),e.viewport.syncWithMapCamera({bearing:e.map.getBearing(),center:[i,r],viewportHeight:e.map.transform.height,pitch:e.map.getPitch(),viewportWidth:e.map.transform.width,zoom:e.map.getZoom(),cameraHeight:0}),e.updateCoordinateSystemService(),e.cameraChangedCallback(e.viewport)}))}return a()(t,[{key:"setBgColor",value:function(t){this.bgColor=t}},{key:"addMarkerContainer",value:function(){var t=this.map.getCanvasContainer();this.markerContainer=Ue("div","l7-marker-container",t),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"getOverlayContainer",value:function(){}},{key:"on",value:function(t,e){-1!==Fs.indexOf(t)?this.eventEmitter.on(t,e):this.map.on(gf[t]||t,e)}},{key:"off",value:function(t,e){this.map.off(gf[t]||t,e),this.eventEmitter.off(t,e)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){if(this.version===Fu.SIMPLE)return this.simpleMapCoord.getSize();var t=this.map.transform;return[t.width,t.height]}},{key:"getType",value:function(){return"default"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(t){return this.map.setZoom(t)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(t){this.map.setCenter(t)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(t){this.map.setBearing(t)}},{key:"zoomIn",value:function(t,e){this.map.zoomIn(t,e)}},{key:"zoomOut",value:function(t,e){this.map.zoomOut(t,e)}},{key:"setPitch",value:function(t){return this.map.setPitch(t)}},{key:"panTo",value:function(t){this.map.panTo(t)}},{key:"panBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.map.panBy([t,e])}},{key:"fitBounds",value:function(t,e){this.map.fitBounds(t,e)}},{key:"setMaxZoom",value:function(t){this.map.setMaxZoom(t)}},{key:"setMinZoom",value:function(t){this.map.setMinZoom(t)}},{key:"setMapStatus",value:function(t){!0===t.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===t.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===t.dragEnable&&this.map.dragPan.disable(),!0===t.dragEnable&&this.map.dragPan.enable(),!1===t.rotateEnable&&this.map.dragRotate.disable(),!0===t.dragEnable&&this.map.dragRotate.enable(),!1===t.keyboardEnable&&this.map.keyboard.disable(),!0===t.keyboardEnable&&this.map.keyboard.enable(),!1===t.zoomEnable&&this.map.scrollZoom.disable(),!0===t.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(t,e){this.map.flyTo({zoom:t,center:e})}},{key:"setMapStyle",value:function(t){this.map.setStyle(this.getMapStyleValue(t))}},{key:"meterToCoord",value:function(t,e){return 1}},{key:"pixelToLngLat",value:function(t){return this.map.unproject(t)}},{key:"lngLatToPixel",value:function(t){return this.map.project(t)}},{key:"containerToLngLat",value:function(t){return this.map.unproject(t)}},{key:"lngLatToContainer",value:function(t){return this.map.project(t)}},{key:"getMapStyle",value:function(){try{var t,e=null!==(t=this.map.getStyle().sprite)&&void 0!==t?t:"";return/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(e)?null==e?void 0:e.replace(/\/\w+$/,"").replace(/sprites/,"styles"):e}catch(t){return""}}},{key:"getMapStyleConfig",value:function(){return vf}},{key:"getMapStyleValue",value:function(t){var e;return null!==(e=this.getMapStyleConfig()[t])&&void 0!==e?e:t}},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).emit.apply(e,[t].concat(r))}},{key:"once",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).once.apply(e,[t].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(t){var e=this.map.getCanvas();return"jpg"===t?null==e?void 0:e.toDataURL("image/jpeg"):null==e?void 0:e.toDataURL("image/png")}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"creatMapContainer",value:function(t){var e=t;return"string"==typeof t&&(e=document.getElementById(t)),e}},{key:"updateView",value:function(t){this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:t.bearing,center:t.center,viewportHeight:t.viewportHeight,pitch:t.pitch,viewportWidth:t.viewportWidth,zoom:t.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}},{key:"updateCoordinateSystemService",value:function(){var t=this.config.offsetCoordinate,e=void 0===t||t;this.viewport.getZoom()>12&&e?this.coordinateSystemService.setCoordinateSystem(Ei.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(Ei.LNGLAT)}}]),t}(),af=y()(of.prototype,"config",[Jh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=y()(of.prototype,"configService",[tf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uf=y()(of.prototype,"coordinateSystemService",[ef],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cf=y()(of.prototype,"eventEmitter",[nf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf=of))||rf),yf=function(){function t(){n()(this,t),g()(this,"xzReg",.6*-Math.PI),g()(this,"yReg",.2*Math.PI),g()(this,"earthCameraRadius",200),g()(this,"earthCameraZoom",1),g()(this,"cameraPosition",zs()),g()(this,"projectionMatrix",Nr()),g()(this,"modelMatrix",Nr()),g()(this,"viewMatrix",Nr()),g()(this,"viewProjectionMatrix",Nr()),g()(this,"ViewProjectionMatrixUncentered",Nr()),g()(this,"viewUncenteredMatrix",Nr())}return a()(t,[{key:"syncWithMapCamera",value:function(t){var e=t.viewportHeight,n=void 0===e?1:e,r=t.viewportWidth,i=(void 0===r?1:r)/n;Vr(this.projectionMatrix,20,i,.1,1e4);var o=this.earthCameraRadius*Math.cos(this.xzReg),a=this.earthCameraRadius*Math.sin(this.xzReg),s=this.earthCameraRadius*Math.sin(this.yReg);this.cameraPosition=Hs(o,s,a),cu(this.cameraPosition,this.cameraPosition),qs(this.cameraPosition,this.cameraPosition,Hs(this.earthCameraRadius,this.earthCameraRadius,this.earthCameraRadius)),nu(this.cameraPosition,this.cameraPosition,this.earthCameraZoom);var u=zs();hu(u,this.cameraPosition,Hs(0,1,0));var c=Hs(0,1,0);hu(c,u,this.cameraPosition);var l=Hs(0,0,0);Hr(this.viewMatrix,this.cameraPosition,l,c),this.viewUncenteredMatrix=Lr(this.viewMatrix),Fr(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),Fr(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"rotateY",value:function(t){this.xzReg+=t*Math.min(this.earthCameraZoom*this.earthCameraZoom,1)}},{key:"rotateX",value:function(t){this.yReg+=t*Math.min(this.earthCameraZoom*this.earthCameraZoom,1)}},{key:"scaleZoom",value:function(t){this.earthCameraZoom+=t,this.earthCameraZoom=Math.max(this.earthCameraZoom,.6)}},{key:"getZoom",value:function(){return 4}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[0,0]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return this.modelMatrix}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t,e){return this.viewport.projectFlat(t,e)}}]),t}(),_f=["id","style","rotation"],Ef={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},bf=(0,b.b2)()(lf=function(t){u()(i,t);var e,r=l()(i);function i(){var t;n()(this,i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=r.call.apply(r,[this].concat(o)),g()(M()(t),"version",Fu.GLOBEL),g()(M()(t),"dragging",!1),g()(M()(t),"handleCameraChanged",(function(e){t.emit("mapchange");t.handleCameraChanging=!0,t.handleCameraTimer&&clearTimeout(t.handleCameraTimer),t.handleCameraTimer=setTimeout((function(){t.handleCameraChanging=!1}),2e3);var n=.02;e.type&&e.originalEvent&&("wheel"===e.originalEvent.type&&t.viewport.scaleZoom(.01*Math.sign(e.originalEvent.wheelDelta)*-1),Math.abs(e.originalEvent.movementX)>Math.abs(e.originalEvent.movementY)?e.originalEvent.movementX>0?t.viewport.rotateY(n):e.originalEvent.movementX<0&&t.viewport.rotateY(-.02):e.originalEvent.movementY>0?t.viewport.rotateX(n):e.originalEvent.movementY<0&&t.viewport.rotateX(-.02));var r=t.config.offsetCoordinate,i=void 0===r||r;t.viewport.syncWithMapCamera({viewportHeight:t.map.transform.height,viewportWidth:t.map.transform.width}),t.viewport.getZoom()>12&&i?t.coordinateSystemService.setCoordinateSystem(Ei.LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(Ei.LNGLAT),t.cameraChangedCallback(t.viewport)})),t}return a()(i,[{key:"lngLatToMercator",value:function(t,e){throw new Error("Method not implemented.")}},{key:"getModelMatrix",value:function(t,e,n,r,i){throw new Error("Method not implemented.")}},{key:"on",value:function(t,e){-1!==Fs.indexOf(t)?this.eventEmitter.on(t,e):this.map.on(Ef[t]||t,e)}},{key:"off",value:function(t,e){this.map.off(Ef[t]||t,e),this.eventEmitter.off(t,e)}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var t=this.map.transform;return[t.width,t.height]}},{key:"getType",value:function(){return"earth"}},{key:"init",value:(e=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config,n=e.id,r=void 0===n?"map":n,i=e.style,o=void 0===i?"light":i,a=e.rotation,s=void 0===a?0:a,u=oo()(e,_f),this.viewport=new yf,this.$mapContainer=this.creatMapContainer(r),this.map=new qh(f()({container:this.$mapContainer,style:this.getMapStyleValue(o),bearing:s},u)),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged({});case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){var t,e;null===(t=this.$mapContainer)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).emit.apply(e,[t].concat(r))}},{key:"once",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).once.apply(e,[t].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"rotateY",value:function(t){var e=t||{},n=e.force,r=void 0!==n&&n,i=e.reg,o=void 0===i?.01:i;this.handleCameraChanging&&!r||this.viewport&&(this.viewport.rotateY(o),this.viewport.syncWithMapCamera({viewportHeight:this.map.transform.height,viewportWidth:this.map.transform.width}),this.cameraChangedCallback(this.viewport))}}]),i}(mf))||lf,xf=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getServiceConstructor",value:function(){return bf}}]),r}(Bs),Tf=["id","style","rotation","mapInstance","version","mapSize","interactive"],wf=["id","style","rotation","mapInstance","canvas","hasBaseMap"],Af=(0,b.b2)()(hf=function(t){u()(o,t);var e,r,i=l()(o);function o(){var t;n()(this,o);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r)),g()(M()(t),"version",Fu.DEFUALT),g()(M()(t),"handleMiniCameraChanged",(function(e,n,r,i,o){var a=t.config.offsetCoordinate,s=void 0===a||a;t.viewport.syncWithMapCamera({bearing:i,center:[e,n],viewportHeight:t.map.transform.height,pitch:o,viewportWidth:t.map.transform.width,zoom:r,cameraHeight:0}),t.viewport.getZoom()>12&&s?t.coordinateSystemService.setCoordinateSystem(Ei.LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(Ei.LNGLAT),t.cameraChangedCallback(t.viewport)})),t}return a()(o,[{key:"lngLatToCoord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0},n=this.lngLatToMercator(t,0),r=n.x,i=n.y;return[r-e.x,i-e.y]}},{key:"lngLatToMercator",value:function(t,e){var n=kl.fromLngLat(t,e),r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,s=n.z;return{x:i,y:a,z:void 0===s?0:s}}},{key:"getModelMatrix",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},o=kl.fromLngLat(t,e),a=o.meterInMercatorCoordinateUnits(),s=Nr();return Br(s,s,Hs(o.x-i.x,o.y-i.y,o.z||0-i.z)),Ur(s,s,Hs(a*r[0],-a*r[1],a*r[2])),jr(s,s,n[0]),zr(s,s,n[1]),Gr(s,s,n[2]),s}},{key:"init",value:(r=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,p,d,v,g,m=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config,n=e.id,r=void 0===n?"map":n,i=e.style,o=void 0===i?"light":i,a=e.rotation,s=void 0===a?0:a,u=e.mapInstance,c=e.version,l=void 0===c?"DEFAULTMAP":c,h=e.mapSize,p=void 0===h?1e4:h,d=e.interactive,v=void 0===d||d,g=oo()(e,Tf),this.viewport=new Mc,this.version=l,this.simpleMapCoord.setSize(p),l===Fu.SIMPLE&&g.center&&(g.center=this.simpleMapCoord.unproject(g.center)),u?(this.map=u,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatMapContainer(r),this.map=new df(f()({container:this.$mapContainer,style:this.getMapStyleValue(o),bearing:s},g))),this.map.on("load",(function(){m.handleCameraChanged()})),v&&this.map.on("move",this.handleCameraChanged),setTimeout((function(){m.handleCameraChanged()}),100),this.handleCameraChanged();case 10:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"initMiniMap",value:(e=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,p=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config,e.id,n=e.style,r=void 0===n?"light":n,i=e.rotation,o=void 0===i?0:i,e.mapInstance,a=e.canvas,s=void 0===a?null:a,u=e.hasBaseMap,c=void 0!==u&&u,l=oo()(e,wf),this.viewport=new Mc,this.$mapContainer=s,this.map=new df(f()({container:this.$mapContainer,style:this.getMapStyleValue(r),bearing:o,canvas:s},l)),c?(h=this.map.getCenter(),this.handleMiniCameraChanged(h.lng,h.lat,this.map.getZoom(),this.map.getBearing(),this.map.getPitch()),te.document.addEventListener("mapCameaParams",(function(t){var e=t.e,n=e.longitude,r=e.latitude,i=e.scale,o=e.bearing,a=e.pitch;p.handleMiniCameraChanged(n,r,i-1.25,o,a)}))):(this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged());case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"exportMap",value:function(t){var e=this.map.getCanvas();return"jpg"===t?null==e?void 0:e.toDataURL("image/jpeg"):null==e?void 0:e.toDataURL("image/png")}}]),o}(mf))||hf,Sf=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getServiceConstructor",value:function(){return Af}}]),r}(Bs),Mf=r(6640),Cf=r.n(Mf),Rf=function(){function t(){n()(this,t)}return a()(t,[{key:"syncWithMapCamera",value:function(t){var e=t.center,n=t.zoom,r=t.pitch,i=t.bearing,o=t.viewportHeight,a=t.viewportWidth;this.viewport=new Sc({width:a,height:o,longitude:e&&e[0],latitude:e&&e[1],zoom:n,pitch:r,bearing:i})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t,e){return this.viewport.projectFlat(t,e)}}]),t}(),kf=["id","attributionControl","style","token","rotation","mapInstance"];!function(t,e){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=Cf();var If=0,Pf="101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg",Of=(0,b.b2)()(ff=function(t){u()(i,t);var e,r=l()(i);function i(){var t;n()(this,i);for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=r.call.apply(r,[this].concat(o)),g()(M()(t),"version",Fu.MAPBOX),t}return a()(i,[{key:"getType",value:function(){return"mapbox"}},{key:"lngLatToCoord",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0},n=this.lngLatToMercator(t,0),r=n.x,i=n.y;return[r-e.x,i-e.y]}},{key:"lngLatToMercator",value:function(t,e){var n=window.mapboxgl.MercatorCoordinate.fromLngLat(t,e),r=n.x,i=void 0===r?0:r,o=n.y,a=void 0===o?0:o,s=n.z;return{x:i,y:a,z:void 0===s?0:s}}},{key:"getModelMatrix",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},o=window.mapboxgl.MercatorCoordinate.fromLngLat(t,e),a=o.meterInMercatorCoordinateUnits(),s=Nr();return Br(s,s,Hs(o.x-i.x,o.y-i.y,o.z||0-i.z)),Ur(s,s,Hs(a*r[0],-a*r[1],a*r[2])),jr(s,s,n[0]),zr(s,s,n[1]),Gr(s,s,n[2]),s}},{key:"init",value:(e=Je()(Qe()().mark((function t(){var e,n,r,i,o,a,s,u,c,l,h,p,d,v=this;return Qe()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.config,n=e.id,r=void 0===n?"map":n,i=e.attributionControl,o=void 0!==i&&i,a=e.style,s=void 0===a?"light":a,u=e.token,c=void 0===u?Pf:u,l=e.rotation,h=void 0===l?0:l,p=e.mapInstance,d=oo()(e,kf),this.viewport=new Rf,p||window.mapboxgl||console.error(this.configService.getSceneWarninfo("SDK")),c!==Pf||"blank"===s||window.mapboxgl.accessToken||p||console.warn(this.configService.getSceneWarninfo("MapToken")),p||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=c),p?(this.map=p,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatMapContainer(r),this.map=new window.mapboxgl.Map(f()({container:this.$mapContainer,style:this.getMapStyleValue(s),attributionControl:o,bearing:h},d))),this.map.on("load",(function(){v.handleCameraChanged()})),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){var t,e;null===(t=this.$mapContainer)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).emit.apply(e,[t].concat(r))}},{key:"once",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.eventEmitter).once.apply(e,[t].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"meterToCoord",value:function(t,e){var n=new(Cf().LngLat)(t[0],t[1]),r=new(Cf().LngLat)(e[0],e[1]),i=n.distanceTo(r),o=Cf().MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),a=Cf().MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),s=o.x,u=o.y,c=a.x,l=a.y;return 4194304*Math.sqrt(Math.pow(s-c,2)+Math.pow(u-l,2))*2/i}},{key:"exportMap",value:function(t){var e=this.map.getCanvas();return"jpg"===t?null==e?void 0:e.toDataURL("image/jpeg"):null==e?void 0:e.toDataURL("image/png")}},{key:"creatMapContainer",value:function(t){var e=t;"string"==typeof t&&(e=document.getElementById(t));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_mapbox_div"+If++,e.appendChild(n),n}}]),i}(mf))||ff;!function(t,e){var n="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,r="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);if(!n&&!r&&(e||(e=document),e)){var i=e.head||e.getElementsByTagName("head")[0];if(!i){i=e.createElement("head");var o=e.body||e.getElementsByTagName("body")[0];o?o.parentNode.insertBefore(i,o):e.documentElement.appendChild(i)}var a=e.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(e.createTextNode(t)),i.appendChild(a)}}(".mapboxgl-ctrl-logo {\n display: none !important;\n}\n");var Nf=function(t){u()(r,t);var e=l()(r);function r(){return n()(this,r),e.apply(this,arguments)}return a()(r,[{key:"getServiceConstructor",value:function(){return Of}}]),r}(Bs)}(),i}()}));