import { useEffect, useState, useCallback, useMemo } from 'react';
import { Export } from '@antv/x6-plugin-export';
import { useGraph } from '../graph';
export const useFormat = (formatOptions) => {
    const [options, setOptions] = useState();
    const graph = useGraph();
    const initFormat = useCallback(() => {
        if (graph) {
            const format = new Export();
            format.init(graph);
            graph.use(format);
            return format;
        }
    }, [graph]);
    useEffect(() => {
        if (formatOptions) {
            setOptions(formatOptions);
        }
    }, [formatOptions]);
    return useMemo(() => {
        if (graph) {
            const graphFormat = graph.getPlugin(Export.name) || initFormat();
            return (graphFormat && {
                exportPng: (fileName) => graphFormat.exportPNG(fileName, options),
                exportJPEG: (fileName) => graphFormat.exportJPEG(fileName, options),
            });
        }
    }, [graph, options, initFormat]);
};
//# sourceMappingURL=index.js.map